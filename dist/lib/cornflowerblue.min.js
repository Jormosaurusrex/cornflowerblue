/*! Cornflower Blue - v0.1.1 - 2020-03-24
* http://www.gaijin.com/cornflowerblue/
* Copyright (c) 2020 Brandon Harris; Licensed MIT */

class CFBUtils{static closeOpen(){clearTimeout(ToolTip.timer),ToolTip.activeTooltip&&(clearTimeout(ToolTip.activeTooltip.timer),ToolTip.activeTooltip.close()),SelectMenu.activeMenu&&SelectMenu.activeMenu.close(),ButtonMenu.activeMenu&&ButtonMenu.activeMenu.close()}static setTimeZone(t,e,i="en-US"){let n=new Date(t.toLocaleString(i,{timeZone:e})),s=t.getTime()-n.getTime();return new Date(t.getTime()+s)}static getCookie(t){return`; ${document.cookie}`.split(`; ${t}=`).pop().split(";").shift()}static getAllURLParams(t){let e=t?t.split("?")[1]:window.location.search.slice(1),i={};if(e){let t=(e=e.split("#")[0]).split("&");for(let e=0;e<t.length;e++){let n=t[e].split("="),s=n[0],a=void 0===n[1]||n[1];if(s=s.toLowerCase(),"string"==typeof a&&(a=a.toLowerCase()),s.match(/\[(\d+)?\]$/)){let t=s.replace(/\[(\d+)?\]/,"");if(i[t]||(i[t]=[]),s.match(/\[\d+\]$/)){let e=/\[(\d+)\]/.exec(s)[1];i[t][e]=a}else i[t].push(a)}else i[s]?i[s]&&"string"==typeof i[s]?(i[s]=[i[s]],i[s].push(a)):i[s].push(a):i[s]=a}}return i}static getConfig(t){let e=Object.keys(t.config).sort(function(t,e){let i=t.toLowerCase(),n=e.toLowerCase();return i===n?0:i>n?1:-1}),i=[];for(let n of e)"function"==typeof t[n]?i.push(`\t ${n} : function(...) { ... }`):Array.isArray(t[n])?i.push(`\t ${n} : [${t[n]}]`):"string"==typeof t[n]?i.push(`\t ${n} : "${t[n]}"`):i.push(`\t ${n} : ${t[n]}`);let n=t.constructor.name+" {\n";return n+=i.join(",\n"),n+="\n}\n"}static prettyPrintConfig(t){let e=Object.keys(t.config).sort(function(t,e){let i=t.toLowerCase(),n=e.toLowerCase();return i===n?0:i>n?1:-1}),i=[];for(let n of e){let e="";if("id"===n||"name"===n)e=`    <span class="key">${n}</span> : <span class="value">&lt;string&gt;</span>`;else if("function"==typeof t[n])e=`    <span class="key">${n}</span> : function(...) { ... }`;else if(Array.isArray(t[n])){if(e=`    <span class="key">${n}</span> : [`,null!==t[n]&&t[n].length>0){let i=[];for(let e of t[n])"string"==typeof e?i.push(`"<span class="value">${e}</span>"`):i.push(`<span class="value">${e}</span>`);e+=i.join(", ")}e+="]"}else e="string"==typeof t[n]?`    <span class="key">${n}</span> : "<span class="value">${t[n]}</span>"`:`    <span class="key">${n}</span> : <span class="value">${t[n]}</span>`;Array.isArray(t[n])&&CFBUtils.arrayEquals(t[n],t.constructor.DEFAULT_CONFIG[n])?e=`<span class="default">${e}</span>`:t[n]===t.constructor.DEFAULT_CONFIG[n]&&(e=`<span class="default">${e}</span>`),i.push(e)}let n=t.constructor.name+" {\n";return n+=i.join(",\n"),n+="\n}\n"}static arrayEquals(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;t.sort(function(t,e){let i=t.toLowerCase(),n=e.toLowerCase();return i===n?0:i>n?1:-1}),e.sort(function(t,e){let i=t.toLowerCase(),n=e.toLowerCase();return i===n?0:i>n?1:-1});for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static getSingleEmInPixels(){let t=0,e=200,i=Math.round((e-t)/2)+t,n=0;for(;e-t>1;){if(n+=1,window.matchMedia(`(min-width: ${i}em)`).matches?t=i:e=i,i=Math.round((e-t)/2)+t,n>10)break}return Math.ceil(window.innerWidth/i)}static supportsCrypto(){return window.crypto&&crypto.subtle&&window.TextEncoder}static hash(t,e){return crypto.subtle.digest(t,(new TextEncoder).encode(e))}static hex(t){return[].map.call(new Uint8Array(t),t=>("00"+t.toString(16)).slice(-2)).join("")}static encode64(t){return btoa(new Uint8Array(t).reduce((t,e)=>t+String.fromCharCode(e),""))}static async sha256(t){const e=new TextEncoder("utf-8").encode(t),i=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(i)).map(t=>("00"+t.toString(16)).slice(-2)).join("")}static async sha256Encrypt(t,e){const i=new TextEncoder("utf-8").encode(t),n=await crypto.subtle.encrypt("SHA-256",e,i);return Array.from(new Uint8Array(n)).map(t=>("00"+t.toString(16)).slice(-2)).join("")}static readableNumber(t){return null===t||void 0===t?null:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}static formatMoney(t,e,i,n,s){e=isNaN(e=Math.abs(e))?2:e,n=void 0===n?".":n,i=void 0===i?",":i,s=void 0===s?"$":s;let a,o,r=t;return(r<0?"-":"")+s+((o=(o=(a=parseInt(r=Math.abs(+r||0).toFixed(e))+"").length)>3?o%3:0)?a.substr(0,o)+i:"")+a.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?n+Math.abs(r-a).toFixed(e).slice(2):"")}static randomNumber(t=100){return Math.floor(1+Math.random()*t)}static coinFlip(){return 0===Math.floor(2*Math.random())}static dieRoll(t=6){return Math.floor(Math.random()*t)+1}static getUniqueKey(t=30){let e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";for(let n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}static isAndroid(){return navigator.userAgent.match(/Android/i)}static isBlackBerry(){return navigator.userAgent.match(/BlackBerry/i)}static isIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}static isIPhone(){return navigator.userAgent.match(/iPhone|iPod/i)}static isIPad(){return navigator.userAgent.match(/iPad/i)}static isOperaMobile(){return navigator.userAgent.match(/Opera Mini/i)}static isWindowsMobile(){return navigator.userAgent.match(/IEMobile/i)}static isMobile(){return this.isAndroid()||this.isBlackBerry()||this.isIOS()||this.isOperaMobile()||this.isWindowsMobile()}}window.CFBUtils=CFBUtils;class TextFactory{static get _libraryBase(){return{actions:"Actions",apply_filters:"Apply Filters",bulk_select:"Bulk select",cancel:"Cancel",caution:"Caution",change_password:"Change Password",close:"Close",columns:"Columns",configure_columns:"Configure Columns",configure_generator:"Configure generator",confirm_password:"Confirm Password",countrymenu_select:"Select country",current_password:"Current Password","datagrid-dialog-item-save":"Save $1","datagrid-dialog-item-view":"View $1","datagrid-dialog-item-create":"Create $1","datagrid-dialog-item-duplicate":"Duplicate $1","datagrid-dialog-item-edit":"Edit $1","datagrid-dialog-item-delete":"Delete $1","datagrid-dialog-item-edit-instructions":"Edit this $1 using the form below.","datagrid-dialog-item-create-instructions":"Fill out the form below to create a new $1.","datagrid-dialog-item-delete-instructions":"Are you sure you want to delete this $1?","datagrid-dialog-item-duplicate-instructions":"The $1 has been duplicated. Saving it will create a new instance with these values.","datagrid-tooltip-export":"Export all data in this grid as a comma separated value file.","datagrid-tooltip-export-current_view":"Export the data in the current view as a comma separated value file.","datagrid-tooltip-configure_columns":"Configure the visibility of individual columns.","datagrid-tooltip-bulk_select":"Show bulk selection controls.","datagrid-tooltip-filters":"Add, remove, or edit view filters.","datagrid-activitynotifier-text":"Working...","datagrid-column-config-instructions":"Select which columns to show in the grid. This does not hide the columns during export.","datagrid-filter-instructions":"Columns that are filterable are shown below. Set the value of the column to filter it.","datagrid-message-no_visible_columns":"No columns are visible in this table.","dateinput-error-invalid":"This is an invalid date.","datagrid-spinnertext":"Loading","dateinput-trigger-arialabel":"Open date picker",decrement_number:"Decrement number","emailinput-placeholder-default":"person@myemailaccount.net","emailinput-error-invalid_web_address":"This is an invalid email address.",error:"Error",export:"Export","export-current_view":"Export current view","fileinput-placeholder-file":"Select file","fileinput-placeholder-multiple":"Select files (multiple accepted)","filter-configurator-add_filter":"Add filter","comparator-contains":"Contains","comparator-notcontains":"Does not contain","comparator-equals":"Equals","comparator-doesnotequal":"Does not equal","comparator-isbefore":"Is before","comparator-isafter":"Is after","comparator-greaterthan":"Is greater than","comparator-lessthan":"Is less than","comparator-startswith":"Starts with","comparator-endswith":"Ends with","comparator-select_field":"Select field","comparator-comparator":"Comparator",filters:"Filters",generate_password:"Generate password",help:"Help",hide_password:"Hide password",increment_number:"Increment number","input-counter-limit":"$1 of $2 characters entered","input-counter-sky":"$1 characters entered","input-counter-remaining":"$1 characters remaining","input-error-required":"This field is required",items_label:"Items:",lowercase:"Lowercase",manage_filters:"Manage Filters",matches_hidden_columns:"Your search matches data in hidden columns.",new_password:"New Password",no_columns:"No columns",no_provided_content:"No provided content",no_results:"No results",not_set:"(Not Set)","numberinput-error-maximum_value":"The maximum value for this field is '$1'.","numberinput-error-minimum_value":"The minimum value for this field is '$1'.","numberinput-error-must_be_whole_numbers":"Values must be whole numbers.","numberinput-error-nan":"This is not a number.","numberinput-error-values_divisible":"Values must be divisible by $1","numberinput-placeholder-basic":"Enter a number","numberinput-placeholder-between_x_y":"Enter a number between $1 and $2","numberinput-placeholder-fragment_increments":" (increments of $1)","numberinput-placeholder-larger_than_x":"Enter a number larger than $1","numberinput-placeholder-smaller_than_y":"Enter a number smaller than $1",numbers:"Numbers",open_menu:"Open menu","passwordchanger-currentpw-help":"This is your current password. We need to confirm that you are who you are.","passwordchanger-currentpw-placeholder":"Your current password","passwordchanger-error-cannot_be_used_as_pw":"This cannot be used as a password.","passwordchanger-error-passwords_must_match":"Passwords must match.","passwordchanger-form-instructions":"Change your password here.","passwordchanger-placeholder-minlength":"Must be at least $1 characters","passwordchanger-placeholder-suggested":"Should be at least $1 characters","passwordchanger-results-changed_successfully":"Your password has been changed successfully!","passwordchanger-error-maxlength":"Password must be less than $1 characters.","passwordchanger-error-minlength":"Password must be at least $1 characters.","passwordchanger-error-suggestedlength":"Password is less than the suggested length of $1 characters.","passwordinput-change_visibility":"Toggle value visibility.",primary:"Primary",punctuation:"Punctuation",required_lc:"required",save:"Save",save_changes:"Save changes",cancel_changes:"Cancel changes",make_changes:"Make changes",save_columns:"Save columns",search:"Search",search_noresults:"No entries were found matching your search terms.",search_this_data:"Search this data","searchcontrol-instructions":"Enter search terms","selectmenu-placeholder-default":"Select value",show_password:"Show password","simpleform-spinnertext":"Please wait",skip_to_content:"Skip to content",statemenu_select:"Select state or province",success:"Success",timezone_select:"Select timezone",toggle_menu:"Toggle menu",uppercase:"Uppercase","urlinput-placeholder-default":"https://somewhere.cornflower.blue/","urlinput-error-invalid_web_address":"This is an invalid web address.",warning:"Warning"}}static get(){if(!arguments)return null;if(arguments.length>1){let t=TextFactory.library[arguments[0]];for(let e=1;e<=arguments.length;e++)t=t.replace(`$${e}`,arguments[e]);return t}return TextFactory.library[arguments[0]]?TextFactory.library[arguments[0]]:(console.error(`Text key not found: ${arguments[0]}`),arguments[0])}static load(t){t?fetch(t,{headers:{"Content-Type":"application/json; charset=utf-8"}}).then(t=>t.json()).then(t=>{TextFactory.library=Object.assign({},TextFactory.library,t)}).catch(e=>{console.error(`Error while fetching data from ${t}`),console.error(e)}):console.error("TextFactory.load() called without a URL")}static get library(){return void 0===TextFactory._library&&(TextFactory.library=TextFactory._libraryBase),TextFactory._library}static set library(t){TextFactory._library=t}}window.TextFactory=TextFactory;class IconFactory{static get LIST(){return["arrow-down-circle","arrow-up","download","map","arrow-right","upload","arrow-left","arrow-down-circle-1","calendar","trashcan","tag","legend","echx","arrow-down","clock","chat","check-circle-disc","checkmark-circle","chevron-down","checkmark","chevron-left","chevron-right","chevron-up","double-triangle-vertical","heart","no","double-triangle-horizontal","arrow-left-circle","echx-circle","echx-1","spinner-circle","circle-disc-chopped","circle","disc-chopped","gear-complex","gear","globe","help-circle","lightbulb","lock-open","magnify","menu","question","star","user-circle","user","exclaim","shape-hex","shape-rounded-triangle","warn-circle","warn-hex","warn-triangle","eye-slash","microphone-slash","minimize","eye","disc-check","minus-circle","minus","popout","plus","plus-circle","pencil","pencil-circle","refresh","speaker-high","speaker-low","printer","speaker-medium","microphone","speaker-mute","lock-closed","image","folder","document","speaker-slash","triangle-down-small","triangle-down","triangle-left-small","triangle-left","triangle-right-small","triangle-up","triangle-up-small","triangle-right","arrow-right-circle","arrow-up-circle","triangle-down-circle","triangle-left-circle","triangle-right-circle","triangle-up-circle","flag-notched","flag-pointed","flag-rectangle","flag-notched-angle","flag-pointed-angle","flag-rectangle-angle","filter","table","duplicate","dots-horizontal","dots-vertical"]}static icon(t,e){if(t instanceof Object)return t;let i=document.createElement("span");return i.classList.add("icon"),i.classList.add(`cfb-${t}`),e?i.setAttribute("aria-label",e):i.setAttribute("aria-hidden","true"),i}static xicon(t,e){if(t instanceof Object)return t;let i=document.createElement("span");if(i.classList.add("icon"),Array.isArray(t))for(let e of t)i.classList.add(e);else i.classList.add(t);return e?i.setAttribute("aria-label",e):i.setAttribute("aria-hidden","true"),i}}window.IconFactory=IconFactory;class StateProvince{static get STATEMAP(){return{AL:{id:"AL",name:"Alabama",country:"US"},AK:{id:"AK",name:"Alaska",country:"US"},AZ:{id:"AZ",name:"Arizona",country:"US"},AR:{id:"AR",name:"Arkansas",country:"US"},CA:{id:"CA",name:"California",country:"US"},CO:{id:"CO",name:"Colorado",country:"US"},CT:{id:"CT",name:"Connecticut",country:"US"},DC:{id:"DC",name:"District of Columbia",country:"US",alt:["Washington DC","Washington D.C."]},DE:{id:"DE",name:"Delaware",country:"US"},FL:{id:"FL",name:"Florida",country:"US"},GA:{id:"GA",name:"Georgia",country:"US"},HI:{id:"HI",name:"Hawaii",country:"US"},ID:{id:"ID",name:"Idaho",country:"US"},IL:{id:"IL",name:"Illinois",country:"US"},IN:{id:"IN",name:"Indiana",country:"US"},IA:{id:"IA",name:"Iowa",country:"US"},KS:{id:"KS",name:"Kansas",country:"US"},KY:{id:"KY",name:"Kentucky",country:"US"},LA:{id:"LA",name:"Louisiana",country:"US"},ME:{id:"ME",name:"Maine",country:"US"},MD:{id:"MD",name:"Maryland",country:"US"},MA:{id:"MA",name:"Massachusetts",country:"US"},MI:{id:"MI",name:"Michigan",country:"US"},MN:{id:"MN",name:"Minnesota",country:"US"},MS:{id:"MS",name:"Mississippi",country:"US"},MO:{id:"MO",name:"Missouri",country:"US"},MT:{id:"MT",name:"Montana",country:"US"},NE:{id:"NE",name:"Nebraska",country:"US"},NV:{id:"NV",name:"Nevada",country:"US"},NH:{id:"NH",name:"New Hampshire",country:"US"},NJ:{id:"NJ",name:"New Jersey",country:"US"},NM:{id:"NM",name:"New Mexico",country:"US"},NY:{id:"NY",name:"New York",country:"US"},NC:{id:"NC",name:"North Carolina",country:"US"},ND:{id:"ND",name:"North Dakota",country:"US"},OH:{id:"OH",name:"Ohio",country:"US"},OK:{id:"OK",name:"Oklahoma",country:"US"},OR:{id:"OR",name:"Oregon",country:"US"},PA:{id:"PA",name:"Pennsylvania",country:"US"},RI:{id:"RI",name:"Rhode Island",country:"US"},SC:{id:"SC",name:"South Carolina",country:"US"},SD:{id:"SD",name:"South Dakota",country:"US"},TN:{id:"TN",name:"Tennessee",country:"US"},TX:{id:"TX",name:"Texas",country:"US"},UT:{id:"UT",name:"Utah",country:"US"},VT:{id:"VT",name:"Vermont",country:"US"},VA:{id:"VA",name:"Virginia",country:"US"},WA:{id:"WA",name:"Washington",country:"US"},WV:{id:"WV",name:"West Virginia",country:"US"},WI:{id:"WI",name:"Wisconsin",country:"US"},WY:{id:"WY",name:"Wyoming",country:"US"},AS:{id:"AS",name:"American Samoa",country:"US"},GU:{id:"GU",name:"Guam",country:"US"},MP:{id:"MP",name:"Northern Mariana Islands",country:"US"},PR:{id:"PR",name:"Puerto Rico",country:"US"},UM:{id:"UM",name:"United States Minor Outlying Islands",country:"US"},VI:{id:"VI",name:"Virgin Islands",country:"US"},AB:{id:"AB",name:"Alberta",country:"CA"},BC:{id:"BC",name:"British Columbia",country:"CA"},MB:{id:"MB",name:"Manitoba",country:"CA"},NB:{id:"NB",name:"New Brunswick",country:"CA"},NL:{id:"NL",name:"Newfoundland and Labrador",country:"CA",alt:["Newfoundland","Labrador"]},NS:{id:"NS",name:"Nova Scotia",country:"CA"},NU:{id:"NU",name:"Nunavut",country:"CA"},NT:{id:"NT",name:"Northwest Territories",country:"CA"},ON:{id:"ON",name:"Ontario",country:"CA"},PE:{id:"PE",name:"Prince Edward Island",country:"CA"},QC:{id:"QC",name:"Quebec",country:"CA"},SK:{id:"SK",name:"Saskatchewan",country:"CA"},YT:{id:"YT",name:"Yukon",country:"CA"}}}static get US_STATES(){return["AL","AK","AZ","AR","CA","CO","CT","DC","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","AS","GU","MP","PR","UM","VI"]}static get CA_STATES(){return["AB","BC","MB","NB","NL","NS","NU","NT","ON","PE","QC","SK","YT"]}static get(t){return StateProvince.STATEMAP[t]}static list(t){let e=[];if(t&&"us"===t.toLowerCase())for(let t of StateProvince.US_STATES)e.push(StateProvince.STATEMAP[t]);else if(t&&"ca"===t.toLowerCase())for(let t of StateProvince.CA_STATES)e.push(StateProvince.STATEMAP[t]);else{for(let t of StateProvince.US_STATES)e.push(StateProvince.STATEMAP[t]);for(let t of StateProvince.CA_STATES)e.push(StateProvince.STATEMAP[t])}return e}static search(t){if(!t||t.length()<1)return[];let e=[];for(let i of Object.keys(StateProvince.STATEMAP)){let n=StateProvince.STATEMAP[i];if(t.toUpperCase()===i)e.push(n);else if(n.name.toUpperCase().indexOf(t.toUpperCase())>=0)e.push(n);else if(n.alt&&n.alt.length>0){let i=!1;for(let s of n.alt)!i&&s.toUpperCase().indexOf(t.toUpperCase())>=0&&e.push(n)}}return e}}window.StateProvince=StateProvince;class CountryCodes{static get MAP(){return{AF:{code:"AF",country:"Afghanistan"},AX:{code:"AX",country:"Åland Islands"},AL:{code:"AL",country:"Albania"},DZ:{code:"DZ",country:"Algeria"},AS:{code:"AS",country:"American Samoa"},AD:{code:"AD",country:"Andorra"},AO:{code:"AO",country:"Angola"},AI:{code:"AI",country:"Anguilla"},AQ:{code:"AQ",country:"Antarctica"},AG:{code:"AG",country:"Antigua and Barbuda"},AR:{code:"AR",country:"Argentina"},AM:{code:"AM",country:"Armenia"},AW:{code:"AW",country:"Aruba"},AU:{code:"AU",country:"Australia"},AT:{code:"AT",country:"Austria"},AZ:{code:"AZ",country:"Azerbaijan"},BS:{code:"BS",country:"Bahamas"},BH:{code:"BH",country:"Bahrain"},BD:{code:"BD",country:"Bangladesh"},BB:{code:"BB",country:"Barbados"},BY:{code:"BY",country:"Belarus"},BE:{code:"BE",country:"Belgium"},BZ:{code:"BZ",country:"Belize"},BJ:{code:"BJ",country:"Benin"},BM:{code:"BM",country:"Bermuda"},BT:{code:"BT",country:"Bhutan"},BO:{code:"BO",country:"Bolivia, Plurinational State of"},BQ:{code:"BQ",country:"Bonaire, Sint Eustatius and Saba"},BA:{code:"BA",country:"Bosnia and Herzegovina"},BW:{code:"BW",country:"Botswana"},BV:{code:"BV",country:"Bouvet Island"},BR:{code:"BR",country:"Brazil"},IO:{code:"IO",country:"British Indian Ocean Territory"},BN:{code:"BN",country:"Brunei Darussalam"},BG:{code:"BG",country:"Bulgaria"},BF:{code:"BF",country:"Burkina Faso"},BI:{code:"BI",country:"Burundi"},KH:{code:"KH",country:"Cambodia"},CM:{code:"CM",country:"Cameroon"},CA:{code:"CA",country:"Canada"},CV:{code:"CV",country:"Cape Verde"},KY:{code:"KY",country:"Cayman Islands"},CF:{code:"CF",country:"Central African Republic"},TD:{code:"TD",country:"Chad"},CL:{code:"CL",country:"Chile"},CN:{code:"CN",country:"China"},CX:{code:"CX",country:"Christmas Island"},CC:{code:"CC",country:"Cocos (Keeling) Islands"},CO:{code:"CO",country:"Colombia"},KM:{code:"KM",country:"Comoros"},CG:{code:"CG",country:"Congo"},CD:{code:"CD",country:"Congo, the Democratic Republic of the"},CK:{code:"CK",country:"Cook Islands"},CR:{code:"CR",country:"Costa Rica"},CI:{code:"CI",country:"Côte d'Ivoire"},HR:{code:"HR",country:"Croatia"},CU:{code:"CU",country:"Cuba"},CW:{code:"CW",country:"Curaçao"},CY:{code:"CY",country:"Cyprus"},CZ:{code:"CZ",country:"Czech Republic"},DK:{code:"DK",country:"Denmark"},DJ:{code:"DJ",country:"Djibouti"},DM:{code:"DM",country:"Dominica"},DO:{code:"DO",country:"Dominican Republic"},EC:{code:"EC",country:"Ecuador"},EG:{code:"EG",country:"Egypt"},SV:{code:"SV",country:"El Salvador"},GQ:{code:"GQ",country:"Equatorial Guinea"},ER:{code:"ER",country:"Eritrea"},EE:{code:"EE",country:"Estonia"},ET:{code:"ET",country:"Ethiopia"},FK:{code:"FK",country:"Falkland Islands (Malvinas)"},FO:{code:"FO",country:"Faroe Islands"},FJ:{code:"FJ",country:"Fiji"},FI:{code:"FI",country:"Finland"},FR:{code:"FR",country:"France"},GF:{code:"GF",country:"French Guiana"},PF:{code:"PF",country:"French Polynesia"},TF:{code:"TF",country:"French Southern Territories"},GA:{code:"GA",country:"Gabon"},GM:{code:"GM",country:"Gambia"},GE:{code:"GE",country:"Georgia"},DE:{code:"DE",country:"Germany"},GH:{code:"GH",country:"Ghana"},GI:{code:"GI",country:"Gibraltar"},GR:{code:"GR",country:"Greece"},GL:{code:"GL",country:"Greenland"},GD:{code:"GD",country:"Grenada"},GP:{code:"GP",country:"Guadeloupe"},GU:{code:"GU",country:"Guam"},GT:{code:"GT",country:"Guatemala"},GG:{code:"GG",country:"Guernsey"},GN:{code:"GN",country:"Guinea"},GW:{code:"GW",country:"Guinea-Bissau"},GY:{code:"GY",country:"Guyana"},HT:{code:"HT",country:"Haiti"},HM:{code:"HM",country:"Heard Island and McDonald Islands"},VA:{code:"VA",country:"Holy See (Vatican City State)"},HN:{code:"HN",country:"Honduras"},HK:{code:"HK",country:"Hong Kong"},HU:{code:"HU",country:"Hungary"},IS:{code:"IS",country:"Iceland"},IN:{code:"IN",country:"India"},ID:{code:"ID",country:"Indonesia"},IR:{code:"IR",country:"Iran, Islamic Republic of"},IQ:{code:"IQ",country:"Iraq"},IE:{code:"IE",country:"Ireland"},IM:{code:"IM",country:"Isle of Man"},IL:{code:"IL",country:"Israel"},IT:{code:"IT",country:"Italy"},JM:{code:"JM",country:"Jamaica"},JP:{code:"JP",country:"Japan"},JE:{code:"JE",country:"Jersey"},JO:{code:"JO",country:"Jordan"},KZ:{code:"KZ",country:"Kazakhstan"},KE:{code:"KE",country:"Kenya"},KI:{code:"KI",country:"Kiribati"},KP:{code:"KP",country:"Korea, Democratic People's Republic of"},KR:{code:"KR",country:"Korea, Republic of"},KW:{code:"KW",country:"Kuwait"},KG:{code:"KG",country:"Kyrgyzstan"},LA:{code:"LA",country:"Lao People's Democratic Republic"},LV:{code:"LV",country:"Latvia"},LB:{code:"LB",country:"Lebanon"},LS:{code:"LS",country:"Lesotho"},LR:{code:"LR",country:"Liberia"},LY:{code:"LY",country:"Libya"},LI:{code:"LI",country:"Liechtenstein"},LT:{code:"LT",country:"Lithuania"},LU:{code:"LU",country:"Luxembourg"},MO:{code:"MO",country:"Macao"},MK:{code:"MK",country:"Macedonia, the Former Yugoslav Republic of"},MG:{code:"MG",country:"Madagascar"},MW:{code:"MW",country:"Malawi"},MY:{code:"MY",country:"Malaysia"},MV:{code:"MV",country:"Maldives"},ML:{code:"ML",country:"Mali"},MT:{code:"MT",country:"Malta"},MH:{code:"MH",country:"Marshall Islands"},MQ:{code:"MQ",country:"Martinique"},MR:{code:"MR",country:"Mauritania"},MU:{code:"MU",country:"Mauritius"},YT:{code:"YT",country:"Mayotte"},MX:{code:"MX",country:"Mexico"},FM:{code:"FM",country:"Micronesia, Federated States of"},MD:{code:"MD",country:"Moldova, Republic of"},MC:{code:"MC",country:"Monaco"},MN:{code:"MN",country:"Mongolia"},ME:{code:"ME",country:"Montenegro"},MS:{code:"MS",country:"Montserrat"},MA:{code:"MA",country:"Morocco"},MZ:{code:"MZ",country:"Mozambique"},MM:{code:"MM",country:"Myanmar"},NA:{code:"NA",country:"Namibia"},NR:{code:"NR",country:"Nauru"},NP:{code:"NP",country:"Nepal"},NL:{code:"NL",country:"Netherlands"},NC:{code:"NC",country:"New Caledonia"},NZ:{code:"NZ",country:"New Zealand"},NI:{code:"NI",country:"Nicaragua"},NE:{code:"NE",country:"Niger"},NG:{code:"NG",country:"Nigeria"},NU:{code:"NU",country:"Niue"},NF:{code:"NF",country:"Norfolk Island"},MP:{code:"MP",country:"Northern Mariana Islands"},NO:{code:"NO",country:"Norway"},OM:{code:"OM",country:"Oman"},PK:{code:"PK",country:"Pakistan"},PW:{code:"PW",country:"Palau"},PS:{code:"PS",country:"Palestine, State of"},PA:{code:"PA",country:"Panama"},PG:{code:"PG",country:"Papua New Guinea"},PY:{code:"PY",country:"Paraguay"},PE:{code:"PE",country:"Peru"},PH:{code:"PH",country:"Philippines"},PN:{code:"PN",country:"Pitcairn"},PL:{code:"PL",country:"Poland"},PT:{code:"PT",country:"Portugal"},PR:{code:"PR",country:"Puerto Rico"},QA:{code:"QA",country:"Qatar"},RE:{code:"RE",country:"Réunion"},RO:{code:"RO",country:"Romania"},RU:{code:"RU",country:"Russian Federation"},RW:{code:"RW",country:"Rwanda"},BL:{code:"BL",country:"Saint Barthélemy"},SH:{code:"SH",country:"Saint Helena, Ascension and Tristan da Cunha"},KN:{code:"KN",country:"Saint Kitts and Nevis"},LC:{code:"LC",country:"Saint Lucia"},MF:{code:"MF",country:"Saint Martin (French part)"},PM:{code:"PM",country:"Saint Pierre and Miquelon"},VC:{code:"VC",country:"Saint Vincent and the Grenadines"},WS:{code:"WS",country:"Samoa"},SM:{code:"SM",country:"San Marino"},ST:{code:"ST",country:"Sao Tome and Principe"},SA:{code:"SA",country:"Saudi Arabia"},SN:{code:"SN",country:"Senegal"},RS:{code:"RS",country:"Serbia"},SC:{code:"SC",country:"Seychelles"},SL:{code:"SL",country:"Sierra Leone"},SG:{code:"SG",country:"Singapore"},SX:{code:"SX",country:"Sint Maarten (Dutch part)"},SK:{code:"SK",country:"Slovakia"},SI:{code:"SI",country:"Slovenia"},SB:{code:"SB",country:"Solomon Islands"},SO:{code:"SO",country:"Somalia"},ZA:{code:"ZA",country:"South Africa"},GS:{code:"GS",country:"South Georgia and the South Sandwich Islands"},SS:{code:"SS",country:"South Sudan"},ES:{code:"ES",country:"Spain"},LK:{code:"LK",country:"Sri Lanka"},SD:{code:"SD",country:"Sudan"},SR:{code:"SR",country:"Suriname"},SJ:{code:"SJ",country:"Svalbard and Jan Mayen"},SZ:{code:"SZ",country:"Swaziland"},SE:{code:"SE",country:"Sweden"},CH:{code:"CH",country:"Switzerland"},SY:{code:"SY",country:"Syrian Arab Republic"},TW:{code:"TW",country:"Taiwan, Province of China"},TJ:{code:"TJ",country:"Tajikistan"},TZ:{code:"TZ",country:"Tanzania, United Republic of"},TH:{code:"TH",country:"Thailand"},TL:{code:"TL",country:"Timor-Leste"},TG:{code:"TG",country:"Togo"},TK:{code:"TK",country:"Tokelau"},TO:{code:"TO",country:"Tonga"},TT:{code:"TT",country:"Trinidad and Tobago"},TN:{code:"TN",country:"Tunisia"},TR:{code:"TR",country:"Turkey"},TM:{code:"TM",country:"Turkmenistan"},TC:{code:"TC",country:"Turks and Caicos Islands"},TV:{code:"TV",country:"Tuvalu"},UG:{code:"UG",country:"Uganda"},UA:{code:"UA",country:"Ukraine"},AE:{code:"AE",country:"United Arab Emirates"},GB:{code:"GB",country:"United Kingdom"},US:{code:"US",country:"United States"},UM:{code:"UM",country:"United States Minor Outlying Islands"},UY:{code:"UY",country:"Uruguay"},UZ:{code:"UZ",country:"Uzbekistan"},VU:{code:"VU",country:"Vanuatu"},VE:{code:"VE",country:"Venezuela, Bolivarian Republic of"},VN:{code:"VN",country:"Viet Nam"},VG:{code:"VG",country:"Virgin Islands, British"},VI:{code:"VI",country:"Virgin Islands, U.S."},WF:{code:"WF",country:"Wallis and Futuna"},EH:{code:"EH",country:"Western Sahara"},YE:{code:"YE",country:"Yemen"},ZM:{code:"ZM",country:"Zambia"},ZW:{code:"ZW",country:"Zimbabwe"}}}static get(t){return CountryCodes.MAP[t]}static list(){let t=[];for(let e of Object.values(CountryCodes.MAP))t.push(e);return t.sort(function(t,e){return t.country>e.country?1:t.country<e.country?-1:0}),t}}window.CountryCodes=CountryCodes;class TimezoneDB{static get MAP(){return{"Asia/Kabul":{id:"Asia/Kabul",countrycode:"AF",country:"Afghanistan",tz:"Asia/Kabul",offset:"UTC +04:30"},"Europe/Tirane":{id:"Europe/Tirane",countrycode:"AL",country:"Albania",tz:"Europe/Tirane",offset:"UTC +01:00"},"Africa/Algiers":{id:"Africa/Algiers",countrycode:"DZ",country:"Algeria",tz:"Africa/Algiers",offset:"UTC +01:00"},"Pacific/Pago_Pago":{id:"Pacific/Pago_Pago",countrycode:"AS",country:"American Samoa",tz:"Pacific/Pago_Pago",offset:"UTC -11:00"},"Europe/Andorra":{id:"Europe/Andorra",countrycode:"AD",country:"Andorra",tz:"Europe/Andorra",offset:"UTC +01:00"},"Africa/Luanda":{id:"Africa/Luanda",countrycode:"AO",country:"Angola",tz:"Africa/Luanda",offset:"UTC +01:00"},"America/Anguilla":{id:"America/Anguilla",countrycode:"AI",country:"Anguilla",tz:"America/Anguilla",offset:"UTC -04:00"},"Antarctica/Casey":{id:"Antarctica/Casey",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Casey",offset:"UTC +08:00"},"Antarctica/Davis":{id:"Antarctica/Davis",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Davis",offset:"UTC +07:00"},"Antarctica/DumontDUrville":{id:"Antarctica/DumontDUrville",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/DumontDUrville",offset:"UTC +10:00"},"Antarctica/Mawson":{id:"Antarctica/Mawson",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Mawson",offset:"UTC +05:00"},"Antarctica/McMurdo":{id:"Antarctica/McMurdo",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/McMurdo",offset:"UTC +13:00"},"Antarctica/Palmer":{id:"Antarctica/Palmer",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Palmer",offset:"UTC -03:00"},"Antarctica/Rothera":{id:"Antarctica/Rothera",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Rothera",offset:"UTC -03:00"},"Antarctica/Syowa":{id:"Antarctica/Syowa",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Syowa",offset:"UTC +03:00"},"Antarctica/Troll":{id:"Antarctica/Troll",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Troll",offset:"UTC"},"Antarctica/Vostok":{id:"Antarctica/Vostok",countrycode:"AQ",country:"Antarctica",tz:"Antarctica/Vostok",offset:"UTC +06:00"},"America/Antigua":{id:"America/Antigua",countrycode:"AG",country:"Antigua and Barbuda",tz:"America/Antigua",offset:"UTC -04:00"},"America/Argentina/Buenos_Aires":{id:"America/Argentina/Buenos_Aires",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Buenos_Aires",offset:"UTC -03:00"},"America/Argentina/Catamarca":{id:"America/Argentina/Catamarca",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Catamarca",offset:"UTC -03:00"},"America/Argentina/Cordoba":{id:"America/Argentina/Cordoba",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Cordoba",offset:"UTC -03:00"},"America/Argentina/Jujuy":{id:"America/Argentina/Jujuy",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Jujuy",offset:"UTC -03:00"},"America/Argentina/La_Rioja":{id:"America/Argentina/La_Rioja",countrycode:"AR",country:"Argentina",tz:"America/Argentina/La_Rioja",offset:"UTC -03:00"},"America/Argentina/Mendoza":{id:"America/Argentina/Mendoza",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Mendoza",offset:"UTC -03:00"},"America/Argentina/Rio_Gallegos":{id:"America/Argentina/Rio_Gallegos",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Rio_Gallegos",offset:"UTC -03:00"},"America/Argentina/Salta":{id:"America/Argentina/Salta",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Salta",offset:"UTC -03:00"},"America/Argentina/San_Juan":{id:"America/Argentina/San_Juan",countrycode:"AR",country:"Argentina",tz:"America/Argentina/San_Juan",offset:"UTC -03:00"},"America/Argentina/San_Luis":{id:"America/Argentina/San_Luis",countrycode:"AR",country:"Argentina",tz:"America/Argentina/San_Luis",offset:"UTC -03:00"},"America/Argentina/Tucuman":{id:"America/Argentina/Tucuman",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Tucuman",offset:"UTC -03:00"},"America/Argentina/Ushuaia":{id:"America/Argentina/Ushuaia",countrycode:"AR",country:"Argentina",tz:"America/Argentina/Ushuaia",offset:"UTC -03:00"},"Asia/Yerevan":{id:"Asia/Yerevan",countrycode:"AM",country:"Armenia",tz:"Asia/Yerevan",offset:"UTC +04:00"},"America/Aruba":{id:"America/Aruba",countrycode:"AW",country:"Aruba",tz:"America/Aruba",offset:"UTC -04:00"},"Antarctica/Macquarie":{id:"Antarctica/Macquarie",countrycode:"AU",country:"Australia",tz:"Antarctica/Macquarie",offset:"UTC +11:00"},"Australia/Adelaide":{id:"Australia/Adelaide",countrycode:"AU",country:"Australia",tz:"Australia/Adelaide",offset:"UTC +10:30"},"Australia/Brisbane":{id:"Australia/Brisbane",countrycode:"AU",country:"Australia",tz:"Australia/Brisbane",offset:"UTC +10:00"},"Australia/Broken_Hill":{id:"Australia/Broken_Hill",countrycode:"AU",country:"Australia",tz:"Australia/Broken_Hill",offset:"UTC +10:30"},"Australia/Currie":{id:"Australia/Currie",countrycode:"AU",country:"Australia",tz:"Australia/Currie",offset:"UTC +11:00"},"Australia/Darwin":{id:"Australia/Darwin",countrycode:"AU",country:"Australia",tz:"Australia/Darwin",offset:"UTC +09:30"},"Australia/Eucla":{id:"Australia/Eucla",countrycode:"AU",country:"Australia",tz:"Australia/Eucla",offset:"UTC +08:45"},"Australia/Hobart":{id:"Australia/Hobart",countrycode:"AU",country:"Australia",tz:"Australia/Hobart",offset:"UTC +11:00"},"Australia/Lindeman":{id:"Australia/Lindeman",countrycode:"AU",country:"Australia",tz:"Australia/Lindeman",offset:"UTC +10:00"},"Australia/Lord_Howe":{id:"Australia/Lord_Howe",countrycode:"AU",country:"Australia",tz:"Australia/Lord_Howe",offset:"UTC +11:00"},"Australia/Melbourne":{id:"Australia/Melbourne",countrycode:"AU",country:"Australia",tz:"Australia/Melbourne",offset:"UTC +11:00"},"Australia/Perth":{id:"Australia/Perth",countrycode:"AU",country:"Australia",tz:"Australia/Perth",offset:"UTC +08:00"},"Australia/Sydney":{id:"Australia/Sydney",countrycode:"AU",country:"Australia",tz:"Australia/Sydney",offset:"UTC +11:00"},"Europe/Vienna":{id:"Europe/Vienna",countrycode:"AT",country:"Austria",tz:"Europe/Vienna",offset:"UTC +01:00"},"Asia/Baku":{id:"Asia/Baku",countrycode:"AZ",country:"Azerbaijan",tz:"Asia/Baku",offset:"UTC +04:00"},"America/Nassau":{id:"America/Nassau",countrycode:"BS",country:"Bahamas",tz:"America/Nassau",offset:"UTC -05:00"},"Asia/Bahrain":{id:"Asia/Bahrain",countrycode:"BH",country:"Bahrain",tz:"Asia/Bahrain",offset:"UTC +03:00"},"Asia/Dhaka":{id:"Asia/Dhaka",countrycode:"BD",country:"Bangladesh",tz:"Asia/Dhaka",offset:"UTC +06:00"},"America/Barbados":{id:"America/Barbados",countrycode:"BB",country:"Barbados",tz:"America/Barbados",offset:"UTC -04:00"},"Europe/Minsk":{id:"Europe/Minsk",countrycode:"BY",country:"Belarus",tz:"Europe/Minsk",offset:"UTC +03:00"},"Europe/Brussels":{id:"Europe/Brussels",countrycode:"BE",country:"Belgium",tz:"Europe/Brussels",offset:"UTC +01:00"},"America/Belize":{id:"America/Belize",countrycode:"BZ",country:"Belize",tz:"America/Belize",offset:"UTC -06:00"},"Africa/Porto-Novo":{id:"Africa/Porto-Novo",countrycode:"BJ",country:"Benin",tz:"Africa/Porto-Novo",offset:"UTC +01:00"},"Atlantic/Bermuda":{id:"Atlantic/Bermuda",countrycode:"BM",country:"Bermuda",tz:"Atlantic/Bermuda",offset:"UTC -04:00"},"Asia/Thimphu":{id:"Asia/Thimphu",countrycode:"BT",country:"Bhutan",tz:"Asia/Thimphu",offset:"UTC +06:00"},"America/La_Paz":{id:"America/La_Paz",countrycode:"BO",country:"Bolivia, Plurinational State of",tz:"America/La_Paz",offset:"UTC -04:00"},"America/Kralendijk":{id:"America/Kralendijk",countrycode:"BQ",country:"Bonaire, Sint Eustatius and Saba",tz:"America/Kralendijk",offset:"UTC -04:00"},"Europe/Sarajevo":{id:"Europe/Sarajevo",countrycode:"BA",country:"Bosnia and Herzegovina",tz:"Europe/Sarajevo",offset:"UTC +01:00"},"Africa/Gaborone":{id:"Africa/Gaborone",countrycode:"BW",country:"Botswana",tz:"Africa/Gaborone",offset:"UTC +02:00"},"America/Araguaina":{id:"America/Araguaina",countrycode:"BR",country:"Brazil",tz:"America/Araguaina",offset:"UTC -03:00"},"America/Bahia":{id:"America/Bahia",countrycode:"BR",country:"Brazil",tz:"America/Bahia",offset:"UTC -03:00"},"America/Belem":{id:"America/Belem",countrycode:"BR",country:"Brazil",tz:"America/Belem",offset:"UTC -03:00"},"America/Boa_Vista":{id:"America/Boa_Vista",countrycode:"BR",country:"Brazil",tz:"America/Boa_Vista",offset:"UTC -04:00"},"America/Campo_Grande":{id:"America/Campo_Grande",countrycode:"BR",country:"Brazil",tz:"America/Campo_Grande",offset:"UTC -04:00"},"America/Cuiaba":{id:"America/Cuiaba",countrycode:"BR",country:"Brazil",tz:"America/Cuiaba",offset:"UTC -04:00"},"America/Eirunepe":{id:"America/Eirunepe",countrycode:"BR",country:"Brazil",tz:"America/Eirunepe",offset:"UTC -05:00"},"America/Fortaleza":{id:"America/Fortaleza",countrycode:"BR",country:"Brazil",tz:"America/Fortaleza",offset:"UTC -03:00"},"America/Maceio":{id:"America/Maceio",countrycode:"BR",country:"Brazil",tz:"America/Maceio",offset:"UTC -03:00"},"America/Manaus":{id:"America/Manaus",countrycode:"BR",country:"Brazil",tz:"America/Manaus",offset:"UTC -04:00"},"America/Noronha":{id:"America/Noronha",countrycode:"BR",country:"Brazil",tz:"America/Noronha",offset:"UTC -02:00"},"America/Porto_Velho":{id:"America/Porto_Velho",countrycode:"BR",country:"Brazil",tz:"America/Porto_Velho",offset:"UTC -04:00"},"America/Recife":{id:"America/Recife",countrycode:"BR",country:"Brazil",tz:"America/Recife",offset:"UTC -03:00"},"America/Rio_Branco":{id:"America/Rio_Branco",countrycode:"BR",country:"Brazil",tz:"America/Rio_Branco",offset:"UTC -05:00"},"America/Santarem":{id:"America/Santarem",countrycode:"BR",country:"Brazil",tz:"America/Santarem",offset:"UTC -03:00"},"America/Sao_Paulo":{id:"America/Sao_Paulo",countrycode:"BR",country:"Brazil",tz:"America/Sao_Paulo",offset:"UTC -03:00"},"Indian/Chagos":{id:"Indian/Chagos",countrycode:"IO",country:"British Indian Ocean Territory",tz:"Indian/Chagos",offset:"UTC +06:00"},"Asia/Brunei":{id:"Asia/Brunei",countrycode:"BN",country:"Brunei Darussalam",tz:"Asia/Brunei",offset:"UTC +08:00"},"Europe/Sofia":{id:"Europe/Sofia",countrycode:"BG",country:"Bulgaria",tz:"Europe/Sofia",offset:"UTC +02:00"},"Africa/Ouagadougou":{id:"Africa/Ouagadougou",countrycode:"BF",country:"Burkina Faso",tz:"Africa/Ouagadougou",offset:"UTC"},"Africa/Bujumbura":{id:"Africa/Bujumbura",countrycode:"BI",country:"Burundi",tz:"Africa/Bujumbura",offset:"UTC +02:00"},"Asia/Phnom_Penh":{id:"Asia/Phnom_Penh",countrycode:"KH",country:"Cambodia",tz:"Asia/Phnom_Penh",offset:"UTC +07:00"},"Africa/Douala":{id:"Africa/Douala",countrycode:"CM",country:"Cameroon",tz:"Africa/Douala",offset:"UTC +01:00"},"America/Atikokan":{id:"America/Atikokan",countrycode:"CA",country:"Canada",tz:"America/Atikokan",offset:"UTC -05:00"},"America/Blanc-Sablon":{id:"America/Blanc-Sablon",countrycode:"CA",country:"Canada",tz:"America/Blanc-Sablon",offset:"UTC -04:00"},"America/Cambridge_Bay":{id:"America/Cambridge_Bay",countrycode:"CA",country:"Canada",tz:"America/Cambridge_Bay",offset:"UTC -07:00"},"America/Creston":{id:"America/Creston",countrycode:"CA",country:"Canada",tz:"America/Creston",offset:"UTC -07:00"},"America/Dawson":{id:"America/Dawson",countrycode:"CA",country:"Canada",tz:"America/Dawson",offset:"UTC -08:00"},"America/Dawson_Creek":{id:"America/Dawson_Creek",countrycode:"CA",country:"Canada",tz:"America/Dawson_Creek",offset:"UTC -07:00"},"America/Edmonton":{id:"America/Edmonton",countrycode:"CA",country:"Canada",tz:"America/Edmonton",offset:"UTC -07:00"},"America/Fort_Nelson":{id:"America/Fort_Nelson",countrycode:"CA",country:"Canada",tz:"America/Fort_Nelson",offset:"UTC -07:00"},"America/Glace_Bay":{id:"America/Glace_Bay",countrycode:"CA",country:"Canada",tz:"America/Glace_Bay",offset:"UTC -04:00"},"America/Goose_Bay":{id:"America/Goose_Bay",countrycode:"CA",country:"Canada",tz:"America/Goose_Bay",offset:"UTC -04:00"},"America/Halifax":{id:"America/Halifax",countrycode:"CA",country:"Canada",tz:"America/Halifax",offset:"UTC -04:00"},"America/Inuvik":{id:"America/Inuvik",countrycode:"CA",country:"Canada",tz:"America/Inuvik",offset:"UTC -07:00"},"America/Iqaluit":{id:"America/Iqaluit",countrycode:"CA",country:"Canada",tz:"America/Iqaluit",offset:"UTC -05:00"},"America/Moncton":{id:"America/Moncton",countrycode:"CA",country:"Canada",tz:"America/Moncton",offset:"UTC -04:00"},"America/Nipigon":{id:"America/Nipigon",countrycode:"CA",country:"Canada",tz:"America/Nipigon",offset:"UTC -05:00"},"America/Pangnirtung":{id:"America/Pangnirtung",countrycode:"CA",country:"Canada",tz:"America/Pangnirtung",offset:"UTC -05:00"},"America/Rainy_River":{id:"America/Rainy_River",countrycode:"CA",country:"Canada",tz:"America/Rainy_River",offset:"UTC -06:00"},"America/Rankin_Inlet":{id:"America/Rankin_Inlet",countrycode:"CA",country:"Canada",tz:"America/Rankin_Inlet",offset:"UTC -06:00"},"America/Regina":{id:"America/Regina",countrycode:"CA",country:"Canada",tz:"America/Regina",offset:"UTC -06:00"},"America/Resolute":{id:"America/Resolute",countrycode:"CA",country:"Canada",tz:"America/Resolute",offset:"UTC -06:00"},"America/St_Johns":{id:"America/St_Johns",countrycode:"CA",country:"Canada",tz:"America/St_Johns",offset:"UTC -03:30"},"America/Swift_Current":{id:"America/Swift_Current",countrycode:"CA",country:"Canada",tz:"America/Swift_Current",offset:"UTC -06:00"},"America/Thunder_Bay":{id:"America/Thunder_Bay",countrycode:"CA",country:"Canada",tz:"America/Thunder_Bay",offset:"UTC -05:00"},"America/Toronto":{id:"America/Toronto",countrycode:"CA",country:"Canada",tz:"America/Toronto",offset:"UTC -05:00"},"America/Vancouver":{id:"America/Vancouver",countrycode:"CA",country:"Canada",tz:"America/Vancouver",offset:"UTC -08:00"},"America/Whitehorse":{id:"America/Whitehorse",countrycode:"CA",country:"Canada",tz:"America/Whitehorse",offset:"UTC -08:00"},"America/Winnipeg":{id:"America/Winnipeg",countrycode:"CA",country:"Canada",tz:"America/Winnipeg",offset:"UTC -06:00"},"America/Yellowknife":{id:"America/Yellowknife",countrycode:"CA",country:"Canada",tz:"America/Yellowknife",offset:"UTC -07:00"},"Atlantic/Cape_Verde":{id:"Atlantic/Cape_Verde",countrycode:"CV",country:"Cape Verde",tz:"Atlantic/Cape_Verde",offset:"UTC -01:00"},"America/Cayman":{id:"America/Cayman",countrycode:"KY",country:"Cayman Islands",tz:"America/Cayman",offset:"UTC -05:00"},"Africa/Bangui":{id:"Africa/Bangui",countrycode:"CF",country:"Central African Republic",tz:"Africa/Bangui",offset:"UTC +01:00"},"Africa/Ndjamena":{id:"Africa/Ndjamena",countrycode:"TD",country:"Chad",tz:"Africa/Ndjamena",offset:"UTC +01:00"},"America/Punta_Arenas":{id:"America/Punta_Arenas",countrycode:"CL",country:"Chile",tz:"America/Punta_Arenas",offset:"UTC -03:00"},"America/Santiago":{id:"America/Santiago",countrycode:"CL",country:"Chile",tz:"America/Santiago",offset:"UTC -03:00"},"Pacific/Easter":{id:"Pacific/Easter",countrycode:"CL",country:"Chile",tz:"Pacific/Easter",offset:"UTC -05:00"},"Asia/Shanghai":{id:"Asia/Shanghai",countrycode:"CN",country:"China",tz:"Asia/Shanghai",offset:"UTC +08:00"},"Asia/Urumqi":{id:"Asia/Urumqi",countrycode:"CN",country:"China",tz:"Asia/Urumqi",offset:"UTC +06:00"},"Indian/Christmas":{id:"Indian/Christmas",countrycode:"CX",country:"Christmas Island",tz:"Indian/Christmas",offset:"UTC +07:00"},"Indian/Cocos":{id:"Indian/Cocos",countrycode:"CC",country:"Cocos (Keeling) Islands",tz:"Indian/Cocos",offset:"UTC +06:30"},"America/Bogota":{id:"America/Bogota",countrycode:"CO",country:"Colombia",tz:"America/Bogota",offset:"UTC -05:00"},"Indian/Comoro":{id:"Indian/Comoro",countrycode:"KM",country:"Comoros",tz:"Indian/Comoro",offset:"UTC +03:00"},"Africa/Brazzaville":{id:"Africa/Brazzaville",countrycode:"CG",country:"Congo",tz:"Africa/Brazzaville",offset:"UTC +01:00"},"Africa/Kinshasa":{id:"Africa/Kinshasa",countrycode:"CD",country:"Congo, the Democratic Republic of the",tz:"Africa/Kinshasa",offset:"UTC +01:00"},"Africa/Lubumbashi":{id:"Africa/Lubumbashi",countrycode:"CD",country:"Congo, the Democratic Republic of the",tz:"Africa/Lubumbashi",offset:"UTC +02:00"},"Pacific/Rarotonga":{id:"Pacific/Rarotonga",countrycode:"CK",country:"Cook Islands",tz:"Pacific/Rarotonga",offset:"UTC -10:00"},"America/Costa_Rica":{id:"America/Costa_Rica",countrycode:"CR",country:"Costa Rica",tz:"America/Costa_Rica",offset:"UTC -06:00"},"Europe/Zagreb":{id:"Europe/Zagreb",countrycode:"HR",country:"Croatia",tz:"Europe/Zagreb",offset:"UTC +01:00"},"America/Havana":{id:"America/Havana",countrycode:"CU",country:"Cuba",tz:"America/Havana",offset:"UTC -05:00"},"America/Curacao":{id:"America/Curacao",countrycode:"CW",country:"Curaçao",tz:"America/Curacao",offset:"UTC -04:00"},"Asia/Famagusta":{id:"Asia/Famagusta",countrycode:"CY",country:"Cyprus",tz:"Asia/Famagusta",offset:"UTC +02:00"},"Asia/Nicosia":{id:"Asia/Nicosia",countrycode:"CY",country:"Cyprus",tz:"Asia/Nicosia",offset:"UTC +02:00"},"Europe/Prague":{id:"Europe/Prague",countrycode:"CZ",country:"Czech Republic",tz:"Europe/Prague",offset:"UTC +01:00"},"Africa/Abidjan":{id:"Africa/Abidjan",countrycode:"CI",country:"Côte d'Ivoire",tz:"Africa/Abidjan",offset:"UTC"},"Europe/Copenhagen":{id:"Europe/Copenhagen",countrycode:"DK",country:"Denmark",tz:"Europe/Copenhagen",offset:"UTC +01:00"},"Africa/Djibouti":{id:"Africa/Djibouti",countrycode:"DJ",country:"Djibouti",tz:"Africa/Djibouti",offset:"UTC +03:00"},"America/Dominica":{id:"America/Dominica",countrycode:"DM",country:"Dominica",tz:"America/Dominica",offset:"UTC -04:00"},"America/Santo_Domingo":{id:"America/Santo_Domingo",countrycode:"DO",country:"Dominican Republic",tz:"America/Santo_Domingo",offset:"UTC -04:00"},"America/Guayaquil":{id:"America/Guayaquil",countrycode:"EC",country:"Ecuador",tz:"America/Guayaquil",offset:"UTC -05:00"},"Pacific/Galapagos":{id:"Pacific/Galapagos",countrycode:"EC",country:"Ecuador",tz:"Pacific/Galapagos",offset:"UTC -06:00"},"Africa/Cairo":{id:"Africa/Cairo",countrycode:"EG",country:"Egypt",tz:"Africa/Cairo",offset:"UTC +02:00"},"America/El_Salvador":{id:"America/El_Salvador",countrycode:"SV",country:"El Salvador",tz:"America/El_Salvador",offset:"UTC -06:00"},"Africa/Malabo":{id:"Africa/Malabo",countrycode:"GQ",country:"Equatorial Guinea",tz:"Africa/Malabo",offset:"UTC +01:00"},"Africa/Asmara":{id:"Africa/Asmara",countrycode:"ER",country:"Eritrea",tz:"Africa/Asmara",offset:"UTC +03:00"},"Europe/Tallinn":{id:"Europe/Tallinn",countrycode:"EE",country:"Estonia",tz:"Europe/Tallinn",offset:"UTC +02:00"},"Africa/Addis_Ababa":{id:"Africa/Addis_Ababa",countrycode:"ET",country:"Ethiopia",tz:"Africa/Addis_Ababa",offset:"UTC +03:00"},"Atlantic/Stanley":{id:"Atlantic/Stanley",countrycode:"FK",country:"Falkland Islands (Malvinas)",tz:"Atlantic/Stanley",offset:"UTC -03:00"},"Atlantic/Faroe":{id:"Atlantic/Faroe",countrycode:"FO",country:"Faroe Islands",tz:"Atlantic/Faroe",offset:"UTC"},"Pacific/Fiji":{id:"Pacific/Fiji",countrycode:"FJ",country:"Fiji",tz:"Pacific/Fiji",offset:"UTC +12:00"},"Europe/Helsinki":{id:"Europe/Helsinki",countrycode:"FI",country:"Finland",tz:"Europe/Helsinki",offset:"UTC +02:00"},"Europe/Paris":{id:"Europe/Paris",countrycode:"FR",country:"France",tz:"Europe/Paris",offset:"UTC +01:00"},"America/Cayenne":{id:"America/Cayenne",countrycode:"GF",country:"French Guiana",tz:"America/Cayenne",offset:"UTC -03:00"},"Pacific/Gambier":{id:"Pacific/Gambier",countrycode:"PF",country:"French Polynesia",tz:"Pacific/Gambier",offset:"UTC -09:00"},"Pacific/Marquesas":{id:"Pacific/Marquesas",countrycode:"PF",country:"French Polynesia",tz:"Pacific/Marquesas",offset:"UTC -09:30"},"Pacific/Tahiti":{id:"Pacific/Tahiti",countrycode:"PF",country:"French Polynesia",tz:"Pacific/Tahiti",offset:"UTC -10:00"},"Indian/Kerguelen":{id:"Indian/Kerguelen",countrycode:"TF",country:"French Southern Territories",tz:"Indian/Kerguelen",offset:"UTC +05:00"},"Africa/Libreville":{id:"Africa/Libreville",countrycode:"GA",country:"Gabon",tz:"Africa/Libreville",offset:"UTC +01:00"},"Africa/Banjul":{id:"Africa/Banjul",countrycode:"GM",country:"Gambia",tz:"Africa/Banjul",offset:"UTC"},"Asia/Tbilisi":{id:"Asia/Tbilisi",countrycode:"GE",country:"Georgia",tz:"Asia/Tbilisi",offset:"UTC +04:00"},"Europe/Berlin":{id:"Europe/Berlin",countrycode:"DE",country:"Germany",tz:"Europe/Berlin",offset:"UTC +01:00"},"Europe/Busingen":{id:"Europe/Busingen",countrycode:"DE",country:"Germany",tz:"Europe/Busingen",offset:"UTC +01:00"},"Africa/Accra":{id:"Africa/Accra",countrycode:"GH",country:"Ghana",tz:"Africa/Accra",offset:"UTC"},"Europe/Gibraltar":{id:"Europe/Gibraltar",countrycode:"GI",country:"Gibraltar",tz:"Europe/Gibraltar",offset:"UTC +01:00"},"Europe/Athens":{id:"Europe/Athens",countrycode:"GR",country:"Greece",tz:"Europe/Athens",offset:"UTC +02:00"},"America/Danmarkshavn":{id:"America/Danmarkshavn",countrycode:"GL",country:"Greenland",tz:"America/Danmarkshavn",offset:"UTC"},"America/Godthab":{id:"America/Godthab",countrycode:"GL",country:"Greenland",tz:"America/Godthab",offset:"UTC -03:00"},"America/Scoresbysund":{id:"America/Scoresbysund",countrycode:"GL",country:"Greenland",tz:"America/Scoresbysund",offset:"UTC -01:00"},"America/Thule":{id:"America/Thule",countrycode:"GL",country:"Greenland",tz:"America/Thule",offset:"UTC -04:00"},"America/Grenada":{id:"America/Grenada",countrycode:"GD",country:"Grenada",tz:"America/Grenada",offset:"UTC -04:00"},"America/Guadeloupe":{id:"America/Guadeloupe",countrycode:"GP",country:"Guadeloupe",tz:"America/Guadeloupe",offset:"UTC -04:00"},"Pacific/Guam":{id:"Pacific/Guam",countrycode:"GU",country:"Guam",tz:"Pacific/Guam",offset:"UTC +10:00"},"America/Guatemala":{id:"America/Guatemala",countrycode:"GT",country:"Guatemala",tz:"America/Guatemala",offset:"UTC -06:00"},"Europe/Guernsey":{id:"Europe/Guernsey",countrycode:"GG",country:"Guernsey",tz:"Europe/Guernsey",offset:"UTC"},"Africa/Conakry":{id:"Africa/Conakry",countrycode:"GN",country:"Guinea",tz:"Africa/Conakry",offset:"UTC"},"Africa/Bissau":{id:"Africa/Bissau",countrycode:"GW",country:"Guinea-Bissau",tz:"Africa/Bissau",offset:"UTC"},"America/Guyana":{id:"America/Guyana",countrycode:"GY",country:"Guyana",tz:"America/Guyana",offset:"UTC -04:00"},"America/Port-au-Prince":{id:"America/Port-au-Prince",countrycode:"HT",country:"Haiti",tz:"America/Port-au-Prince",offset:"UTC -05:00"},"Europe/Vatican":{id:"Europe/Vatican",countrycode:"VA",country:"Holy See (Vatican City State)",tz:"Europe/Vatican",offset:"UTC +01:00"},"America/Tegucigalpa":{id:"America/Tegucigalpa",countrycode:"HN",country:"Honduras",tz:"America/Tegucigalpa",offset:"UTC -06:00"},"Asia/Hong_Kong":{id:"Asia/Hong_Kong",countrycode:"HK",country:"Hong Kong",tz:"Asia/Hong_Kong",offset:"UTC +08:00"},"Europe/Budapest":{id:"Europe/Budapest",countrycode:"HU",country:"Hungary",tz:"Europe/Budapest",offset:"UTC +01:00"},"Atlantic/Reykjavik":{id:"Atlantic/Reykjavik",countrycode:"IS",country:"Iceland",tz:"Atlantic/Reykjavik",offset:"UTC"},"Asia/Kolkata":{id:"Asia/Kolkata",countrycode:"IN",country:"India",tz:"Asia/Kolkata",offset:"UTC +05:30"},"Asia/Jakarta":{id:"Asia/Jakarta",countrycode:"ID",country:"Indonesia",tz:"Asia/Jakarta",offset:"UTC +07:00"},"Asia/Jayapura":{id:"Asia/Jayapura",countrycode:"ID",country:"Indonesia",tz:"Asia/Jayapura",offset:"UTC +09:00"},"Asia/Makassar":{id:"Asia/Makassar",countrycode:"ID",country:"Indonesia",tz:"Asia/Makassar",offset:"UTC +08:00"},"Asia/Pontianak":{id:"Asia/Pontianak",countrycode:"ID",country:"Indonesia",tz:"Asia/Pontianak",offset:"UTC +07:00"},"Asia/Tehran":{id:"Asia/Tehran",countrycode:"IR",country:"Iran, Islamic Republic of",tz:"Asia/Tehran",offset:"UTC +03:30"},"Asia/Baghdad":{id:"Asia/Baghdad",countrycode:"IQ",country:"Iraq",tz:"Asia/Baghdad",offset:"UTC +03:00"},"Europe/Dublin":{id:"Europe/Dublin",countrycode:"IE",country:"Ireland",tz:"Europe/Dublin",offset:"UTC"},"Europe/Isle_of_Man":{id:"Europe/Isle_of_Man",countrycode:"IM",country:"Isle of Man",tz:"Europe/Isle_of_Man",offset:"UTC"},"Asia/Jerusalem":{id:"Asia/Jerusalem",countrycode:"IL",country:"Israel",tz:"Asia/Jerusalem",offset:"UTC +02:00"},"Europe/Rome":{id:"Europe/Rome",countrycode:"IT",country:"Italy",tz:"Europe/Rome",offset:"UTC +01:00"},"America/Jamaica":{id:"America/Jamaica",countrycode:"JM",country:"Jamaica",tz:"America/Jamaica",offset:"UTC -05:00"},"Asia/Tokyo":{id:"Asia/Tokyo",countrycode:"JP",country:"Japan",tz:"Asia/Tokyo",offset:"UTC +09:00"},"Europe/Jersey":{id:"Europe/Jersey",countrycode:"JE",country:"Jersey",tz:"Europe/Jersey",offset:"UTC"},"Asia/Amman":{id:"Asia/Amman",countrycode:"JO",country:"Jordan",tz:"Asia/Amman",offset:"UTC +02:00"},"Asia/Almaty":{id:"Asia/Almaty",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Almaty",offset:"UTC +06:00"},"Asia/Aqtau":{id:"Asia/Aqtau",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Aqtau",offset:"UTC +05:00"},"Asia/Aqtobe":{id:"Asia/Aqtobe",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Aqtobe",offset:"UTC +05:00"},"Asia/Atyrau":{id:"Asia/Atyrau",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Atyrau",offset:"UTC +05:00"},"Asia/Oral":{id:"Asia/Oral",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Oral",offset:"UTC +05:00"},"Asia/Qostanay":{id:"Asia/Qostanay",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Qostanay",offset:"UTC +06:00"},"Asia/Qyzylorda":{id:"Asia/Qyzylorda",countrycode:"KZ",country:"Kazakhstan",tz:"Asia/Qyzylorda",offset:"UTC +05:00"},"Africa/Nairobi":{id:"Africa/Nairobi",countrycode:"KE",country:"Kenya",tz:"Africa/Nairobi",offset:"UTC +03:00"},"Pacific/Enderbury":{id:"Pacific/Enderbury",countrycode:"KI",country:"Kiribati",tz:"Pacific/Enderbury",offset:"UTC +13:00"},"Pacific/Kiritimati":{id:"Pacific/Kiritimati",countrycode:"KI",country:"Kiribati",tz:"Pacific/Kiritimati",offset:"UTC +14:00"},"Pacific/Tarawa":{id:"Pacific/Tarawa",countrycode:"KI",country:"Kiribati",tz:"Pacific/Tarawa",offset:"UTC +12:00"},"Asia/Pyongyang":{id:"Asia/Pyongyang",countrycode:"KP",country:"Korea, Democratic People's Republic of",tz:"Asia/Pyongyang",offset:"UTC +09:00"},"Asia/Seoul":{id:"Asia/Seoul",countrycode:"KR",country:"Korea, Republic of",tz:"Asia/Seoul",offset:"UTC +09:00"},"Asia/Kuwait":{id:"Asia/Kuwait",countrycode:"KW",country:"Kuwait",tz:"Asia/Kuwait",offset:"UTC +03:00"},"Asia/Bishkek":{id:"Asia/Bishkek",countrycode:"KG",country:"Kyrgyzstan",tz:"Asia/Bishkek",offset:"UTC +06:00"},"Asia/Vientiane":{id:"Asia/Vientiane",countrycode:"LA",country:"Lao People's Democratic Republic",tz:"Asia/Vientiane",offset:"UTC +07:00"},"Europe/Riga":{id:"Europe/Riga",countrycode:"LV",country:"Latvia",tz:"Europe/Riga",offset:"UTC +02:00"},"Asia/Beirut":{id:"Asia/Beirut",countrycode:"LB",country:"Lebanon",tz:"Asia/Beirut",offset:"UTC +02:00"},"Africa/Maseru":{id:"Africa/Maseru",countrycode:"LS",country:"Lesotho",tz:"Africa/Maseru",offset:"UTC +02:00"},"Africa/Monrovia":{id:"Africa/Monrovia",countrycode:"LR",country:"Liberia",tz:"Africa/Monrovia",offset:"UTC"},"Africa/Tripoli":{id:"Africa/Tripoli",countrycode:"LY",country:"Libya",tz:"Africa/Tripoli",offset:"UTC +02:00"},"Europe/Vaduz":{id:"Europe/Vaduz",countrycode:"LI",country:"Liechtenstein",tz:"Europe/Vaduz",offset:"UTC +01:00"},"Europe/Vilnius":{id:"Europe/Vilnius",countrycode:"LT",country:"Lithuania",tz:"Europe/Vilnius",offset:"UTC +02:00"},"Europe/Luxembourg":{id:"Europe/Luxembourg",countrycode:"LU",country:"Luxembourg",tz:"Europe/Luxembourg",offset:"UTC +01:00"},"Asia/Macau":{id:"Asia/Macau",countrycode:"MO",country:"Macao",tz:"Asia/Macau",offset:"UTC +08:00"},"Europe/Skopje":{id:"Europe/Skopje",countrycode:"MK",country:"Macedonia, the Former Yugoslav Republic of",tz:"Europe/Skopje",offset:"UTC +01:00"},"Indian/Antananarivo":{id:"Indian/Antananarivo",countrycode:"MG",country:"Madagascar",tz:"Indian/Antananarivo",offset:"UTC +03:00"},"Africa/Blantyre":{id:"Africa/Blantyre",countrycode:"MW",country:"Malawi",tz:"Africa/Blantyre",offset:"UTC +02:00"},"Asia/Kuala_Lumpur":{id:"Asia/Kuala_Lumpur",countrycode:"MY",country:"Malaysia",tz:"Asia/Kuala_Lumpur",offset:"UTC +08:00"},"Asia/Kuching":{id:"Asia/Kuching",countrycode:"MY",country:"Malaysia",tz:"Asia/Kuching",offset:"UTC +08:00"},"Indian/Maldives":{id:"Indian/Maldives",countrycode:"MV",country:"Maldives",tz:"Indian/Maldives",offset:"UTC +05:00"},"Africa/Bamako":{id:"Africa/Bamako",countrycode:"ML",country:"Mali",tz:"Africa/Bamako",offset:"UTC"},"Europe/Malta":{id:"Europe/Malta",countrycode:"MT",country:"Malta",tz:"Europe/Malta",offset:"UTC +01:00"},"Pacific/Kwajalein":{id:"Pacific/Kwajalein",countrycode:"MH",country:"Marshall Islands",tz:"Pacific/Kwajalein",offset:"UTC +12:00"},"Pacific/Majuro":{id:"Pacific/Majuro",countrycode:"MH",country:"Marshall Islands",tz:"Pacific/Majuro",offset:"UTC +12:00"},"America/Martinique":{id:"America/Martinique",countrycode:"MQ",country:"Martinique",tz:"America/Martinique",offset:"UTC -04:00"},"Africa/Nouakchott":{id:"Africa/Nouakchott",countrycode:"MR",country:"Mauritania",tz:"Africa/Nouakchott",offset:"UTC"},"Indian/Mauritius":{id:"Indian/Mauritius",countrycode:"MU",country:"Mauritius",tz:"Indian/Mauritius",offset:"UTC +04:00"},"Indian/Mayotte":{id:"Indian/Mayotte",countrycode:"YT",country:"Mayotte",tz:"Indian/Mayotte",offset:"UTC +03:00"},"America/Bahia_Banderas":{id:"America/Bahia_Banderas",countrycode:"MX",country:"Mexico",tz:"America/Bahia_Banderas",offset:"UTC -06:00"},"America/Cancun":{id:"America/Cancun",countrycode:"MX",country:"Mexico",tz:"America/Cancun",offset:"UTC -05:00"},"America/Chihuahua":{id:"America/Chihuahua",countrycode:"MX",country:"Mexico",tz:"America/Chihuahua",offset:"UTC -07:00"},"America/Hermosillo":{id:"America/Hermosillo",countrycode:"MX",country:"Mexico",tz:"America/Hermosillo",offset:"UTC -07:00"},"America/Matamoros":{id:"America/Matamoros",countrycode:"MX",country:"Mexico",tz:"America/Matamoros",offset:"UTC -06:00"},"America/Mazatlan":{id:"America/Mazatlan",countrycode:"MX",country:"Mexico",tz:"America/Mazatlan",offset:"UTC -07:00"},"America/Merida":{id:"America/Merida",countrycode:"MX",country:"Mexico",tz:"America/Merida",offset:"UTC -06:00"},"America/Mexico_City":{id:"America/Mexico_City",countrycode:"MX",country:"Mexico",tz:"America/Mexico_City",offset:"UTC -06:00"},"America/Monterrey":{id:"America/Monterrey",countrycode:"MX",country:"Mexico",tz:"America/Monterrey",offset:"UTC -06:00"},"America/Ojinaga":{id:"America/Ojinaga",countrycode:"MX",country:"Mexico",tz:"America/Ojinaga",offset:"UTC -07:00"},"America/Tijuana":{id:"America/Tijuana",countrycode:"MX",country:"Mexico",tz:"America/Tijuana",offset:"UTC -08:00"},"Pacific/Chuuk":{id:"Pacific/Chuuk",countrycode:"FM",country:"Micronesia, Federated States of",tz:"Pacific/Chuuk",offset:"UTC +10:00"},"Pacific/Kosrae":{id:"Pacific/Kosrae",countrycode:"FM",country:"Micronesia, Federated States of",tz:"Pacific/Kosrae",offset:"UTC +11:00"},"Pacific/Pohnpei":{id:"Pacific/Pohnpei",countrycode:"FM",country:"Micronesia, Federated States of",tz:"Pacific/Pohnpei",offset:"UTC +11:00"},"Europe/Chisinau":{id:"Europe/Chisinau",countrycode:"MD",country:"Moldova, Republic of",tz:"Europe/Chisinau",offset:"UTC +02:00"},"Europe/Monaco":{id:"Europe/Monaco",countrycode:"MC",country:"Monaco",tz:"Europe/Monaco",offset:"UTC +01:00"},"Asia/Choibalsan":{id:"Asia/Choibalsan",countrycode:"MN",country:"Mongolia",tz:"Asia/Choibalsan",offset:"UTC +08:00"},"Asia/Hovd":{id:"Asia/Hovd",countrycode:"MN",country:"Mongolia",tz:"Asia/Hovd",offset:"UTC +07:00"},"Asia/Ulaanbaatar":{id:"Asia/Ulaanbaatar",countrycode:"MN",country:"Mongolia",tz:"Asia/Ulaanbaatar",offset:"UTC +08:00"},"Europe/Podgorica":{id:"Europe/Podgorica",countrycode:"ME",country:"Montenegro",tz:"Europe/Podgorica",offset:"UTC +01:00"},"America/Montserrat":{id:"America/Montserrat",countrycode:"MS",country:"Montserrat",tz:"America/Montserrat",offset:"UTC -04:00"},"Africa/Casablanca":{id:"Africa/Casablanca",countrycode:"MA",country:"Morocco",tz:"Africa/Casablanca",offset:"UTC +01:00"},"Africa/Maputo":{id:"Africa/Maputo",countrycode:"MZ",country:"Mozambique",tz:"Africa/Maputo",offset:"UTC +02:00"},"Asia/Yangon":{id:"Asia/Yangon",countrycode:"MM",country:"Myanmar",tz:"Asia/Yangon",offset:"UTC +06:30"},"Africa/Windhoek":{id:"Africa/Windhoek",countrycode:"NA",country:"Namibia",tz:"Africa/Windhoek",offset:"UTC +02:00"},"Pacific/Nauru":{id:"Pacific/Nauru",countrycode:"NR",country:"Nauru",tz:"Pacific/Nauru",offset:"UTC +12:00"},"Asia/Kathmandu":{id:"Asia/Kathmandu",countrycode:"NP",country:"Nepal",tz:"Asia/Kathmandu",offset:"UTC +05:45"},"Europe/Amsterdam":{id:"Europe/Amsterdam",countrycode:"NL",country:"Netherlands",tz:"Europe/Amsterdam",offset:"UTC +01:00"},"Pacific/Noumea":{id:"Pacific/Noumea",countrycode:"NC",country:"New Caledonia",tz:"Pacific/Noumea",offset:"UTC +11:00"},"Pacific/Auckland":{id:"Pacific/Auckland",countrycode:"NZ",country:"New Zealand",tz:"Pacific/Auckland",offset:"UTC +13:00"},"Pacific/Chatham":{id:"Pacific/Chatham",countrycode:"NZ",country:"New Zealand",tz:"Pacific/Chatham",offset:"UTC +13:45"},"America/Managua":{id:"America/Managua",countrycode:"NI",country:"Nicaragua",tz:"America/Managua",offset:"UTC -06:00"},"Africa/Niamey":{id:"Africa/Niamey",countrycode:"NE",country:"Niger",tz:"Africa/Niamey",offset:"UTC +01:00"},"Africa/Lagos":{id:"Africa/Lagos",countrycode:"NG",country:"Nigeria",tz:"Africa/Lagos",offset:"UTC +01:00"},"Pacific/Niue":{id:"Pacific/Niue",countrycode:"NU",country:"Niue",tz:"Pacific/Niue",offset:"UTC -11:00"},"Pacific/Norfolk":{id:"Pacific/Norfolk",countrycode:"NF",country:"Norfolk Island",tz:"Pacific/Norfolk",offset:"UTC +12:00"},"Pacific/Saipan":{id:"Pacific/Saipan",countrycode:"MP",country:"Northern Mariana Islands",tz:"Pacific/Saipan",offset:"UTC +10:00"},"Europe/Oslo":{id:"Europe/Oslo",countrycode:"NO",country:"Norway",tz:"Europe/Oslo",offset:"UTC +01:00"},"Asia/Muscat":{id:"Asia/Muscat",countrycode:"OM",country:"Oman",tz:"Asia/Muscat",offset:"UTC +04:00"},"Asia/Karachi":{id:"Asia/Karachi",countrycode:"PK",country:"Pakistan",tz:"Asia/Karachi",offset:"UTC +05:00"},"Pacific/Palau":{id:"Pacific/Palau",countrycode:"PW",country:"Palau",tz:"Pacific/Palau",offset:"UTC +09:00"},"Asia/Gaza":{id:"Asia/Gaza",countrycode:"PS",country:"Palestine, State of",tz:"Asia/Gaza",offset:"UTC +02:00"},"Asia/Hebron":{id:"Asia/Hebron",countrycode:"PS",country:"Palestine, State of",tz:"Asia/Hebron",offset:"UTC +02:00"},"America/Panama":{id:"America/Panama",countrycode:"PA",country:"Panama",tz:"America/Panama",offset:"UTC -05:00"},"Pacific/Bougainville":{id:"Pacific/Bougainville",countrycode:"PG",country:"Papua New Guinea",tz:"Pacific/Bougainville",offset:"UTC +11:00"},"Pacific/Port_Moresby":{id:"Pacific/Port_Moresby",countrycode:"PG",country:"Papua New Guinea",tz:"Pacific/Port_Moresby",offset:"UTC +10:00"},"America/Asuncion":{id:"America/Asuncion",countrycode:"PY",country:"Paraguay",tz:"America/Asuncion",offset:"UTC -03:00"},"America/Lima":{id:"America/Lima",countrycode:"PE",country:"Peru",tz:"America/Lima",offset:"UTC -05:00"},"Asia/Manila":{id:"Asia/Manila",countrycode:"PH",country:"Philippines",tz:"Asia/Manila",offset:"UTC +08:00"},"Pacific/Pitcairn":{id:"Pacific/Pitcairn",countrycode:"PN",country:"Pitcairn",tz:"Pacific/Pitcairn",offset:"UTC -08:00"},"Europe/Warsaw":{id:"Europe/Warsaw",countrycode:"PL",country:"Poland",tz:"Europe/Warsaw",offset:"UTC +01:00"},"Atlantic/Azores":{id:"Atlantic/Azores",countrycode:"PT",country:"Portugal",tz:"Atlantic/Azores",offset:"UTC -01:00"},"Atlantic/Madeira":{id:"Atlantic/Madeira",countrycode:"PT",country:"Portugal",tz:"Atlantic/Madeira",offset:"UTC"},"Europe/Lisbon":{id:"Europe/Lisbon",countrycode:"PT",country:"Portugal",tz:"Europe/Lisbon",offset:"UTC"},"America/Puerto_Rico":{id:"America/Puerto_Rico",countrycode:"PR",country:"Puerto Rico",tz:"America/Puerto_Rico",offset:"UTC -04:00"},"Asia/Qatar":{id:"Asia/Qatar",countrycode:"QA",country:"Qatar",tz:"Asia/Qatar",offset:"UTC +03:00"},"Europe/Bucharest":{id:"Europe/Bucharest",countrycode:"RO",country:"Romania",tz:"Europe/Bucharest",offset:"UTC +02:00"},"Asia/Anadyr":{id:"Asia/Anadyr",countrycode:"RU",country:"Russian Federation",tz:"Asia/Anadyr",offset:"UTC +12:00"},"Asia/Barnaul":{id:"Asia/Barnaul",countrycode:"RU",country:"Russian Federation",tz:"Asia/Barnaul",offset:"UTC +07:00"},"Asia/Chita":{id:"Asia/Chita",countrycode:"RU",country:"Russian Federation",tz:"Asia/Chita",offset:"UTC +09:00"},"Asia/Irkutsk":{id:"Asia/Irkutsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Irkutsk",offset:"UTC +08:00"},"Asia/Kamchatka":{id:"Asia/Kamchatka",countrycode:"RU",country:"Russian Federation",tz:"Asia/Kamchatka",offset:"UTC +12:00"},"Asia/Khandyga":{id:"Asia/Khandyga",countrycode:"RU",country:"Russian Federation",tz:"Asia/Khandyga",offset:"UTC +09:00"},"Asia/Krasnoyarsk":{id:"Asia/Krasnoyarsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Krasnoyarsk",offset:"UTC +07:00"},"Asia/Magadan":{id:"Asia/Magadan",countrycode:"RU",country:"Russian Federation",tz:"Asia/Magadan",offset:"UTC +11:00"},"Asia/Novokuznetsk":{id:"Asia/Novokuznetsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Novokuznetsk",offset:"UTC +07:00"},"Asia/Novosibirsk":{id:"Asia/Novosibirsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Novosibirsk",offset:"UTC +07:00"},"Asia/Omsk":{id:"Asia/Omsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Omsk",offset:"UTC +06:00"},"Asia/Sakhalin":{id:"Asia/Sakhalin",countrycode:"RU",country:"Russian Federation",tz:"Asia/Sakhalin",offset:"UTC +11:00"},"Asia/Srednekolymsk":{id:"Asia/Srednekolymsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Srednekolymsk",offset:"UTC +11:00"},"Asia/Tomsk":{id:"Asia/Tomsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Tomsk",offset:"UTC +07:00"},"Asia/Ust-Nera":{id:"Asia/Ust-Nera",countrycode:"RU",country:"Russian Federation",tz:"Asia/Ust-Nera",offset:"UTC +10:00"},"Asia/Vladivostok":{id:"Asia/Vladivostok",countrycode:"RU",country:"Russian Federation",tz:"Asia/Vladivostok",offset:"UTC +10:00"},"Asia/Yakutsk":{id:"Asia/Yakutsk",countrycode:"RU",country:"Russian Federation",tz:"Asia/Yakutsk",offset:"UTC +09:00"},"Asia/Yekaterinburg":{id:"Asia/Yekaterinburg",countrycode:"RU",country:"Russian Federation",tz:"Asia/Yekaterinburg",offset:"UTC +05:00"},"Europe/Astrakhan":{id:"Europe/Astrakhan",countrycode:"RU",country:"Russian Federation",tz:"Europe/Astrakhan",offset:"UTC +04:00"},"Europe/Kaliningrad":{id:"Europe/Kaliningrad",countrycode:"RU",country:"Russian Federation",tz:"Europe/Kaliningrad",offset:"UTC +02:00"},"Europe/Kirov":{id:"Europe/Kirov",countrycode:"RU",country:"Russian Federation",tz:"Europe/Kirov",offset:"UTC +03:00"},"Europe/Moscow":{id:"Europe/Moscow",countrycode:"RU",country:"Russian Federation",tz:"Europe/Moscow",offset:"UTC +03:00"},"Europe/Samara":{id:"Europe/Samara",countrycode:"RU",country:"Russian Federation",tz:"Europe/Samara",offset:"UTC +04:00"},"Europe/Saratov":{id:"Europe/Saratov",countrycode:"RU",country:"Russian Federation",tz:"Europe/Saratov",offset:"UTC +04:00"},"Europe/Ulyanovsk":{id:"Europe/Ulyanovsk",countrycode:"RU",country:"Russian Federation",tz:"Europe/Ulyanovsk",offset:"UTC +04:00"},"Europe/Volgograd":{id:"Europe/Volgograd",countrycode:"RU",country:"Russian Federation",tz:"Europe/Volgograd",offset:"UTC +04:00"},"Africa/Kigali":{id:"Africa/Kigali",countrycode:"RW",country:"Rwanda",tz:"Africa/Kigali",offset:"UTC +02:00"},"Indian/Reunion":{id:"Indian/Reunion",countrycode:"RE",country:"Réunion",tz:"Indian/Reunion",offset:"UTC +04:00"},"America/St_Barthelemy":{id:"America/St_Barthelemy",countrycode:"BL",country:"Saint Barthélemy",tz:"America/St_Barthelemy",offset:"UTC -04:00"},"Atlantic/St_Helena":{id:"Atlantic/St_Helena",countrycode:"SH",country:"Saint Helena, Ascension and Tristan da Cunha",tz:"Atlantic/St_Helena",offset:"UTC"},"America/St_Kitts":{id:"America/St_Kitts",countrycode:"KN",country:"Saint Kitts and Nevis",tz:"America/St_Kitts",offset:"UTC -04:00"},"America/St_Lucia":{id:"America/St_Lucia",countrycode:"LC",country:"Saint Lucia",tz:"America/St_Lucia",offset:"UTC -04:00"},"America/Marigot":{id:"America/Marigot",countrycode:"MF",country:"Saint Martin (French part)",tz:"America/Marigot",offset:"UTC -04:00"},"America/Miquelon":{id:"America/Miquelon",countrycode:"PM",country:"Saint Pierre and Miquelon",tz:"America/Miquelon",offset:"UTC -03:00"},"America/St_Vincent":{id:"America/St_Vincent",countrycode:"VC",country:"Saint Vincent and the Grenadines",tz:"America/St_Vincent",offset:"UTC -04:00"},"Pacific/Apia":{id:"Pacific/Apia",countrycode:"WS",country:"Samoa",tz:"Pacific/Apia",offset:"UTC +14:00"},"Europe/San_Marino":{id:"Europe/San_Marino",countrycode:"SM",country:"San Marino",tz:"Europe/San_Marino",offset:"UTC +01:00"},"Africa/Sao_Tome":{id:"Africa/Sao_Tome",countrycode:"ST",country:"Sao Tome and Principe",tz:"Africa/Sao_Tome",offset:"UTC"},"Asia/Riyadh":{id:"Asia/Riyadh",countrycode:"SA",country:"Saudi Arabia",tz:"Asia/Riyadh",offset:"UTC +03:00"},"Africa/Dakar":{id:"Africa/Dakar",countrycode:"SN",country:"Senegal",tz:"Africa/Dakar",offset:"UTC"},"Europe/Belgrade":{id:"Europe/Belgrade",countrycode:"RS",country:"Serbia",tz:"Europe/Belgrade",offset:"UTC +01:00"},"Indian/Mahe":{id:"Indian/Mahe",countrycode:"SC",country:"Seychelles",tz:"Indian/Mahe",offset:"UTC +04:00"},"Africa/Freetown":{id:"Africa/Freetown",countrycode:"SL",country:"Sierra Leone",tz:"Africa/Freetown",offset:"UTC"},"Asia/Singapore":{id:"Asia/Singapore",countrycode:"SG",country:"Singapore",tz:"Asia/Singapore",offset:"UTC +08:00"},"America/Lower_Princes":{id:"America/Lower_Princes",countrycode:"SX",country:"Sint Maarten (Dutch part)",tz:"America/Lower_Princes",offset:"UTC -04:00"},"Europe/Bratislava":{id:"Europe/Bratislava",countrycode:"SK",country:"Slovakia",tz:"Europe/Bratislava",offset:"UTC +01:00"},"Europe/Ljubljana":{id:"Europe/Ljubljana",countrycode:"SI",country:"Slovenia",tz:"Europe/Ljubljana",offset:"UTC +01:00"},"Pacific/Guadalcanal":{id:"Pacific/Guadalcanal",countrycode:"SB",country:"Solomon Islands",tz:"Pacific/Guadalcanal",offset:"UTC +11:00"},"Africa/Mogadishu":{id:"Africa/Mogadishu",countrycode:"SO",country:"Somalia",tz:"Africa/Mogadishu",offset:"UTC +03:00"},"Africa/Johannesburg":{id:"Africa/Johannesburg",countrycode:"ZA",country:"South Africa",tz:"Africa/Johannesburg",offset:"UTC +02:00"},"Atlantic/South_Georgia":{id:"Atlantic/South_Georgia",countrycode:"GS",country:"South Georgia and the South Sandwich Islands",tz:"Atlantic/South_Georgia",offset:"UTC -02:00"},"Africa/Juba":{id:"Africa/Juba",countrycode:"SS",country:"South Sudan",tz:"Africa/Juba",offset:"UTC +03:00"},"Africa/Ceuta":{id:"Africa/Ceuta",countrycode:"ES",country:"Spain",tz:"Africa/Ceuta",offset:"UTC +01:00"},"Atlantic/Canary":{id:"Atlantic/Canary",countrycode:"ES",country:"Spain",tz:"Atlantic/Canary",offset:"UTC"},"Europe/Madrid":{id:"Europe/Madrid",countrycode:"ES",country:"Spain",tz:"Europe/Madrid",offset:"UTC +01:00"},"Asia/Colombo":{id:"Asia/Colombo",countrycode:"LK",country:"Sri Lanka",tz:"Asia/Colombo",offset:"UTC +05:30"},"Africa/Khartoum":{id:"Africa/Khartoum",countrycode:"SD",country:"Sudan",tz:"Africa/Khartoum",offset:"UTC +02:00"},"America/Paramaribo":{id:"America/Paramaribo",countrycode:"SR",country:"Suriname",tz:"America/Paramaribo",offset:"UTC -03:00"},"Arctic/Longyearbyen":{id:"Arctic/Longyearbyen",countrycode:"SJ",country:"Svalbard and Jan Mayen",tz:"Arctic/Longyearbyen",offset:"UTC +01:00"},"Africa/Mbabane":{id:"Africa/Mbabane",countrycode:"SZ",country:"Swaziland",tz:"Africa/Mbabane",offset:"UTC +02:00"},"Europe/Stockholm":{id:"Europe/Stockholm",countrycode:"SE",country:"Sweden",tz:"Europe/Stockholm",offset:"UTC +01:00"},"Europe/Zurich":{id:"Europe/Zurich",countrycode:"CH",country:"Switzerland",tz:"Europe/Zurich",offset:"UTC +01:00"},"Asia/Damascus":{id:"Asia/Damascus",countrycode:"SY",country:"Syrian Arab Republic",tz:"Asia/Damascus",offset:"UTC +02:00"},"Asia/Taipei":{id:"Asia/Taipei",countrycode:"TW",country:"Taiwan, Province of China",tz:"Asia/Taipei",offset:"UTC +08:00"},"Asia/Dushanbe":{id:"Asia/Dushanbe",countrycode:"TJ",country:"Tajikistan",tz:"Asia/Dushanbe",offset:"UTC +05:00"},"Africa/Dar_es_Salaam":{id:"Africa/Dar_es_Salaam",countrycode:"TZ",country:"Tanzania, United Republic of",tz:"Africa/Dar_es_Salaam",offset:"UTC +03:00"},"Asia/Bangkok":{id:"Asia/Bangkok",countrycode:"TH",country:"Thailand",tz:"Asia/Bangkok",offset:"UTC +07:00"},"Asia/Dili":{id:"Asia/Dili",countrycode:"TL",country:"Timor-Leste",tz:"Asia/Dili",offset:"UTC +09:00"},"Africa/Lome":{id:"Africa/Lome",countrycode:"TG",country:"Togo",tz:"Africa/Lome",offset:"UTC"},"Pacific/Fakaofo":{id:"Pacific/Fakaofo",countrycode:"TK",country:"Tokelau",tz:"Pacific/Fakaofo",offset:"UTC +13:00"},"Pacific/Tongatapu":{id:"Pacific/Tongatapu",countrycode:"TO",country:"Tonga",tz:"Pacific/Tongatapu",offset:"UTC +13:00"},"America/Port_of_Spain":{id:"America/Port_of_Spain",countrycode:"TT",country:"Trinidad and Tobago",tz:"America/Port_of_Spain",offset:"UTC -04:00"},"Africa/Tunis":{id:"Africa/Tunis",countrycode:"TN",country:"Tunisia",tz:"Africa/Tunis",offset:"UTC +01:00"},"Europe/Istanbul":{id:"Europe/Istanbul",countrycode:"TR",country:"Turkey",tz:"Europe/Istanbul",offset:"UTC +03:00"},"Asia/Ashgabat":{id:"Asia/Ashgabat",countrycode:"TM",country:"Turkmenistan",tz:"Asia/Ashgabat",offset:"UTC +05:00"},"America/Grand_Turk":{id:"America/Grand_Turk",countrycode:"TC",country:"Turks and Caicos Islands",tz:"America/Grand_Turk",offset:"UTC -05:00"},"Pacific/Funafuti":{id:"Pacific/Funafuti",countrycode:"TV",country:"Tuvalu",tz:"Pacific/Funafuti",offset:"UTC +12:00"},"Africa/Kampala":{id:"Africa/Kampala",countrycode:"UG",country:"Uganda",tz:"Africa/Kampala",offset:"UTC +03:00"},"Europe/Kiev":{id:"Europe/Kiev",countrycode:"UA",country:"Ukraine",tz:"Europe/Kiev",offset:"UTC +02:00"},"Europe/Simferopol":{id:"Europe/Simferopol",countrycode:"UA",country:"Ukraine",tz:"Europe/Simferopol",offset:"UTC +03:00"},"Europe/Uzhgorod":{id:"Europe/Uzhgorod",countrycode:"UA",country:"Ukraine",tz:"Europe/Uzhgorod",offset:"UTC +02:00"},"Europe/Zaporozhye":{id:"Europe/Zaporozhye",countrycode:"UA",country:"Ukraine",tz:"Europe/Zaporozhye",offset:"UTC +02:00"},"Asia/Dubai":{id:"Asia/Dubai",countrycode:"AE",country:"United Arab Emirates",tz:"Asia/Dubai",offset:"UTC +04:00"},"Europe/London":{id:"Europe/London",countrycode:"GB",country:"United Kingdom",tz:"Europe/London",offset:"UTC"},"America/Adak":{id:"America/Adak",countrycode:"US",country:"United States",tz:"America/Adak",offset:"UTC -10:00"},"America/Anchorage":{id:"America/Anchorage",countrycode:"US",country:"United States",tz:"America/Anchorage",offset:"UTC -09:00"},"America/Boise":{id:"America/Boise",countrycode:"US",country:"United States",tz:"America/Boise",offset:"UTC -07:00"},"America/Chicago":{id:"America/Chicago",countrycode:"US",country:"United States",tz:"America/Chicago",offset:"UTC -06:00"},"America/Denver":{id:"America/Denver",countrycode:"US",country:"United States",tz:"America/Denver",offset:"UTC -07:00"},"America/Detroit":{id:"America/Detroit",countrycode:"US",country:"United States",tz:"America/Detroit",offset:"UTC -05:00"},"America/Indiana/Indianapolis":{id:"America/Indiana/Indianapolis",countrycode:"US",country:"United States",tz:"America/Indiana/Indianapolis",offset:"UTC -05:00"},"America/Indiana/Knox":{id:"America/Indiana/Knox",countrycode:"US",country:"United States",tz:"America/Indiana/Knox",offset:"UTC -06:00"},"America/Indiana/Marengo":{id:"America/Indiana/Marengo",countrycode:"US",country:"United States",tz:"America/Indiana/Marengo",offset:"UTC -05:00"},"America/Indiana/Petersburg":{id:"America/Indiana/Petersburg",countrycode:"US",country:"United States",tz:"America/Indiana/Petersburg",offset:"UTC -05:00"},"America/Indiana/Tell_City":{id:"America/Indiana/Tell_City",countrycode:"US",country:"United States",tz:"America/Indiana/Tell_City",offset:"UTC -06:00"},"America/Indiana/Vevay":{id:"America/Indiana/Vevay",countrycode:"US",country:"United States",tz:"America/Indiana/Vevay",offset:"UTC -05:00"},"America/Indiana/Vincennes":{id:"America/Indiana/Vincennes",countrycode:"US",country:"United States",tz:"America/Indiana/Vincennes",offset:"UTC -05:00"},"America/Indiana/Winamac":{id:"America/Indiana/Winamac",countrycode:"US",country:"United States",tz:"America/Indiana/Winamac",offset:"UTC -05:00"},"America/Juneau":{id:"America/Juneau",countrycode:"US",country:"United States",tz:"America/Juneau",offset:"UTC -09:00"},"America/Kentucky/Louisville":{id:"America/Kentucky/Louisville",countrycode:"US",country:"United States",tz:"America/Kentucky/Louisville",offset:"UTC -05:00"},"America/Kentucky/Monticello":{id:"America/Kentucky/Monticello",countrycode:"US",country:"United States",tz:"America/Kentucky/Monticello",offset:"UTC -05:00"},"America/Los_Angeles":{id:"America/Los_Angeles",countrycode:"US",country:"United States",tz:"America/Los_Angeles",offset:"UTC -08:00"},"America/Menominee":{id:"America/Menominee",countrycode:"US",country:"United States",tz:"America/Menominee",offset:"UTC -06:00"},"America/Metlakatla":{id:"America/Metlakatla",countrycode:"US",country:"United States",tz:"America/Metlakatla",offset:"UTC -09:00"},"America/New_York":{id:"America/New_York",countrycode:"US",country:"United States",tz:"America/New_York",offset:"UTC -05:00"},"America/Nome":{id:"America/Nome",countrycode:"US",country:"United States",tz:"America/Nome",offset:"UTC -09:00"},"America/North_Dakota/Beulah":{id:"America/North_Dakota/Beulah",countrycode:"US",country:"United States",tz:"America/North_Dakota/Beulah",offset:"UTC -06:00"},"America/North_Dakota/Center":{id:"America/North_Dakota/Center",countrycode:"US",country:"United States",tz:"America/North_Dakota/Center",offset:"UTC -06:00"},"America/North_Dakota/New_Salem":{id:"America/North_Dakota/New_Salem",countrycode:"US",country:"United States",tz:"America/North_Dakota/New_Salem",offset:"UTC -06:00"},"America/Phoenix":{id:"America/Phoenix",countrycode:"US",country:"United States",tz:"America/Phoenix",offset:"UTC -07:00"},"America/Sitka":{id:"America/Sitka",countrycode:"US",country:"United States",tz:"America/Sitka",offset:"UTC -09:00"},"America/Yakutat":{id:"America/Yakutat",countrycode:"US",country:"United States",tz:"America/Yakutat",offset:"UTC -09:00"},"Pacific/Honolulu":{id:"Pacific/Honolulu",countrycode:"US",country:"United States",tz:"Pacific/Honolulu",offset:"UTC -10:00"},"Pacific/Midway":{id:"Pacific/Midway",countrycode:"UM",country:"United States Minor Outlying Islands",tz:"Pacific/Midway",offset:"UTC -11:00"},"Pacific/Wake":{id:"Pacific/Wake",countrycode:"UM",country:"United States Minor Outlying Islands",tz:"Pacific/Wake",offset:"UTC +12:00"},"America/Montevideo":{id:"America/Montevideo",countrycode:"UY",country:"Uruguay",tz:"America/Montevideo",offset:"UTC -03:00"},"Asia/Samarkand":{id:"Asia/Samarkand",countrycode:"UZ",country:"Uzbekistan",tz:"Asia/Samarkand",offset:"UTC +05:00"},"Asia/Tashkent":{id:"Asia/Tashkent",countrycode:"UZ",country:"Uzbekistan",tz:"Asia/Tashkent",offset:"UTC +05:00"},"Pacific/Efate":{id:"Pacific/Efate",countrycode:"VU",country:"Vanuatu",tz:"Pacific/Efate",offset:"UTC +11:00"},"America/Caracas":{id:"America/Caracas",countrycode:"VE",country:"Venezuela, Bolivarian Republic of",tz:"America/Caracas",offset:"UTC -04:00"},"Asia/Ho_Chi_Minh":{id:"Asia/Ho_Chi_Minh",countrycode:"VN",country:"Viet Nam",tz:"Asia/Ho_Chi_Minh",offset:"UTC +07:00"},"America/Tortola":{id:"America/Tortola",countrycode:"VG",country:"Virgin Islands, British",tz:"America/Tortola",offset:"UTC -04:00"},"America/St_Thomas":{id:"America/St_Thomas",countrycode:"VI",country:"Virgin Islands, U.S.",tz:"America/St_Thomas",offset:"UTC -04:00"},"Pacific/Wallis":{id:"Pacific/Wallis",countrycode:"WF",country:"Wallis and Futuna",tz:"Pacific/Wallis",offset:"UTC +12:00"},"Africa/El_Aaiun":{id:"Africa/El_Aaiun",countrycode:"EH",country:"Western Sahara",tz:"Africa/El_Aaiun",offset:"UTC +01:00"},"Asia/Aden":{id:"Asia/Aden",countrycode:"YE",country:"Yemen",tz:"Asia/Aden",offset:"UTC +03:00"},"Africa/Lusaka":{id:"Africa/Lusaka",countrycode:"ZM",country:"Zambia",tz:"Africa/Lusaka",offset:"UTC +02:00"},"Africa/Harare":{id:"Africa/Harare",countrycode:"ZW",country:"Zimbabwe",tz:"Africa/Harare",offset:"UTC +02:00"},"Europe/Mariehamn":{id:"Europe/Mariehamn",countrycode:"AX",country:"Åland Islands",tz:"Europe/Mariehamn",offset:"UTC +02:00"}}}static get(t){return TimezoneDB.MAP[t]}static list(){let t=[];for(let e of Object.values(TimezoneDB.MAP))t.push(e);return t.sort(function(t,e){return t.id>e.id?1:t.id<e.id?-1:0}),t}}window.TimezoneDB=TimezoneDB;class ToolTip{static get DEFAULT_CONFIG(){return{id:null,icon:"help-circle",gravity:"n",iconclasses:[],text:null,parent:null,waittime:1e3,classes:[]}}static closeOpen(){clearTimeout(ToolTip.timer),ToolTip.activeTooltip&&(clearTimeout(ToolTip.activeTooltip.timer),ToolTip.activeTooltip.close())}constructor(t){return this.config=Object.assign({},ToolTip.DEFAULT_CONFIG,t),this.id||(this.id=`tt-${CFBUtils.getUniqueKey(5)}`),this}attach(t){const e=this;t&&t.container&&(t=t.container),this.parent=t,this.parent.appendChild(this.container),this.parent.setAttribute("data-tooltip","closed"),this.parent.addEventListener("mouseover",function(){e.open()}),this.parent.addEventListener("mouseout",function(){clearTimeout(ToolTip.timer),e.close()}),this.parent.addEventListener("focusin",function(){e.open()}),this.parent.addEventListener("focusout",function(){clearTimeout(ToolTip.timer),e.close()})}open(){const t=this;ToolTip.closeOpen(),ToolTip.timer=setTimeout(function(){t.openGuts()},this.waittime)}openGuts(){const t=this;ToolTip.closeOpen(),document.body.appendChild(this.container),this.container.removeAttribute("aria-hidden");let e=document.body.getBoundingClientRect(),i=this.parent.getBoundingClientRect(),n=i.left-e.left,s=i.top-e.top;switch(this.gravity){case"s":case"south":this.container.style.top=`${s+t.container.clientHeight+CFBUtils.getSingleEmInPixels()/2}px`,this.container.style.left=`${n-CFBUtils.getSingleEmInPixels()}px`;break;case"w":case"west":this.container.style.top=`${s}px`,this.container.style.left=`${n-this.container.clientWidth-CFBUtils.getSingleEmInPixels()/2}px`;break;case"e":case"east":this.container.style.top=`${s}px`,this.container.style.left=`${n+this.parent.offsetWidth+CFBUtils.getSingleEmInPixels()/2}px`;break;case"n":case"north":default:this.container.style.top=`${s-t.container.clientHeight-CFBUtils.getSingleEmInPixels()/2}px`,this.container.style.left=`${n-CFBUtils.getSingleEmInPixels()}px`}ToolTip.activeTooltip,ToolTip.activeTooltip=this}close(){this.container.setAttribute("aria-hidden","true"),this.parent.appendChild(this.container),ToolTip.activeTooltip=null}buildContainer(){switch(this.container=document.createElement("div"),this.container.classList.add("tooltip"),this.container.setAttribute("aria-hidden","true"),this.id&&this.container.setAttribute("id",this.id),this.gravity){case"s":case"south":this.container.classList.add("south");break;case"w":case"west":this.container.classList.add("west");break;case"e":case"east":this.container.classList.add("east");break;case"n":case"north":default:this.container.classList.add("north")}if(this.classes&&this.classes.length>0)for(let t of this.classes)this.container.classList.add(t);if(this.icon&&""!==this.icon){let t=IconFactory.icon(this.icon);if(t.classList.add("tipicon"),this.iconclasses&&this.iconclasses.length>0)for(let e of this.iconclasses)t.classList.add(e);this.container.appendChild(t)}this.tiptext=document.createElement("div"),this.tiptext.classList.add("tiptext"),this.tiptext.setAttribute("id",`${this.id}-text`),this.text&&(this.tiptext.innerHTML=this.text),this.container.appendChild(this.tiptext)}toString(){return CFBUtils.getConfig(this)}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get gravity(){return this.config.gravity}set gravity(t){this.config.gravity=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get iconclasses(){return this.config.iconclasses}set iconclasses(t){this.config.iconclasses=t}get id(){return this.config.id}set id(t){this.config.id=t}get parent(){return this.config.parent}set parent(t){this.config.parent=t}get text(){return this.config.text}set text(t){this.config.text=t}get timer(){return this._timer}set timer(t){this._timer=t}get tiptext(){return this._tiptext}set tiptext(t){this._tiptext=t}get tooltip(){return this._tooltip}set tooltip(t){this._tooltip=t}get waittime(){return this.config.waittime}set waittime(t){this.config.waittime=t}}window.ToolTip=ToolTip;class SimpleButton{static get DEFAULT_CONFIG(){return{id:null,submits:!1,arialabel:null,cansubmit:!0,text:null,shape:null,size:"medium",form:null,hidden:!1,tooltip:null,tipicon:null,tipgravity:"n",classes:[],icon:null,iconclasses:[],iconside:"left",secondicon:null,notab:!1,disabled:!1,mute:!1,ghost:!1,link:!1,naked:!1,action:null,focusin:null,focusout:null,hoverin:null,hoverout:null}}constructor(t){this.config=Object.assign({},SimpleButton.DEFAULT_CONFIG,t),this.id||(this.id=`button-${CFBUtils.getUniqueKey(5)}`)}get cansubmit(){return this.config.cansubmit}disable(){return this.button.setAttribute("disabled","disabled"),this.disabled=!0,this}enable(){return this.button.removeAttribute("disabled"),this.disabled=!1,this}show(){return this.button.classList.remove("hidden"),this.hidden=!1,this}hide(){return this.button.classList.add("hidden"),this.hidden=!0,this}openTooltip(){this.tooltipobj&&this.tooltipobj.open()}closeTooltip(){this.tooltipobj&&this.tooltipobj.close()}setIcon(t){let e=IconFactory.icon(t);if(this.iconclasses&&this.iconclasses.length>0)for(let t of this.iconclasses)e&&e.classList.add(t);this.icon?(this.button.replaceChild(e,this.iconactual),this.iconactual=e):(this.iconactual=e,this.button.prepend(this.iconactual))}buildButton(){const t=this;if(this.text&&(this.textobj=document.createElement("span"),this.textobj.classList.add("text"),this.textobj.innerHTML=this.text),this.button=document.createElement("button"),this.icon&&(this.iconactual=IconFactory.icon(this.icon)),this.secondicon&&(this.secondiconactual=IconFactory.icon(this.secondicon),this.secondiconactual.classList.add("secondicon")),this.iconclasses&&this.iconclasses.length>0)for(let t of this.iconclasses)this.iconactual&&this.iconactual.classList.add(t),this.secondiconactual&&this.secondiconactual.classList.add(t);this.iconside&&"right"===this.iconside&&this.button.classList.add("righticon"),this.iconactual&&this.button.appendChild(this.iconactual),this.textobj&&this.button.appendChild(this.textobj),this.secondiconactual&&this.button.appendChild(this.secondiconactual),this.arialabel?this.button.setAttribute("aria-label",this.arialabel):this.text&&this.button.setAttribute("aria-label",this.text),this.button.setAttribute("id",this.id),this.button.setAttribute("role","button"),this.button.setAttribute("type",this.submits?"submit":"button"),this.button.classList.add(this.size);for(let t of this.classes)this.button.classList.add(t);this.button.addEventListener("focusin",function(e){t.focusin&&"function"==typeof t.focusin&&t.focusin(e,t)}),this.button.addEventListener("focusout",function(e){t.focusout&&"function"==typeof t.focusout&&t.focusout(e,t)}),this.button.addEventListener("mouseover",function(e){t.hoverin&&"function"==typeof t.hoverin&&t.hoverin(e,t)}),this.button.addEventListener("mouseout",function(e){t.hoverout&&"function"==typeof t.hoverout&&t.hoverout(e,t)}),this.tooltip&&(this.tooltipobj=new ToolTip({id:`${this.id}-tt`,text:this.tooltip,icon:this.tipicon,gravity:this.tipgravity}),this.tooltipobj.attach(this.button)),this.notab?this.button.setAttribute("tabindex","-1"):this.button.setAttribute("tabindex","0"),this.disabled&&this.disable(),this.hidden&&this.hide(),this.mute?this.button.classList.add("mute"):this.ghost?this.button.classList.add("ghost"):this.link?this.button.classList.add("link"):this.naked&&this.button.classList.add("naked"),this.shape&&this.button.classList.add(this.shape),!this.submits&&this.action&&"function"==typeof this.action&&this.button.addEventListener("click",function(e){t.disabled||t.action(e,t)})}toString(){return CFBUtils.getConfig(this)}get action(){return this.config.action}set action(t){"function"!=typeof t&&console.error("Action provided to button is not a function!"),this.config.action=t}get arialabel(){return this.config.arialabel}set arialabel(t){this.config.arialabel=t}get button(){return this._button||this.buildButton(),this._button}set button(t){this._button=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this.button}set container(t){this.button=t}get disabled(){return this.config.disabled}set disabled(t){this.config.disabled=t}get focusin(){return this.config.focusin}set focusin(t){"function"!=typeof t&&console.error("Value provided to focusin is not a function!"),this.config.focusin=t}get focusout(){return this.config.focusout}set focusout(t){"function"!=typeof t&&console.error("Value provided to focusout is not a function!"),this.config.focusout=t}get form(){return this.config.form}set form(t){this.config.form=t}get ghost(){return this.config.ghost}set ghost(t){this.config.ghost=t}get hidden(){return this.config.hidden}set hidden(t){this.config.hidden=t}get hoverin(){return this.config.hoverin}set hoverin(t){"function"!=typeof t&&console.error("Value provided to hoverin is not a function!"),this.config.hoverin=t}get hoverout(){return this.config.hoverout}set hoverout(t){"function"!=typeof t&&console.error("Value provided to hoverout is not a function!"),this.config.hoverout=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get iconactual(){return this._iconactual}set iconactual(t){this._iconactual=t}get iconclasses(){return this.config.iconclasses}set iconclasses(t){this.config.iconclasses=t}get iconside(){return this.config.iconside}set iconside(t){this.config.iconside=t}get id(){return this.config.id}set id(t){this.config.id=t}get link(){return this.config.link}set link(t){this.config.link=t}get mute(){return this.config.mute}set mute(t){this.config.mute=t}get naked(){return this.config.naked}set naked(t){this.config.naked=t}get notab(){return this.config.notab}set notab(t){this.config.notab=t}get secondicon(){return this.config.secondicon}set secondicon(t){this.config.secondicon=t}get secondiconactual(){return this._secondiconactual}set secondiconactual(t){this._secondiconactual=t}get shape(){return this.config.shape}set shape(t){this.config.shape=t}get size(){return this.config.size}set size(t){this.config.size=t}get submits(){return this.config.submits}set submits(t){this.config.submits=t}get text(){return this.config.text}set text(t){this.textobj&&(this.textobj.innerHTML=t),this.config.text=t}get textobj(){return this._textobj}set textobj(t){this._textobj=t}get tipgravity(){return this.config.tipgravity}set tipgravity(t){this.config.tipgravity=t}get tipicon(){return this.config.tipicon}set tipicon(t){this.config.tipicon=t}get tooltip(){return this.config.tooltip}set tooltip(t){this.config.tooltip=t}get tooltipobj(){return this._tooltipobj}set tooltipobj(t){this._tooltipobj=t}}window.SimpleButton=SimpleButton;class ConstructiveButton extends SimpleButton{constructor(t){t.classes?t.classes.push("constructive"):t.classes=["constructive"],super(t)}}window.ConstructiveButton=ConstructiveButton;class DestructiveButton extends SimpleButton{constructor(t){t.classes?t.classes.push("destructive"):t.classes=["destructive"],super(t)}}window.DestructiveButton=DestructiveButton;class ButtonMenu extends SimpleButton{static get DEFAULT_CONFIG(){return{action:function(t,e){document.activeElement===e.button&&!e.isopen&&e.open(),t.stopPropagation()},gravity:"s",tooltipgravity:"e",data:null,secondicon:"triangle-down",autoclose:!0,menu:null,items:[]}}static closeOpen(){ButtonMenu.activeMenu&&ButtonMenu.activeMenu.close()}constructor(t){(t=Object.assign({},ButtonMenu.DEFAULT_CONFIG,t)).classes?t.classes.push("menu"):t.classes=["menu"],super(t),this.menu?this.processMenu():this.buildMenu()}get isopen(){return this.button.hasAttribute("aria-expanded")}toggle(){this.isopen?this.close():this.open()}open(){const t=this;if(this.isopen)return;if(ButtonMenu.closeOpen(),document.body.appendChild(this.menu),this.button.setAttribute("aria-expanded","true"),this.menu.removeAttribute("aria-hidden"),this.items&&this.items.length>0){let t=Array.from(this.menu.querySelector("li"));for(let e of t)e.setAttribute("tabindex","0")}let e=document.body.getBoundingClientRect(),i=this.button.getBoundingClientRect(),n=i.left-e.left,s=i.top-e.top,a=e.right-i.right;i.bottom,e.bottom;switch(this.menu.classList.add(this.gravity),this.gravity){case"w":case"west":this.menu.style.top=`${s}px`,this.menu.style.left=`${n-this.menu.clientWidth-CFBUtils.getSingleEmInPixels()/2}px`;break;case"e":case"east":this.menu.style.top=`${s}px`,this.menu.style.left=`${n+this.button.offsetWidth+CFBUtils.getSingleEmInPixels()/2}px`;break;case"n":case"north":this.menu.style.top=`${s-this.menu.clientHeight-CFBUtils.getSingleEmInPixels()/2}px`,this.menu.style.left=`${n-this.menu.offsetWidth+this.button.offsetWidth}px`;break;case"nw":case"northwest":this.menu.style.top=`${s-this.menu.clientHeight-CFBUtils.getSingleEmInPixels()/2}px`,this.menu.style.left=`${n}px`;break;case"se":case"southeast":this.menu.style.top=`${s+this.button.clientHeight+CFBUtils.getSingleEmInPixels()/2}px`,this.menu.style.left=`${n}px`;break;case"s":case"south":case"southwest":default:this.menu.style.top=`${s+t.button.clientHeight+CFBUtils.getSingleEmInPixels()/2}px`,this.menu.style.right=`${a}px`}ButtonMenu.activeTooltip,ButtonMenu.activeTooltip=this;let o=this.menu.querySelectorAll('[tabindex]:not([tabindex="-1"])');o&&o.length>0&&o[0].focus(),ButtonMenu.activeMenu,ButtonMenu.activeMenu=this,this.autoclose&&window.setTimeout(function(){t.setCloseListener()},200)}close(){if(this.button.removeAttribute("aria-expanded"),this.menu.setAttribute("aria-hidden","true"),this.items&&this.items.length>0){let t=Array.from(this.menu.querySelector("li"));for(let e of t)e.setAttribute("tabindex","-1")}this.button.appendChild(this.menu),ButtonMenu.activeMenu=null}setCloseListener(){const t=this;document.addEventListener("keydown",function(e){"Escape"===e.key&&t.close()},{once:!0}),window.addEventListener("click",function(e){let i=t.menu.tagName.toLowerCase();!t.menu.contains(e.target)||"form"!==i&&"div"!==i?t.menu.contains(e.target)?t.close():t.button.contains(e.target)?t.toggle():t.close():t.setCloseListener()},{once:!0})}buildMenu(){const t=this;this.menu=document.createElement("ul"),this.menu.classList.add("button-menu"),this.menu.setAttribute("aria-hidden","true"),this.menu.setAttribute("tabindex","0");let e=1;for(let i of this.items){let n=e+1,s=e-1;s<1&&(s=1),n>this.items.length&&(n=this.items.length);let a=document.createElement("li");a.setAttribute("tabindex","-1"),a.setAttribute("data-order",e),a.addEventListener("keyup",function(e){switch(e.key){case"Tab":case"Escape":t.close();break;case"ArrowUp":e.preventDefault(),t.menu.querySelector(`[data-order='${s}']`).focus();break;case"ArrowDown":e.preventDefault(),t.menu.querySelector(`[data-order='${n}']`).focus();break;case"Enter":case" ":t.querySelector("a").click()}});let o=document.createElement("a");i.icon&&o.appendChild(IconFactory.icon(i.icon));let r=document.createElement("span");r.innerHTML=i.label,o.appendChild(r),o.addEventListener("click",function(e){e.preventDefault(),i.action&&"function"==typeof i.action&&i.action(e,t),t.close()}),a.appendChild(o),i.tooltip&&new ToolTip({text:i.tooltip,icon:i.tipicon,gravity:this.tooltipgravity}).attach(a),this.menu.appendChild(a),e++}this.button.appendChild(this.menu)}processMenu(){const t=this;this.menu.setAttribute("aria-hidden","true"),this.menu.setAttribute("tabindex","0"),this.menu.classList.add("button-menu"),this.button.appendChild(this.menu),this.menu.addEventListener("keyup",function(e){"Escape"===e.key&&t.close()})}get autoclose(){return this.config.autoclose}set autoclose(t){this.config.autoclose=t}get data(){return this.config.data}set data(t){this.config.data=t}get gravity(){return this.config.gravity}set gravity(t){this.config.gravity=t}get items(){return this.config.items}set items(t){this.config.items=t}get menu(){return this.config.menu}set menu(t){this.config.menu=t}get tooltipgravity(){return this.config.tooltipgravity}set tooltipgravity(t){this.config.tooltipgravity=t}}window.ButtonMenu=ButtonMenu;class CloseButton extends SimpleButton{static get DEFAULT_CONFIG(){return{icon:"echx",text:TextFactory.get("close"),shape:"square",iconclasses:["closeicon"],classes:["naked","closebutton"]}}constructor(t){super(t=Object.assign({},CloseButton.DEFAULT_CONFIG,t))}}window.CloseButton=CloseButton;class HelpButton extends SimpleButton{static get DEFAULT_CONFIG(){return{action:function(t,e){e.tooltip.open()},icon:"help-circle",tipicon:"help-circle",tipgravity:"n",arialabel:TextFactory.get("help"),iconclasses:["helpicon"],tooltip:null}}constructor(t){(t=Object.assign({},HelpButton.DEFAULT_CONFIG,t)).classes?t.classes.includes("tagbutton")||(t.classes.push("naked"),t.classes.push("help")):t.classes=["naked","help"],t.id||(t.id=`${CFBUtils.getUniqueKey(5)}-help`),super(t)}}window.HelpButton=HelpButton;class SkipButton extends SimpleButton{static get DEFAULT_CONFIG(){return{text:TextFactory.get("skip_to_content"),classes:["visually-hidden","skipbutton"],id:"content-jump",hot:!0,contentstart:"#content-start",focusin:function(t,e){e.button.classList.remove("visually-hidden")},focusout:function(t,e){e.button.classList.add("visually-hidden")},action:function(t,e){let i=location.href;location.href=e.contentstart,history.replaceState(null,null,i)}}}constructor(t){super(t=Object.assign({},SkipButton.DEFAULT_CONFIG,t))}get contentstart(){return this.config.contentstart}set contentstart(t){this.config.contentstart=t}}window.SkipButton=SkipButton;class HamburgerButton extends SimpleButton{static get DEFAULT_CONFIG(){return{toggletarget:null,text:TextFactory.get("open_menu"),shape:"square",naked:!0,icon:HamburgerButton.MAGIC_HAMBURGER,action:function(t,e){e.toggle()}}}static get MAGIC_HAMBURGER(){let t=document.createElement("span");return t.classList.add("magichamburger"),t.innerHTML="<span></span><span></span><span></span>",t}constructor(t){(t=Object.assign({},HamburgerButton.DEFAULT_CONFIG,t)).classes?t.classes.push("hamburger"):t.classes=["hamburger"],super(t)}get isopen(){return this.button.hasAttribute("aria-expanded")}toggle(){this.isopen?this.close():(this.open(),this.toggletarget&&this.toggletarget.toggle&&this.toggletarget.toggle())}open(){this.isopen||this.button.setAttribute("aria-expanded","true")}close(){this.button.removeAttribute("aria-expanded")}get toggletarget(){return this.config.toggletarget}set toggletarget(t){this.config.toggletarget=t}}window.HamburgerButton=HamburgerButton;class TagButton extends HelpButton{static get DEFAULT_CONFIG(){return{iconside:"right",icon:"echx",iconclasses:["tagicon"],shape:"pill",size:"small"}}constructor(t){(t=Object.assign({},TagButton.DEFAULT_CONFIG,t)).classes?t.classes.push("tagbutton"):t.classes=["tagbutton"],super(t)}}window.TagButton=TagButton;class DatePicker{static get DEFAULT_CONFIG(){return{dateicon:"calendar",startdate:null,value:null,timezone:"GMT",basetime:"12:00:00",locale:"en-US",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],onselect:null,classes:[]}}constructor(t){t||(t={}),this.config=Object.assign({},DatePicker.DEFAULT_CONFIG,t)}getMonthName(t){return this.months[t]}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("datepicker");for(let t of this.classes)this.container.classList.add(t);this.container.addEventListener("click",function(t){t.stopPropagation()}),this.monthbox=document.createElement("div"),this.monthbox.classList.add("monthbox"),this.renderMonth(this.startdate),this.container.appendChild(this.monthbox)}renderMonth(t){const e=this;let i=new Date,n=new Date(`${i.getFullYear()}-${i.getMonth()+1}-${i.getDate()} ${this.basetime}`);t?"string"==typeof t&&(t=new Date(`${t} ${this.basetime}`),this.value=t,this.startdate=t):t=n;let s=new Date(t.getFullYear(),t.getMonth()).getDay(),a=32-new Date(t.getFullYear(),t.getMonth(),32).getDate(),o=new Date(t.getFullYear(),t.getMonth()-1),r=new Date(o.getFullYear(),o.getMonth(),0).getDate(),c=new Date(t.getFullYear(),t.getMonth()+1),l=document.createElement("div");l.classList.add("month");let u=document.createElement("div");u.classList.add("datepicker-header");let d=new SimpleButton({shape:"square",mute:!0,size:"small",icon:"triangle-left",action:function(t){t.preventDefault(),e.renderMonth(o)}}),h=new SimpleButton({shape:"square",mute:!0,size:"small",icon:"triangle-right",action:function(t){t.preventDefault(),e.renderMonth(c)}}),f=document.createElement("div");f.classList.add("name"),f.innerHTML=`${this.getMonthName(t.getMonth())}, ${t.getFullYear()}`,u.appendChild(f),u.appendChild(d.button),u.appendChild(h.button),l.appendChild(u);let g=document.createElement("table");g.classList.add("month");let p=document.createElement("thead"),m=document.createElement("tr");for(let t of this.weekdays){let e=document.createElement("th");e.innerHTML=t.charAt(0),new ToolTip({tipicon:"",classes:["unfixed"],text:t}).attach(e),m.appendChild(e)}p.appendChild(m),g.appendChild(p);let b=document.createElement("tbody"),y=1,A=1,C=r-s,T=0;for(let i=0;i<=5;i++){let i=document.createElement("tr");for(let r=0;r<=6;r++){let r,l=document.createElement("td"),u=document.createElement("a");u.setAttribute("data-cellno",T),T>=s&&y<=a?(u.innerHTML=y,u.classList.add("cmonth"),u.setAttribute("data-day",`${t.getFullYear()}-${t.getMonth()+1}-${y}`),r=new Date(`${t.getFullYear()}-${t.getMonth()+1}-${y} ${this.basetime}`),y++):T<s?(u.innerHTML=C,r=new Date(`${o.getFullYear()}-${o.getMonth()+1}-${C} ${this.basetime}`),u.setAttribute("data-day",`${o.getFullYear()}-${o.getMonth()+1}-${C}`),C++):(r=new Date(`${c.getFullYear()}-${c.getMonth()+2}-${A} ${this.basetime}`),u.innerHTML=A,u.setAttribute("data-day",`${c.getFullYear()}-${c.getMonth()+2}-${A}`),A++),u.addEventListener("click",function(t){t.stopPropagation(),e.select(u)}),u.addEventListener("keydown",function(t){let i=parseInt(u.getAttribute("data-cellno"))-1,n=parseInt(u.getAttribute("data-cellno"))+1;switch(t.key){case"ArrowLeft":case"ArrowUp":let s=b.querySelector(`[data-cellno='${i}'`);s&&s.focus(),t.stopPropagation();break;case"ArrowRight":case"ArrowDown":let a=b.querySelector(`[data-cellno='${n}'`);a&&a.focus(),t.stopPropagation();break;case"Enter":case" ":e.select(u),t.stopPropagation()}return!1}),u.setAttribute("aria-label",u.getAttribute("data-day")),u.setAttribute("tabindex",0),r.getTime()===n.getTime()?u.classList.add("today"):r.getTime()<n.getTime()?u.classList.add("past"):r.getTime()>n.getTime()&&u.classList.add("future"),this.value&&this.startdate.getFullYear()===r.getFullYear()&&this.startdate.getMonth()===r.getMonth()&&this.startdate.getDate()===r.getDate()&&u.setAttribute("aria-selected",!0),l.appendChild(u),i.appendChild(l),T++}b.appendChild(i)}g.appendChild(b),l.append(g),this.monthbox.innerHTML="",this.monthbox.appendChild(l)}select(t){this.startdate=new Date(t.getAttribute("data-day")),this.onselect&&"function"==typeof this.onselect&&this.onselect(t.getAttribute("data-day"))}get basetime(){return this.config.basetime}set basetime(t){this.config.basetime=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get dateicon(){return this.config.dateicon}set dateicon(t){this.config.dateicon=t}get id(){return this.config.id}set id(t){this.config.id=t}get locale(){return this.config.locale}set locale(t){this.config.locale=t}get monthbox(){return this._monthbox}set monthbox(t){this._monthbox=t}get months(){return this.config.months}set months(t){this.config.months=t}get onselect(){return this.config.onselect}set onselect(t){this.config.onselect=t}get startdate(){return this.config.startdate}set startdate(t){this.config.startdate=t}get timezone(){return this.config.timezone}set timezone(t){this.config.timezone=t}get weekdays(){return this.config.weekdays}set weekdays(t){this.config.weekdays=t}get value(){return this.config.value}set value(t){this.config.value=t}}window.DatePicker=DatePicker;class InputElement{static get DEFAULT_CONFIG(){return{id:null,name:null,form:null,counter:null,forceconstraints:null,type:"text",label:null,placeholder:null,title:null,pattern:null,icon:null,minimal:!1,passive:!1,unsettext:TextFactory.get("not_set"),help:null,helpwaittime:5e3,required:!1,requiredtext:TextFactory.get("required_lc"),requirederror:TextFactory.get("input-error-required"),hidden:!1,autocomplete:"off",arialabel:null,maxlength:null,value:"",disabled:!1,classes:[],onchange:null,onreturn:null,ontab:null,onkeyup:null,onkeydown:null,focusin:null,focusout:null,validator:null,renderer:function(t){return`${t}`}}}constructor(t){t||(t={}),this.config=Object.assign({},TextInput.DEFAULT_CONFIG,t),this.arialabel||(this.label?this.arialabel=this.label:this.title&&(this.arialabel=this.title)),this.id||(this.id=`e-${CFBUtils.getUniqueKey(5)}`),this.name||(this.name=this.id),this.config.value||(this.config.value=""),this.config.value?this.origval=this.config.value:this.origval="",this.touched=!1}get inputmode(){return"text"}get topcontrol(){return this.charactercounter}get inputcontrol(){return null}get naked(){return this.input}isDirty(){return this.origval!==this.value}validate(t){return this.errors=[],this.warnings=[],t||!this.required||this.value&&0!==this.value.length||this.errors.push(this.requirederror),this.localValidator&&"function"==typeof this.localValidator&&this.localValidator(t),this.validator&&"function"==typeof this.validator&&this.validator(this),this.errors.length>0||this.warnings.length>0?(this.showMessages(),this.errors.length>0?this.input.setAttribute("aria-invalid","true"):this.input.removeAttribute("aria-invalid")):(this.clearMessages(),this.input.removeAttribute("aria-invalid"),this.isDirty()&&!t?this.container.classList.add("valid"):this.container.classList.remove("valid")),this.errors.length<1}localValidator(t){}showMessages(){this.messagebox.innerHTML="";for(let t of this.errors)this.addError(t);for(let t of this.warnings)this.addWarning(t);this.errors.length>0?this.container.classList.add("error"):this.warnings.length>0&&this.container.classList.add("warning"),this.messagebox.removeAttribute("aria-hidden")}clearMessages(){this.errors=[],this.warnings=[],this.messagebox.innerHTML="",this.messagebox.setAttribute("aria-hidden","true"),this.container.classList.remove("error"),this.container.classList.remove("warning")}addError(t){let e=document.createElement("li");e.classList.add("error"),e.innerHTML=t,this.messagebox.appendChild(e)}addWarning(t){let e=document.createElement("li");e.classList.add("warning"),e.innerHTML=t,this.messagebox.appendChild(e)}updateCounter(){if(!this.counter)return;let t="";t="limit"===this.counter?TextFactory.get("input-counter-limit",this.value.length,this.maxlength):"sky"===this.counter?TextFactory.get("input-counter-sky",this.value.length):TextFactory.get("input-counter-remaining",this.maxlength-this.value.length),this.charactercounter.innerHTML=t,this.maxlength&&this.value.length>=this.maxlength?this.charactercounter.classList.add("outofbounds"):"sky"!==this.counter&&this.value.length>=.9*this.maxlength?(this.charactercounter.classList.remove("outofbounds"),this.charactercounter.classList.add("danger")):(this.charactercounter.classList.remove("danger"),this.charactercounter.classList.remove("outofbounds"))}calculatePlaceholder(){return""}disable(){this.input.setAttribute("disabled","true"),this.disabled=!0,this.container&&this.container.classList.add("disabled")}enable(){this.input.removeAttribute("disabled"),this.disabled=!1,this.container&&this.container.classList.remove("disabled")}pacify(){this.container.classList.add("passive"),this.passive=!0}activate(){this.container.classList.remove("passive"),this.passive=!1}toggleActivation(){this.container.classList.contains("passive")?this.activate():this.pacify()}get passivetext(){let t;return this.value?t=this.value:this.config.value&&(t=this.config.value),t?this.renderer?this.renderer(t):t:this.unsettext}buildContainer(){if(this.container=document.createElement("div"),this.container.classList.add("input-container"),this.classes)for(let t of this.classes)this.container.classList.add(t);this.label&&this.container.appendChild(this.labelobj);let t=document.createElement("div");t.classList.add("wrap"),t.appendChild(this.input),this.inputcontrol&&t.appendChild(this.inputcontrol),this.container.appendChild(t),this.minimal||(this.container.appendChild(this.passivebox),this.topcontrol&&this.container.appendChild(this.topcontrol),this.container.appendChild(this.messagebox)),this.minimal&&this.container.classList.add("minimal"),this.postContainerScrub()}postContainerScrub(){this.required&&(this.container.classList.add("required"),this.input.setAttribute("required","required")),this.mute&&this.container.classList.add("mute"),this.disabled&&this.container.classList.add("disabled"),this.hidden&&(this.container.style.display="none",this.container.setAttribute("aria-hidden","true")),this.config.value&&this.config.value.length>0&&this.container.classList.add("filled"),this.passive&&this.pacify(),this.help&&(this.input.setAttribute("aria-describedby",`${this.id}-help-tt`),this.input.setAttribute("aria-labelledby",`${this.id}-label`)),this.validate(!0)}buildInactiveBox(){this.passivebox=document.createElement("div"),this.passivebox.classList.add("passivebox"),this.passivebox.innerHTML=this.passivetext}buildInput(){const t=this;if("textarea"===this.type?this.input=document.createElement("textarea"):this.input=document.createElement("input"),this.input.setAttribute("type",this.type),this.input.setAttribute("id",this.id),this.input.setAttribute("name",this.name),this.input.setAttribute("inputmode",this.inputmode),this.input.setAttribute("aria-describedby",`msg-${this.id}`),this.input.setAttribute("role","textbox"),this.input.setAttribute("tabindex","0"),this.input.setAttribute("placeholder",this.placeholder),this.title&&this.input.setAttribute("title",this.title),this.autocomplete&&this.input.setAttribute("autocomplete",this.autocomplete),this.arialabel&&this.input.setAttribute("aria-label",this.arialabel),this.pattern&&this.input.setAttribute("pattern",this.pattern),this.maxlength&&this.input.setAttribute("maxlength",this.maxlength),this.classes)for(let t of this.classes)this.input.classList.add(t);this.input.addEventListener("change",function(e){t.onchange&&"function"==typeof t.onchange&&t.onchange(t)}),this.input.addEventListener("keydown",function(e){t.input.removeAttribute("aria-invalid"),t.updateCounter(),t.touched=!0,t.onkeydown&&"function"==typeof t.onkeydown&&t.onkeydown(e,t)}),this.input.addEventListener("keyup",function(e){t.helptimer&&(clearTimeout(t.helptimer),t.helpbutton.closeTooltip()),t.value&&t.value.length>0&&t.container?t.container.classList.add("filled"):t.container.classList.remove("filled"),t.form&&t.required&&(0===t.input.value.length||1===t.input.value.length)&&t.form&&t.form.validate(),"Enter"===e.key&&t.onreturn&&"function"==typeof t.onreturn?(e.preventDefault(),e.stopPropagation(),t.onreturn(e,t)):t.onkeyup&&"function"==typeof t.onkeyup&&t.onkeyup(e,t)}),this.input.addEventListener("focusin",function(e){t.mute&&t.placeholder&&t.placeholder!==t.label&&t.input.setAttribute("placeholder",t.placeholder),t.container&&t.container.classList.add("active"),t.help&&(t.helptimer=setTimeout(function(){t.helpbutton.openTooltip()},t.helpwaittime)),t.focusin&&"function"==typeof t.focusin&&t.focusin(e,t)}),this.input.addEventListener("focusout",function(e){t.passivebox&&(t.passivebox.innerHTML=t.passivetext),t.helptimer&&(clearTimeout(t.helptimer),t.helpbutton.closeTooltip()),t.mute&&t.label&&t.input.setAttribute("placeholder",`${t.label} ${t.required?"("+t.requiredtext+")":""}`),t.container&&t.container.classList.remove("active"),t.validate(),t.form&&t.form.validate(),t.focusout&&"function"==typeof t.focusout&&t.focusout(e,t)}),this.input.value=this.config.value,this.required&&(this.input.setAttribute("required","true"),this.label&&this.labelobj.setAttribute("data-required-text",`${this.requiredtext}`)),this.mute&&(this.input.classList.add("mute"),this.label&&this.input.setAttribute("placeholder",`${this.label} ${this.required?"("+this.requiredtext+")":""}`)),this.hidden&&this.input.setAttribute("hidden","hidden"),this.disabled&&this.disable(),this.icon&&this.input.classList.add(`cfb-${this.icon}`)}buildLabel(){if(!this.label)return null;this.labelobj=document.createElement("label"),this.labelobj.setAttribute("for",this.id),this.labelobj.setAttribute("id",`${this.id}-label`),this.labelobj.innerHTML=this.label,this.form&&this.labelobj.setAttribute("form",this.form.id),this.help&&(this.helpbutton=new HelpButton({id:`${this.id}-help`,tooltip:this.help}),this.labelobj.appendChild(this.helpbutton.button))}buildMessagebox(){this.messagebox=document.createElement("ul"),this.messagebox.setAttribute("id",`msg-${this.id}`),this.messagebox.classList.add("messagebox")}buildCharacterCounter(){this.counter&&(this.charactercounter=document.createElement("div"),this.charactercounter.classList.add("charcounter"),this.charactercounter.classList.add("topcontrol"),this.charactercounter.classList.add(this.counter),(!this.maxlength||this.maxlength<=0)&&(this.counter="sky"),this.updateCounter())}toString(){return CFBUtils.getConfig(this)}get arialabel(){return this.config.arialabel}set arialabel(t){this.config.arialabel=t}get autocomplete(){return this.config.autocomplete}set autocomplete(t){this.config.autocomplete=t}get charactercounter(){return this._charactercounter||this.buildCharacterCounter(),this._charactercounter}set charactercounter(t){this._charactercounter=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get counter(){return this.config.counter}set counter(t){this.config.counter=t}get disabled(){return this.config.disabled}set disabled(t){this.config.disabled=t}get helptimer(){return this._helptimer}set helptimer(t){this._helptimer=t}get messagebox(){return this._messagebox||this.buildMessagebox(),this._messagebox}set messagebox(t){this._messagebox=t}get errors(){return this._errors}set errors(t){this._errors=t}get focusin(){return this.config.focusin}set focusin(t){"function"!=typeof t&&console.error("Action provided for focusin is not a function!"),this.config.focusin=t}get focusout(){return this.config.focusout}set focusout(t){"function"!=typeof t&&console.error("Action provided for focusout is not a function!"),this.config.focusout=t}get form(){return this.config.form}set form(t){this.config.form=t}get forceconstraints(){return this.config.forceconstraints}set forceconstraints(t){this.config.forceconstraints=t}get hidden(){return this.config.hidden}set hidden(t){this.config.hidden=t}get help(){return this.config.help}set help(t){this.config.help=t}get helpbutton(){return this._helpbutton}set helpbutton(t){this._helpbutton=t}get helpwaittime(){return this.config.helpwaittime}set helpwaittime(t){this.config.helpwaittime=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get id(){return this.config.id}set id(t){this.config.id=t}get input(){return this._input||this.buildInput(),this._input}set input(t){this._input=t}get label(){return this.config.label}set label(t){this.config.label=t}get labelobj(){return this._labelobj||this.buildLabel(),this._labelobj}set labelobj(t){this._labelobj=t}get maxlength(){return this.config.maxlength}set maxlength(t){this.config.maxlength=t}get minimal(){return this.config.minimal}set minimal(t){this.config.minimal=t}get mute(){return this.config.mute}set mute(t){this.config.mute=t}get name(){return this.config.name}set name(t){this.config.name=t}get onchange(){return this.config.onchange}set onchange(t){"function"!=typeof t&&console.error("Action provided for onchange is not a function!"),this.config.onchange=t}get onkeydown(){return this.config.onkeydown}set onkeydown(t){"function"!=typeof t&&console.error("Action provided for onkeydown is not a function!"),this.config.onkeydown=t}get onkeyup(){return this.config.onkeyup}set onkeyup(t){"function"!=typeof t&&console.error("Action provided for onkeyup is not a function!"),this.config.onkeyup=t}get onreturn(){return this.config.onreturn}set onreturn(t){"function"!=typeof t&&console.error("Action provided for onreturn is not a function!"),this.config.onreturn=t}get ontab(){return this.config.ontab}set ontab(t){"function"!=typeof t&&console.error("Action provided for ontab is not a function!"),this.config.ontab=t}get origval(){return this.config.origval}set origval(t){this.config.origval=t}get passive(){return this.config.passive}set passive(t){this.config.passive=t}get passivebox(){return this._passivebox||this.buildInactiveBox(),this._passivebox}set passivebox(t){this._passivebox=t}get pattern(){return this.config.pattern}set pattern(t){this.config.pattern=t}get placeholder(){return this.config.placeholder?this.config.placeholder:this.calculatePlaceholder()}set placeholder(t){this.config.placeholder=t}get renderer(){return this.config.renderer}set renderer(t){"function"!=typeof t&&console.error("Value provided to renderer is not a function!"),this.config.renderer=t}get required(){return this.config.required}set required(t){this.config.required=t}get requirederror(){return this.config.requirederror}set requirederror(t){this.config.requirederror=t}get requiredtext(){return this.config.requiredtext}set requiredtext(t){this.config.requiredtext=t}get title(){return this.config.title}set title(t){this.config.title=t}get touched(){return this._touched}set touched(t){this._touched=t}get type(){return this.config.type}set type(t){this.config.type=t}get unsettext(){return this.config.unsettext}set unsettext(t){this.config.unsettext=t}get validator(){return this.config.validator}set validator(t){this.config.validator=t}get value(){return this.input.value}set value(t){this.config.value=t,this.input.value=t,this.passivebox.value=t}get warnings(){return this._warnings}set warnings(t){this._warnings=t}}window.InputElement=InputElement;class TextInput extends InputElement{constructor(t){t||(t={}),t.type="text",super(t)}}window.TextInput=TextInput;class BooleanToggle{static get DEFAULT_CONFIG(){return{id:null,name:null,form:null,label:null,checked:!1,classes:[],disabled:!1,labelside:"right",style:null,onchange:null,validator:null,value:null,renderer:function(t){return`${t}`}}}constructor(t){t||(t={}),this.config=Object.assign({},BooleanToggle.DEFAULT_CONFIG,t),!this.arialabel&&this.label&&(this.arialabel=this.label),this.id||(this.id=`check-${CFBUtils.getUniqueKey(5)}`),this.name||(this.name=this.id),this.origval=this.checked}get naked(){return this.toggle}validate(){let t=!0;return this.validator&&"function"==typeof this.validator&&(t=this.validator(this)),t}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("input-container"),this.container.classList.add("checkbox"),this.hidden&&(this.container.style.display="none"),this.disabled&&this.container.classList.add("disabled");for(let t of this.classes)this.container.classList.add(t);"right"===this.labelside?(this.container.classList.add("rightside"),this.container.appendChild(this.toggle),this.container.appendChild(this.labelobj)):(this.container.appendChild(this.labelobj),this.container.appendChild(this.toggle))}build(){const t=this;this.toggle=document.createElement("input"),this.toggle.setAttribute("type","checkbox"),this.toggle.setAttribute("id",this.id),this.toggle.setAttribute("name",this.name),this.toggle.setAttribute("tabindex","0"),this.toggle.setAttribute("role","checkbox"),this.toggle.setAttribute("value",this.value),this.toggle.classList.add(this.style);for(let t of this.classes)this.toggle.classList.add(t);this.toggle.addEventListener("change",function(){t.toggle.checked?(t.toggle.setAttribute("aria-checked","true"),t.toggle.checked=!0):(t.toggle.removeAttribute("aria-checked"),t.toggle.checked=!1),t.checked=t.toggle.checked,t.onchange&&"function"==typeof t.onchange&&t.onchange(t)}),this.disabled&&this.disable(),this.hidden&&this.toggle.setAttribute("hidden","true"),this.checked&&(this.toggle.checked=!0,this.toggle.setAttribute("aria-checked","true"))}buildLabel(){if(!this.label)return null;this.labelobj=document.createElement("label"),this.labelobj.setAttribute("for",this.id),this.labelobj.innerHTML=this.label,this.form&&this.labelobj.setAttribute("form",this.form.id)}disable(){this.toggle.setAttribute("disabled","disabled"),this.disabled=!0,this.container&&this.container.classList.add("disabled")}enable(){this.toggle.removeAttr("disabled"),this.disabled=!1,this.container&&this.container.classList.remove("disabled")}toString(){return CFBUtils.getConfig(this)}get arialabel(){return this.config.arialabel}set arialabel(t){this.config.arialabel=t}get checked(){return this.config.checked}set checked(t){this.config.checked=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get disabled(){return this.config.disabled}set disabled(t){this.config.disabled=t}get form(){return this.config.form}set form(t){this.config.form=t}get hidden(){return this.config.hidden}set hidden(t){this.config.hidden=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get id(){return this.config.id}set id(t){this.config.id=t}get label(){return this.config.label}set label(t){this.config.label=t}get labelobj(){return this._labelobj||this.buildLabel(),this._labelobj}set labelobj(t){this._labelobj=t}get labelside(){return this.config.labelside}set labelside(t){this.config.labelside=t}get name(){return this.config.name}set name(t){this.config.name=t}get onchange(){return this.config.onchange}set onchange(t){"function"!=typeof t&&console.error("Action provided for onchange is not a function!"),this.config.onchange=t}get origval(){return this.config.origval}set origval(t){this.config.origval=t}get renderer(){return this.config.renderer}set renderer(t){"function"!=typeof t&&console.error("Value provided to renderer is not a function!"),this.config.renderer=t}get style(){return this.config.style}set style(t){this.config.style=t}get toggle(){return this._toggle||this.build(),this._toggle}set toggle(t){this._toggle=t}get validator(){return this.config.validator}set validator(t){this.config.validator=t}get value(){return this.config.value}set value(t){this.input.attr("value",t),this.config.value=t}}class NumberInput extends TextInput{static get DEFAULT_CONFIG(){return{type:"text",pattern:"[0-9]*",forceconstraints:!0,minnumber:null,maxnumber:null,downbuttonarialabel:TextFactory.get("decrement_number"),upbuttonarialabel:TextFactory.get("increment_number"),wholenumbers:!1,steppers:!0,step:1}}constructor(t){t||(t={}),(t=Object.assign({},NumberInput.DEFAULT_CONFIG,t)).step&&(isNaN(parseFloat(t.step))?(console.error(`step is defined as ${t.step} but is not a number. Deleting.`),delete t.step):Number(t.step)<=0?(console.error("step cannot be a negative number. Deleting."),delete t.step):t.step=Number(t.step)),t.maxnumber&&(isNaN(parseFloat(t.maxnumber))?(console.error(`maxnumber is defined as ${t.maxnumber} but is not a number. Deleting.`),delete t.maxnumber):t.maxnumber=Number(t.maxnumber)),t.minnumber&&(isNaN(parseFloat(t.minnumber))?(console.error(`minnumber is defined as ${t.minnumber} but is not a number. Deleting.`),delete t.maxnumber):t.minnumber=Number(t.minnumber)),t.onkeydown&&(t.origkeydown=t.onkeydown),t.onkeydown=function(t,e){switch(t.key){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":case"*":case"%":case"$":case"-":case"!":case"#":case"+":case"=":case">":case"<":case"?":case"Backspace":case"Delete":case"Enter":case"Tab":break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),e.increment();break;case"ArrowDown":t.preventDefault(),t.stopPropagation(),e.decrement();break;default:e.forceconstraints&&(t.preventDefault(),t.stopPropagation())}e.origkeydown&&"function"==typeof e.origkeydown&&e.origkeydown(t,e)},super(t)}get inputmode(){return"numeric"}get inputcontrol(){return this.stepbuttons}localValidator(t){if(this.value){if(isNaN(this.value))return void this.errors.push(TextFactory.get("numberinput-error-nan"));let t=parseFloat(this.value);this.minnumber&&t<this.minnumber?this.errors.push(TextFactory.get("numberinput-error-minimum_value",this.minnumber)):this.maxnumber&&t>this.maxnumber?this.errors.push(TextFactory.get("numberinput-error-maximum_value",this.maxnumber)):this.step&&t%this.step!=0?this.errors.push(TextFactory.get("numberinput-error-values_divisible",this.step)):this.wholenumbers&&t%1>0&&this.errors.push(TextFactory.get("numberinput-error-must_be_whole_numbers"))}}calculatePlaceholder(){let t=TextFactory.get("numberinput-placeholder-basic");return this.minnumber&&this.maxnumber?t=TextFactory.get("numberinput-placeholder-between_x_y",this.minnumber,this.maxnumber):this.minnumber?t=TextFactory.get("numberinput-placeholder-larger_than_x",this.minnumber):this.maxnumber&&(t=TextFactory.get("numberinput-placeholder-smaller_than_y",this.maxnumber)),this.step&&this.step>1&&(t+=TextFactory.get("numberinput-placeholder-fragment_increments",this.step)),t}increment(t=1){t&&!isNaN(t)||(t=1);let e=parseFloat(this.value);e||(e=0),isNaN(e)||(e+=t,this.maxnumber&&e>this.maxnumber&&(e=this.maxnumber),this.value=e)}decrement(t=1){t&&!isNaN(t)||(t=1);let e=parseFloat(this.value);e||(e=0),isNaN(e)||(e-=t,this.maxnumber&&e>this.maxnumber&&(e=this.maxnumber),this.value=e)}buildSteppers(){const t=this;this.steppers&&(this.upbtn=new SimpleButton({classes:["naked"],icon:"triangle-up",arialabel:this.upbuttonarialabel,notab:!0,action:function(e){e.preventDefault(),e.stopPropagation(),t.increment(t.step)}}),this.downbtn=new SimpleButton({classes:["naked"],icon:"triangle-down",arialabel:this.downbuttonarialabel,notab:!0,action:function(e){e.preventDefault(),e.stopPropagation(),t.decrement(t.step)}}),this.stepbuttons=document.createElement("div"),this.stepbuttons.classList.add("stepbuttons"),this.stepbuttons.classList.add("inputcontrol"),this.stepbuttons.appendChild(this.upbtn.button),this.stepbuttons.appendChild(this.downbtn.button),this.stepbuttons.addEventListener("mousedown",function(t){t.preventDefault()}))}get downbtn(){return this._downbtn}set downbtn(t){this._downbtn=t}get downbuttonarialabel(){return this.config.downbuttonarialabel}set downbuttonarialabel(t){this.config.downbuttonarialabel=t}get maxnumber(){return this.config.maxnumber}set maxnumber(t){this.config.maxnumber=t}get minnumber(){return this.config.minnumber}set minnumber(t){this.config.minnumber=t}get origkeydown(){return this.config.origkeydown}set origkeydown(t){this.config.origkeydown=t}get step(){return this.config.step}set step(t){this.config.step=t}get stepbuttons(){return this._stepbuttons||this.buildSteppers(),this._stepbuttons}set stepbuttons(t){this._stepbuttons=t}get steppers(){return this.config.steppers}set steppers(t){this.config.steppers=t}get upbtn(){return this._upbtn}set upbtn(t){this._upbtn=t}get upbuttonarialabel(){return this.config.upbuttonarialabel}set upbuttonarialabel(t){this.config.upbuttonarialabel=t}get wholenumbers(){return this.config.wholenumbers}set wholenumbers(t){this.config.wholenumbers=t}}window.NumberInput=NumberInput;class DateInput extends TextInput{static get DEFAULT_CONFIG(){return{basetime:"12:00:00",timezone:"GMT",type:"date",gravity:"s",triggerarialabel:TextFactory.get("dateinput-trigger-arialabel"),forceconstraints:!0,dateicon:"calendar"}}static isValid(t){let e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}constructor(t){t||(t={}),super(t=Object.assign({},DateInput.DEFAULT_CONFIG,t))}get inputcontrol(){return this.calbutton}get topcontrol(){return this.datedisplay}calculatePlaceholder(){return"YYYY-MM-DD"}localValidator(){this.value&&this.forceconstraints&&(DateInput.isValid(this.value)||this.errors.push(TextFactory.get("dateinput-error-invalid"))),this.updateDateDisplay()}updateDateDisplay(){if(!this.value||""===this.value)return this.datedisplay.classList.add("hidden"),void(this.datedisplay.innerHTML="");this.datedisplay.classList.remove("hidden");let t=new Date(`${this.value} ${this.basetime} GMT`);this.datedisplay.innerHTML=t.toUTCString()}buildCalendarButton(){const t=this;this.datepicker=new DatePicker({classes:["menu"],onselect:function(e){t.value=e,t.triggerbutton.close(),t.input.focus(),t.validate()}}),this.triggerbutton=new ButtonMenu({classes:["naked"],shape:"square",gravity:"n",icon:this.dateicon,arialabel:this.triggerarialabel,menu:this.datepicker.container,action:function(e,i){i.isopen?(i.close(),t.input.focus()):i.open(),t.datepicker.renderMonth(t.value),e.stopPropagation()}}),this.calbutton=document.createElement("div"),this.calbutton.classList.add("calbutton"),this.calbutton.classList.add("inputcontrol"),this.calbutton.appendChild(this.triggerbutton.button),this.calbutton.addEventListener("mousedown",function(t){t.preventDefault()})}buildDateDisplay(){this.datedisplay=document.createElement("div"),this.datedisplay.classList.add("datedisplay"),this.datedisplay.classList.add("topcontrol"),this.updateDateDisplay()}get basetime(){return this.config.basetime}set basetime(t){this.config.basetime=t}get calbutton(){return this._calbutton||this.buildCalendarButton(),this._calbutton}set calbutton(t){this._calbutton=t}get datedisplay(){return this._datedisplay||this.buildDateDisplay(),this._datedisplay}set datedisplay(t){this._datedisplay=t}get dateicon(){return this.config.dateicon}set dateicon(t){this.config.dateicon=t}get datepicker(){return this._datepicker}set datepicker(t){this._datepicker=t}get gravity(){return this.config.gravity}set gravity(t){this.config.gravity=t}get timezone(){return this.config.timezone}set timezone(t){this.config.timezone=t}get triggerarialabel(){return this.config.triggerarialabel}set triggerarialabel(t){this.config.triggerarialabel=t}get triggerbutton(){return this._triggerbutton}set triggerbutton(t){this._triggerbutton=t}}class EmailInput extends TextInput{static get DEFAULT_CONFIG(){return{type:"text",forceconstraints:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"}}static isValid(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}constructor(t){t||(t={}),super(t=Object.assign({},EmailInput.DEFAULT_CONFIG,t))}get inputmode(){return"email"}calculatePlaceholder(){return TextFactory.get("emailinput-placeholder-default")}localValidator(){this.value&&this.forceconstraints&&(EmailInput.isValid(this.value)||this.errors.push(TextFactory.get("emailinput-error-invalid_web_address")))}}class URLInput extends TextInput{static get DEFAULT_CONFIG(){return{type:"text",forceconstraints:!0}}static isEncoded(t){return(t=t||"")!==decodeURIComponent(t)}static isValid(t){return new RegExp(/\w+:(\/?\/?)[^\s]+/).test(t)}constructor(t){t||(t={}),(t=Object.assign({},URLInput.DEFAULT_CONFIG,t)).value&&URLInput.isEncoded(t.value)&&(t.value=decodeURIComponent(t.value)),super(t)}get inputmode(){return"url"}calculatePlaceholder(){return TextFactory.get("urlinput-placeholder-default")}localValidator(){this.value&&this.forceconstraints&&(URLInput.isValid(this.value)||this.errors.push(TextFactory.get("urlinput-error-invalid_web_address")))}}window.URLInput=URLInput;class HiddenField extends TextInput{constructor(t){t||(t={}),t.hidden=!0,t.type="hidden",super(t)}get container(){return this.input}}window.HiddenField=HiddenField;class PasswordInput extends TextInput{static get DEFAULT_CONFIG(){return{minlength:5,suggestedlength:8,maxlength:30,hideicon:"eye-slash",showicon:"eye",obscured:!1,forceconstraints:!1,type:"password"}}constructor(t){t||(t={}),super(t=Object.assign({},PasswordInput.DEFAULT_CONFIG,t))}get topcontrol(){return this.visibilityswitcher}buildVisibilityControl(){const t=this;let e=this.hideicon,i=TextFactory.get("hide_password");this.obscured&&(e=this.showicon,i=TextFactory.get("show_password")),this.eyebutton=new SimpleButton({classes:["naked"],shape:"square",icon:e,arialabel:i,tooltip:TextFactory.get("passwordinput-change_visibility"),action:function(e,i){t.toggleVisibility(),e.stopPropagation()}}),this.visibilitycontrol=document.createElement("div"),this.visibilitycontrol.classList.add("visbutton"),this.visibilitycontrol.classList.add("inputcontrol"),this.visibilitycontrol.appendChild(this.eyebutton.button),this.visibilitycontrol.addEventListener("mousedown",function(t){t.preventDefault()})}toggleVisibility(){"text"===this.input.getAttribute("type")?this.setVisibility(!1):this.setVisibility(!0)}setVisibility(t){t?(this.obscured=!1,this.input.setAttribute("type","text"),this.eyebutton.button.setAttribute("aria-label",TextFactory.get("hide_password")),this.eyebutton.setIcon(this.hideicon)):(this.obscured=!0,this.input.setAttribute("type","password"),this.eyebutton.button.setAttribute("aria-label",TextFactory.get("show_password")),this.eyebutton.setIcon(this.showicon)),this.input.focus()}localValidator(){this.value&&this.forceconstraints&&(this.value.length<this.minlength?this.errors.push(TextFactory.get("passwordchanger-error-minlength",this.minlength)):this.value.length<this.suggestedlength?this.errors.push(TextFactory.get("passwordchanger-error-suggestedlength",this.suggestedlength)):this.value.length>this.maxlength&&this.errors.push(TextFactory.get("passwordchanger-error-maxlength",this.maxlength)))}get eyebutton(){return this._eyebutton}set eyebutton(t){this._eyebutton=t}get minlength(){return this.config.minlength}set minlength(t){this.config.minlength=t}get hideicon(){return this.config.hideicon}set hideicon(t){this.config.hideicon=t}get obscured(){return this.config.obscured}set obscured(t){this.config.obscured=t}get showicon(){return this.config.showicon}set showicon(t){this.config.showicon=t}get suggestedlength(){return this.config.suggestedlength}set suggestedlength(t){this.config.suggestedlength=t}get visibilitycontrol(){return this._visibilitycontrol||this.buildVisibilityControl(),this._visibilitycontrol}set visibilitycontrol(t){this._visibilitycontrol=t}}window.PasswordInput=PasswordInput;class SelectMenu extends InputElement{static get DEFAULT_CONFIG(){return{combobox:!1,unselectedtext:TextFactory.get("selectmenu-placeholder-default"),icon:"chevron-down",prefix:null,value:null,options:[],onchange:null}}static closeOpen(){SelectMenu.activeMenu&&SelectMenu.activeMenu.close()}constructor(t){(t=Object.assign({},SelectMenu.DEFAULT_CONFIG,t)).name||(t.name=`sel-name-${CFBUtils.getUniqueKey(5)}`),super(t),t.value&&(this.origval=t.value)}get isopen(){return"true"===this.wrapper.getAttribute("aria-expanded")}get selected(){let t=this.optionlist.querySelector(`input[name=${this.name}]:checked`);return t||null}get value(){return this.selected?this.selected.value:null}set value(t){this.config.value=t,this.triggerbox.value=t,this.passivebox.value=t}get passivetext(){return this.selectedoption?this.selectedoption.label:this.value?this.value:this.config.value?this.config.value:this.unsettext}scrollto(t){t&&(this.scrolleditem&&t.getAttribute("id")===this.scrolleditem.getAttribute("id")||(this.optionlist.scrollTop=t.offsetHeight,this.scrolleditem=t))}jumptoSelected(t){let e=this.optionlist.querySelector('li[aria-selected="true"]');e||(e=this.optionlist.querySelector("li:first-child")),e&&(this.scrollto(e),t&&e.focus())}open(){const t=this;SelectMenu.closeOpen(),document.body.appendChild(this.listbox),this.listbox.removeAttribute("aria-hidden"),this.wrapper.setAttribute("aria-expanded",!0);for(let t of Array.from(this.optionlist.querySelectorAll("li")))t.setAttribute("tabindex","0");let e=document.body.getBoundingClientRect(),i=this.wrapper.getBoundingClientRect(),n=i.left-e.left,s=i.top-e.top;this.listbox.style.top=`${s+this.wrapper.clientHeight}px`,this.listbox.style.left=`${n}px`,this.listbox.style.width=`${this.container.clientWidth}px`,SelectMenu.activeMenu,SelectMenu.activeMenu=this,setTimeout(function(){t.setCloseListener()},100)}close(){this.listbox.setAttribute("aria-hidden","true"),this.listbox.setAttribute("tabindex","-1"),this.wrapper.setAttribute("aria-expanded",!1);for(let t of Array.from(this.optionlist.querySelectorAll("li")))t.setAttribute("tabindex","-1");this.combobox||(this.triggerbox.value=this.value),this.container.appendChild(this.listbox),SelectMenu.activeMenu=null}disable(){this.triggerbox.setAttribute("disabled","disabled"),this.wrapper.removeAttribute("aria-expanded"),this.disabled=!0,this.triggerbox&&this.triggerbox.classList.add("disabled"),this.container&&this.container.classList.add("disabled")}enable(){this.triggerbox.removeAttribute("disabled"),this.disabled=!1,this.triggerbox&&this.triggerbox.classList.remove("disabled"),this.container&&this.container.classList.remove("disabled")}pacify(){this.container.classList.add("passive"),this.optionlist.setAttribute("aria-hidden",!0),this.passive=!0}activate(){this.container.classList.remove("passive"),this.optionlist.removeAttribute("aria-hidden"),this.passive=!1}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("input-container"),this.container.classList.add("select-container");for(let t of this.classes)this.container.classList.add(t);this.labelobj&&this.container.appendChild(this.labelobj),this.wrapper=document.createElement("div"),this.wrapper.classList.add("wrap"),this.wrapper.setAttribute("role","combobox"),this.wrapper.setAttribute("aria-haspopup","listbox"),this.wrapper.setAttribute("aria-expanded",!1),this.wrapper.setAttribute("aria-owns",`${this.id}-options`),this.icon&&this.wrapper.classList.add(`cfb-${this.icon}`),this.wrapper.appendChild(this.triggerbox),this.container.append(this.wrapper),this.listbox=document.createElement("div"),this.listbox.setAttribute("id",`${this.id}-options`),this.listbox.setAttribute("aria-hidden","true"),this.listbox.setAttribute("role","listbox"),this.listbox.classList.add("selectmenu-menu"),this.listbox.appendChild(this.optionlist),this.container.appendChild(this.listbox),this.minimal||(this.container.appendChild(this.passivebox),this.container.appendChild(this.messagebox)),this.minimal&&this.container.classList.add("minimal"),this.value,this.postContainerScrub()}select(t){let e=this.listbox.querySelectorAll("li");for(let i of e){let e=i.querySelector(`input[name=${this.name}`);i.getAttribute("data-value")===t?(i.setAttribute("aria-selected",!0),e.checked=!0):(i.removeAttribute("aria-selected"),e.checked=!1)}}buildTriggerBox(){const t=this;this.triggerbox=document.createElement("input"),this.triggerbox.classList.add("trigger"),this.triggerbox.setAttribute("type","text"),this.triggerbox.setAttribute("tabindex","0"),this.triggerbox.setAttribute("aria-autocomplete","none"),this.triggerbox.setAttribute("aria-activedescendant",""),this.triggerbox.setAttribute("placeholder",this.placeholder),this.triggerbox.addEventListener("focusin",function(e){t.disabled?e.stopPropagation():(t.triggerbox.select(),t.open())}),this.triggerbox.addEventListener("keyup",function(e){if(e.shiftKey&&"Tab"===e.key)t.close();else switch(e.key){case"Enter":case"Shift":case"Control":case"Alt":case"CapsLock":case"NumLock":case"ScrollLock":case"End":case"Home":case"Meta":case"PageUp":break;case"Tab":case"Escape":case"ArrowUp":t.close();break;case"ArrowDown":e.preventDefault(),t.open(),t.jumptoSelected(!0);break;case"Backspace":case"Delete":t.updateSearch();break;case" ":default:t.updateSearch()}}),this.mute&&this.triggerbox.classList.add("mute")}calculatePlaceholder(){return this.unselectedtext?this.unselectedtext:TextFactory.get("selectmenu-placeholder-default")}buildOptions(){this.optionlist=document.createElement("ul"),this.optionlist.classList.add("selectmenu"),this.optionlist.setAttribute("id",this.id),this.optionlist.setAttribute("tabindex","-1");let t=1,e=5;for(let i of this.options){this.origval&&this.origval===i.value?(i.checked=!0,this.selectedoption=i):delete i.checked;let n=this.buildOption(i,t);i.label&&i.label.length>e&&(e=i.label.length),t++,this.optionlist.appendChild(n)}this.triggerbox.style.minWidth=`${e*CFBUtils.getSingleEmInPixels()}px`}buildOption(t,e){const i=this,n=`${this.id}-${CFBUtils.getUniqueKey(5)}`;let s=e+1,a=e-1;this.unselectedtext?a<0&&(a=0):a<1&&(a=1),s>this.options.length&&(s=this.options.length);let o=document.createElement("input");o.setAttribute("type","radio"),o.setAttribute("name",this.name),o.value=t.value,t.checked&&(o.checked=!0);let r=document.createElement("li");r.setAttribute("tabindex","-1"),r.setAttribute("id",`li-${n}`),r.setAttribute("data-menuorder",e),r.setAttribute("role","option"),r.setAttribute("data-value",t.value),r.appendChild(o),r.addEventListener("keydown",function(t){if(t.shiftKey&&"Escape"===t.key)i.close();else switch(t.key){case"Shift":case"Control":case"Alt":case"CapsLock":case"NumLock":case"ScrollLock":case"End":case"Home":case"Meta":case"PageUp":break;case"Tab":case"Escape":case"ArrowUp":t.preventDefault(),i.optionlist.querySelector(`[data-menuorder='${a}']`).focus();break;case"ArrowDown":t.preventDefault(),i.optionlist.querySelector(`[data-menuorder='${s}']`).focus();break;case"Enter":r.click();break;case"Backspace":case"Delete":i.triggerbox.value=i.triggerbox.value.substring(0,i.value.length-1),i.updateSearch();break;case" ":default:t.preventDefault(),i.triggerbox.value=i.triggerbox.value+t.key,i.updateSearch()}}),r.addEventListener("click",function(){let e=i.optionlist.querySelectorAll("li");for(let t of e){t.removeAttribute("aria-selected");let e=t.querySelector(`input[name=${i.name}]`);e&&e.removeAttribute("checked")}r.setAttribute("aria-selected","true"),r.querySelector(`input[name=${i.name}]`).checked=!0,i.prefix?i.triggerbox.value=`${i.prefix} ${t.label}`:i.triggerbox.value=t.label,i.selectedoption=t,t.label===i.unselectedtext?i.passivebox.innerHTML=i.unsettext:i.passivebox.innerHTML=t.label,i.close(),i.validate(),i.form&&i.form.validate(),i.onchange&&"function"==typeof i.onchange&&i.onchange(i)});let c=document.createElement("span");return c.classList.add("text"),c.innerHTML=t.label,r.appendChild(c),t.checked&&(this.origval=t.value,this.prefix?this.triggerbox.value=`${this.prefix} ${t.label}`:this.triggerbox.value=t.label,r.setAttribute("aria-selected","true")),r}findByString(t){if(t&&"string"==typeof t)for(let e of this.optionlist.querySelectorAll("li")){if(-1!==e.querySelector("span.text").innerHTML.toUpperCase().indexOf(t.toUpperCase())){this.scrollto(e),e.focus();break}}}updateSearch(){this.findByString(this.triggerbox.value)}setCloseListener(){const t=this;document.addEventListener("keydown",function(e){"Escape"===e.key&&t.close()},{once:!0}),window.addEventListener("click",function(e){t.wrapper.contains(e.target)||t.listbox.contains(e.target)?t.setCloseListener():t.close()},{once:!0})}get combobox(){return this.config.combobox}set combobox(t){this.config.combobox=t}get listbox(){return this._listbox}set listbox(t){this._listbox=t}get minimal(){return this.config.minimal}set minimal(t){this.config.minimal=t}get onchange(){return this.config.onchange}set onchange(t){this.config.onchange=t}get optionlist(){return this._optionlist||this.buildOptions(),this._optionlist}set optionlist(t){this._optionlist=t}get options(){return this.config.options}set options(t){this.config.options=t}get prefix(){return this.config.prefix}set prefix(t){this.config.prefix=t}get selectedoption(){return this._selectedoption}set selectedoption(t){this._selectedoption=t}get scrolleditem(){return this._scrolleditem}set scrolleditem(t){this._scrolleditem=t}get triggerbox(){return this._triggerbox||this.buildTriggerBox(),this._triggerbox}set triggerbox(t){this._triggerbox=t}get unselectedtext(){return this.config.unselectedtext}set unselectedtext(t){this.config.unselectedtext=t}get wrapper(){return this._wrapper}set wrapper(t){this._wrapper=t}}window.SelectMenu=SelectMenu;class RadioGroup extends SelectMenu{static get DEFAULT_CONFIG(){return{id:null,name:null,form:null,label:null,passive:!1,required:!1,unsettext:TextFactory.get("not_set"),classes:[],disabled:!1,options:[],validator:null}}constructor(t){t||(t={}),(t=Object.assign({},RadioGroup.DEFAULT_CONFIG,t)).id||(t.id=`radiogroup-${CFBUtils.getUniqueKey(5)}`),t.name||(t.name=t.id),super(t)}get input(){return this.optionlist}get passivetext(){return this.selectedoption?this.selectedoption.label:this.value?this.value:this.config.value?this.config.value:this.unsettext}disable(){let t=this.optionlist.querySelectorAll("input[type='radio']");for(let e of t)e.setAttribute("disabled","disabled");this.disabled=!0,this.container&&this.container.classList.add("disabled")}enable(){let t=this.optionlist.querySelectorAll("input[type='radio']");for(let e of t)e.removeAttribute("disabled");this.disabled=!1,this.container&&this.container.classList.remove("disabled")}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("input-container"),this.container.classList.add("radiogroup-container");for(let t of this.classes)this.container.classList.add(t);this.container.appendChild(this.labelobj),this.container.appendChild(this.optionlist),this.container.appendChild(this.passivebox),this.postContainerScrub()}postContainerScrub(){this.hidden&&(this.container.style.display="none"),this.required&&(this.container.classList.add("required"),this.optionlist.setAttribute("required","required")),this.hidden&&(this.container.style.display="none",this.container.setAttribute("aria-hidden","true")),this.passive&&this.pacify(),this.disabled&&this.disable(),this.help&&(this.optionlist.setAttribute("aria-describedby",`${this.id}-help-tt`),this.optionlist.setAttribute("aria-labelledby",`${this.id}-label`))}buildOption(t){const e=this,i=`${this.id}-${CFBUtils.getUniqueKey(5)}`;let n=document.createElement("input");n.setAttribute("id",i),n.setAttribute("type","radio"),n.setAttribute("name",this.name),n.setAttribute("tabindex","0"),n.setAttribute("value",t.value),n.setAttribute("aria-label",t.label),n.setAttribute("role","radio");for(let t of this.classes)n.classList.add(t);n.addEventListener("change",function(){n.checked?n.setAttribute("aria-checked","true"):n.removeAttribute("aria-checked"),e.selectedoption=t,t.label===e.unselectedtext?e.passivebox.innerHTML=e.unsettext:e.passivebox.innerHTML=t.label,e.validate(),e.form&&e.form.validate(),e.onchange&&"function"==typeof e.onchange&&e.onchange(e)});let s=document.createElement("label");s.setAttribute("for",i),s.innerHTML=t.label,t.checked&&(this.origval=t.value,n.checked=!0,n.setAttribute("aria-checked","true"));let a=document.createElement("li");return a.classList.add("radio"),a.appendChild(n),a.appendChild(s),a}buildOptions(){this.optionlist=document.createElement("ul"),this.optionlist.classList.add("radiogroup"),this.optionlist.setAttribute("tabindex","-1");for(let t of this.options){let e=this.buildOption(t);t.checked&&(this.selectedoption=t),this.optionlist.appendChild(e)}}}window.RadioGroup=RadioGroup;class StateMenu extends SelectMenu{static get DEFAULT_CONFIG(){return{unselectedtext:TextFactory.get("statemenu_select"),valuesas:"code",set:null}}constructor(t){t||(t={}),t=Object.assign({},StateMenu.DEFAULT_CONFIG,t);let e=StateProvince.list(t.set),i=[];for(let n of e){let e={label:n.name};t.valuesas&&"name"===t.valuesas?e.value=n.name:e.value=n.id,!t.value||t.value.toUpperCase()!==n.id&&t.value.toUpperCase()!==n.name||(e.checked=!0),i.push(e)}t.options=i,super(t)}}window.StateMenu=StateMenu;class CountryMenu extends SelectMenu{static get DEFAULT_CONFIG(){return{unselectedtext:TextFactory.get("countrymenu_select"),valuesas:"code"}}constructor(t){t||(t={}),t=Object.assign({},CountryMenu.DEFAULT_CONFIG,t);let e=CountryCodes.list(),i=[];for(let n of e){let e={label:n.country};t.valuesas&&"name"===t.valuesas?e.value=n.country:e.value=n.code,!t.value||t.value.toUpperCase()!==n.code&&t.value.toUpperCase()!==n.country||(e.checked=!0),i.push(e)}t.options=i,super(t)}}window.CountryMenu=CountryMenu;class TimezoneMenu extends SelectMenu{static get DEFAULT_CONFIG(){return{unselectedtext:TextFactory.get("timezone_select"),valuesas:"offset"}}constructor(t){t||(t={}),t=Object.assign({},TimezoneMenu.DEFAULT_CONFIG,t);let e=[];for(let i of TimezoneDB.list()){let n={label:i.id};t.valuesas&&"name"===t.valuesas?n.value=i.id:n.value=i.offset,!t.value||t.value.toUpperCase()!==i.id&&t.value.toUpperCase()!==i.offset||(n.checked=!0),e.push(n)}t.options=e,super(t)}}window.TimezoneMenu=TimezoneMenu;class TextArea extends InputElement{static get DEFAULT_CONFIG(){return{counter:"sky"}}constructor(t){t||(t={}),(t=Object.assign({},TextArea.DEFAULT_CONFIG,t)).type="textarea",super(t)}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("textarea-container"),this.container.appendChild(this.labelobj),this.container.appendChild(this.charactercounter);let t=document.createElement("div");t.classList.add("wrap"),t.appendChild(this.input),this.container.appendChild(t),this.container.appendChild(this.passivebox),this.container.appendChild(this.messagebox),this.postContainerScrub()}}window.TextArea=TextArea;class FileInput extends InputElement{static get DEFAULT_CONFIG(){return{type:"file",icon:"upload",accept:"image/png,image/gif,image/jpg,image/jpeg",multiple:!1,onchange:null}}constructor(t){t||(t={}),super(t=Object.assign({},FileInput.DEFAULT_CONFIG,t))}get value(){return this.selected?this.selected.val():""}get topcontrol(){return this.searchdisplay}get passivetext(){return this.selectedoption?this.selectedoption.label:this.value?this.value:this.config.value?this.config.value:this.unsettext}calculatePlaceholder(){return this.multiple?TextFactory.get("fileinput-placeholder-multiple"):TextFactory.get("fileinput-placeholder-file")}disable(){this.triggerbox.setAttribute("disabled","disabled"),this.triggerbox.classList.add("disabled"),this.container.classList.add("disabled"),this.disabled=!0}enable(){this.triggerbox.removeAttr("disabled"),this.triggerbox.classList.remove("disabled"),this.container.classList.remove("disabled"),this.disabled=!1}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("input-container"),this.container.classList.add("file-container");for(let t of this.classes)this.container.classList.add(t);this.container.appendChild(this.labelobj),this.container.appendChild(this.fileinput);let t=document.createElement("div");t.classList.add("wrap"),t.appendChild(this.triggerbox),this.container.appendChild(t),this.container.appendChild(this.messagebox),this.postContainerScrub()}buildTriggerBox(){const t=this;this.triggerbox=document.createElement("div"),this.triggerbox.classList.add("trigger"),this.triggerbox.setAttribute("tabindex","-1"),this.triggerbox.innerHTML=this.placeholder,this.triggerbox.addEventListener("click",function(e){t.disabled?e.stopPropagation():t.labelobj.click()}),this.triggerbox.addEventListener("keydown",function(e){switch(e.key){case"Tab":t.triggerbox.blur();break;case"Enter":case" ":t.labelobj.click()}}),this.mute&&this.triggerbox.classList.add("mute"),this.icon&&this.triggerbox.classList.add(`cfb-${this.icon}`)}buildFileInput(){const t=this;this.fileinput=document.createElement("input"),this.fileinput.setAttribute("type",this.type),this.fileinput.setAttribute("name",this.name),this.fileinput.setAttribute("id",this.id),this.fileinput.setAttribute("accept",this.accept),this.fileinput.setAttribute("multiple",this.multiple),this.fileinput.setAttribute("aria-labelledby",this.labelobj.id),this.fileinput.addEventListener("focusin",function(){t.triggerbox.focus()}),this.fileinput.addEventListener("change",function(t){if(t.fileinput.files&&t.fileinput.files.length>0){let e=t.fileinput.files,i=[];for(let t of e)i.push(t.name);i.length>0?(t.triggerbox.classList.add("files"),t.triggerbox.innerHTML=i.join(", ")):(t.triggerbox.classList.remove("files"),t.triggerbox.innerHTML=t.placeholder)}t.onchange&&"function"==typeof t.onchange&&t.onchange(t)})}get accept(){return this.config.accept}set accept(t){this.config.accept=t}get fileinput(){return this._fileinput||this.buildFileInput(),this._fileinput}set fileinput(t){this._fileinput=t}get multiple(){return this.config.multiple}set multiple(t){this.config.multiple=t}get triggerbox(){return this._triggerbox||this.buildTriggerBox(),this._triggerbox}set triggerbox(t){this._triggerbox=t}}window.FileInput=FileInput;class LoadingShade{static get DEFAULT_CONFIG(){return{id:null,spinnerstyle:"spin",spinnertext:TextFactory.get("simpleform-spinnertext"),classes:[]}}constructor(t){return this.config=Object.assign({},LoadingShade.DEFAULT_CONFIG,t),this.id||(this.id=`shade-${CFBUtils.getUniqueKey(5)}`),this}activate(){this.container.parentNode.classList.add("shaded"),this.container.removeAttribute("aria-hidden")}deactivate(){this.container.parentNode.classList.remove("shaded"),this.container.setAttribute("aria-hidden","true")}toggle(){!0===this.container.getAttribute("aria-hidden")?this.activate():this.deactivate()}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("loading-shade"),this.container.setAttribute("aria-hidden",!0);for(let t of this.classes)this.container.classList.add(t);if(this.spinnerstyle){let t=document.createElement("div");t.classList.add("spinner"),t.classList.add(this.spinnerstyle),this.container.append(t)}if(this.spinnertext){let t=document.createElement("div");t.classList.add("spinnertext"),t.innerHTML=this.spinnertext,this.container.append(t)}}toString(){return CFBUtils.getConfig(this)}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get id(){return this.config.id}set id(t){this.config.id=t}get spinnerstyle(){return this.config.spinnerstyle}set spinnerstyle(t){this.config.spinnerstyle=t}get spinnertext(){return this.config.spinnertext}set spinnertext(t){this.config.spinnertext=t}}window.LoadingShade=LoadingShade;class DialogWindow{static get DEFAULT_CONFIG(){return{id:null,form:null,actions:null,content:`<p />${TextFactory.get("no_provided_content")}</p>`,classes:[],header:null,title:null,trailer:null,clickoutsidetoclose:!0,escapecloses:!0,nofocus:!1,canceltext:TextFactory.get("cancel"),closetext:TextFactory.get("close"),showclose:!0}}constructor(t){this.config=Object.assign({},DialogWindow.DEFAULT_CONFIG,t),this.id||(this.id=`dialog-${CFBUtils.getUniqueKey(5)}`),this.build()}open(){const t=this;CFBUtils.closeOpen(),this.prevfocus=document.querySelector(":focus"),this.mask=document.createElement("div"),this.mask.classList.add("window-mask");for(let t of this.classes)this.mask.classList.add(t);if(this.mask.addEventListener("click",function(e){e.preventDefault(),t.clickoutsidetoclose&&t.close()}),this.container.appendChild(t.window),this.trailer&&"string"==typeof this.trailer){let t=document.createElement("div");t.classList.add("trailer"),t.innerHTML=this.trailer,this.container.appendChild(t)}else this.trailer&&this.container.appendChild(this.trailer);document.body.appendChild(this.mask),document.body.appendChild(this.container),document.body.classList.add("modalopen"),this.escapelistener=function(e){"Escape"===e.key&&t.close()},setTimeout(function(){if(!t.nofocus){let e=t.contentbox.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e[0]&&e[0].focus()}t.escapecloses&&document.addEventListener("keyup",t.escapelistener)},100)}close(){this.container.parentNode.removeChild(this.container),this.mask.parentNode.removeChild(this.mask),this.prevfocus&&this.prevfocus.focus(),document.body.classList.remove("modalopen"),document.removeEventListener("keyup",this.escapelistener)}escape(t,e){"Escape"===t.key&&e.close()}build(){const t=this;this.container=document.createElement("div"),this.container.classList.add("window-container"),this.window=document.createElement("div"),this.window.classList.add("dialog"),this.window.setAttribute("id",this.id);for(let t of this.classes)this.container.classList.add(t),this.window.classList.add(t);if(this.title||this.header){if(!this.header){this.header=document.createElement("h2");let t=document.createElement("span");t.classList.add("t"),t.innerHTML=this.title,this.header.appendChild(t)}this.window.appendChild(this.header),this.showclose&&(this.closebutton=new CloseButton({action:function(e){e.preventDefault(),t.close()}}),this.header.appendChild(this.closebutton.button))}else this.showclose&&console.error("Dialog defines 'showclose' but no title is defined.");if(this.form){if(this.form.dialog=this,this.actions&&this.actions.length>0)for(let e of this.actions)if("string"==typeof e)switch(e){case"closebutton":this.form.actions.push(new SimpleButton({text:this.closetext,ghost:!0,action:function(){t.close()}}));break;case"cancelbutton":this.form.actions.push(new DestructiveButton({text:this.canceltext,mute:!0,action:function(){t.close()}}))}else this.form.actions.push(e);this.contentbox=document.createElement("div"),this.contentbox.classList.add("content"),this.contentbox.appendChild(this.form.form),this.window.classList.add("isform"),this.window.appendChild(this.contentbox)}else if(this.content&&(this.contentbox=document.createElement("div"),this.contentbox.classList.add("content"),this.contentbox.appendChild(this.content),this.window.appendChild(this.contentbox),this.actions&&this.actions.length>0)){this.actionbox=document.createElement("div"),this.actionbox.classList.add("actions");for(let e of this.actions)if("string"==typeof e)switch(e){case"closebutton":this.actionbox.appendChild(new SimpleButton({text:this.closetext,ghost:!0,action:function(){t.close()}}).container);break;case"cancelbutton":this.actionbox.appendChild(new DestructiveButton({text:this.canceltext,mute:!0,action:function(){t.close()}}).container)}else this.actionbox.appendChild(e.container);this.window.appendChild(this.actionbox)}}toString(){return CFBUtils.getConfig(this)}get actionbox(){return this._actionbox}set actionbox(t){this._actionbox=t}get actions(){return this.config.actions}set actions(t){this.config.actions=t}get canceltext(){return this.config.canceltext}set canceltext(t){this.config.canceltext=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get clickoutsidetoclose(){return this.config.clickoutsidetoclose}set clickoutsidetoclose(t){this.config.clickoutsidetoclose=t}get closebutton(){return this._closebutton}set closebutton(t){this._closebutton=t}get closetext(){return this.config.closetext}set closetext(t){this.config.closetext=t}get container(){return this._container}set container(t){this._container=t}get content(){return this.config.content}set content(t){this.config.content=t}get contentbox(){return this._contentbox}set contentbox(t){this._contentbox=t}get escapecloses(){return this.config.escapecloses}set escapecloses(t){this.config.escapecloses=t}get escapelistener(){return this._escapelistener}set escapelistener(t){this._escapelistener=t}get form(){return this.config.form}set form(t){this.config.form=t}get header(){return this.config.header}set header(t){this.config.header=t}get id(){return this.config.id}set id(t){this.config.id=t}get mask(){return this._mask}set mask(t){this._mask=t}get nofocus(){return this.config.nofocus}set nofocus(t){this.config.nofocus=t}get prevfocus(){return this._prevfocus}set prevfocus(t){this._prevfocus=t}get showclose(){return this.config.showclose}set showclose(t){this.config.showclose=t}get title(){return this.config.title}set title(t){this.config.title=t}get trailer(){return this.config.trailer}set trailer(t){this.config.trailer=t}get window(){return this._window}set window(t){this._window=t}}window.DialogWindow=DialogWindow;class Panel{static get DEFAULT_CONFIG(){return{id:null,contentid:null,headerid:null,title:null,content:null,style:"plain",hidden:!1,collapsible:!0,closeicon:"chevron-up",minimized:!1,classes:[],onclose:null,onopen:null}}constructor(t){this.config=Object.assign({},Panel.DEFAULT_CONFIG,t),this.id||(this.id=`panel-${CFBUtils.getUniqueKey(5)}`),this.contentid||(this.contentid=`panel-c-${CFBUtils.getUniqueKey(5)}`),this.headerid||(this.headerid=`panel-h-${CFBUtils.getUniqueKey(5)}`)}toggleClose(){this.minimized?this.open():this.close()}open(){this.minimized=!1,this.container.setAttribute("aria-expanded","true"),this.onopen&&"function"==typeof this.onopen&&this.onopen(this)}close(){this.container.setAttribute("aria-expanded","false"),this.minimized=!0,this.onclose&&"function"==typeof this.onclose&&this.onclose(this)}show(){this.container.removeAttribute("aria-hidden")}hide(){this.container.setAttribute("aria-hidden","true")}buildHeader(){const t=this;this.header=document.createElement("h3"),this.collapsible?(this.togglebutton=new SimpleButton({id:this.headerid,secondicon:this.closeicon,text:this.title,naked:!0,iconclasses:["headerbutton"],classes:["headerbutton"],action:function(e){e.preventDefault(),e.stopPropagation(),t.toggleClose()}}),this.header.appendChild(this.togglebutton.button)):(this.header.classList.add("nocollapse"),this.header.innerHTML=this.title)}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("panel"),this.container.setAttribute("aria-expanded","true"),this.contentbox=document.createElement("div"),this.contentbox.classList.add("content"),this.contentbox.setAttribute("role","region");for(let t of this.classes)this.container.classList.add(t);this.title&&(this.container.append(this.header),this.contentbox.setAttribute("aria-labelledby",this.headerid)),this.content&&this.contentbox.appendChild(this.content),this.container.appendChild(this.contentbox),this.minimized&&(this.container.setAttribute("aria-expanded","false"),this.minimized=!0),this.hidden&&this.hide()}replace(t){this.content.parentNode.removeChild(this.content),this.content=t,this.container.appendChild(this.content)}toString(){return CFBUtils.getConfig(this)}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get togglebutton(){return this._togglebutton}set togglebutton(t){this._togglebutton=t}get togglecontrol(){return this.config.togglecontrol}set togglecontrol(t){this.config.togglecontrol=t}get closeicon(){return this.config.closeicon}set closeicon(t){this.config.closeicon=t}get collapsible(){return this.config.collapsible}set collapsible(t){this.config.collapsible=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get content(){return this.config.content}set content(t){this.pcontent&&(this.pcontent.innerHTML=t),this.config.content=t}get contentid(){return this.config.contentid}set contentid(t){this.config.contentid=t}get contentbox(){return this._contentbox}set contentbox(t){this._contentbox=t}get header(){return this._header||this.buildHeader(),this._header}set header(t){this._header=t}get headerid(){return this.config.headerid}set headerid(t){this.config.headerid=t}get hidden(){return this.config.hidden}set hidden(t){this.config.hidden=t}get id(){return this.config.id}set id(t){this.config.id=t}get minimized(){return this.config.minimized}set minimized(t){this.config.minimized=t}get onclose(){return this.config.onclose}set onclose(t){"function"!=typeof t&&console.error("Action provided for onclose is not a function!"),this.config.onclose=t}get onopen(){return this.config.onopen}set onopen(t){"function"!=typeof t&&console.error("Action provided for onopen is not a function!"),this.config.onopen=t}get pcontent(){return this._pcontent}set pcontent(t){this._pcontent=t}get position(){return this.config.position}set position(t){this.config.position=t}get style(){return this.config.style}set style(t){this.config.style=t}get title(){return this.config.title}set title(t){this.config.title=t,this.titleactual&&(this.titleactual.innerHTML=t)}get titlecontainer(){return this._titlecontainer}set titlecontainer(t){this._titlecontainer=t}}window.Panel=Panel;class FloatingPanel extends Panel{static get DEFAULT_CONFIG(){return{style:"plain",position:"top-left"}}constructor(t){(t=Object.assign({},FloatingPanel.DEFAULT_CONFIG,t)).classes?t.classes.push("floating"):t.classes=["floating"],t.classes.push(t.position),t.classes.push(t.style),super(t)}get position(){return this.config.position}set position(t){this.config.position=t}get style(){return this.config.style}set style(t){this.config.style=t}}window.FloatingPanel=FloatingPanel;class Growler extends FloatingPanel{static get DEFAULT_CONFIG(){return{text:null,closeicon:"echx",duration:4e3,icon:null,position:"bottom-right"}}static get GROWLBOX_ID(){return"gbox-"}static growl(t,e){return new Growler({text:t,title:e})}static error(t){return new Growler({text:t,title:TextFactory.get("error"),icon:"warn-hex",classes:["error"]})}static warn(t){return new Growler({text:t,title:TextFactory.get("warning"),icon:"warn-triangle",classes:["warn"]})}static caution(t){return new Growler({text:t,title:TextFactory.get("caution"),icon:"warn-circle",classes:["caution"]})}static success(t){return new Growler({text:t,title:TextFactory.get("success"),icon:"check-circle",classes:["success"]})}static buildGrowlbox(t){let e=document.createElement("div");return e.classList.add("growlbox"),e.setAttribute("id",`${Growler.GROWLBOX_ID}${t}`),e.classList.add(t),document.querySelector("body").appendChild(e),e}constructor(t){super(t=Object.assign({},Growler.DEFAULT_CONFIG,t)),this.growlbox=document.getElementById(`${Growler.GROWLBOX_ID}${this.position}`),this.growlbox||(this.growlbox=Growler.buildGrowlbox(this.position)),this.show()}close(){const t=this;this.timer&&clearTimeout(this.timer),this.container.setAttribute("aria-hidden","true"),setTimeout(function(){t.onclose&&"function"==typeof t.onclose&&t.onclose(t),t.container.parentNode.removeChild(t.container)},100)}quickClose(){this.timer&&clearTimeout(this.timer),this.container.parentNode.removeChild(this.container),this.onclose&&"function"==typeof this.onclose&&this.onclose(this)}show(){const t=this;this.container.removeAttribute("aria-hidden"),this.duration>0&&(this.timer=setTimeout(function(){t.close()},this.duration)),this.onopen&&"function"==typeof this.onopen&&this.onopen(this)}buildContainer(){const t=this;this.container=document.createElement("div"),this.container.setAttribute("aria-hidden","true"),this.container.classList.add("growler");for(let t of this.classes)this.container.classList.add(t);if(this.closebutton=new CloseButton({action:function(e){e.preventDefault(),t.quickClose()}}),this.title){let t=document.createElement("h3"),e=document.createElement("span");e.classList.add("text"),e.innerHTML=this.title,t.appendChild(e),t.appendChild(this.closebutton.button),this.container.appendChild(t)}else this.container.appendChild(this.closebutton.button);if(this.text){let t=document.createElement("div");if(t.classList.add("payload"),this.icon){let e=IconFactory.icon(this.icon);e.classList.add("i"),t.append(e)}let e=document.createElement("div");e.classList.add("text"),e.innerHTML=this.text,t.appendChild(e),this.container.appendChild(t)}this.growlbox.appendChild(this.container)}toString(){return CFBUtils.getConfig(this)}get closebutton(){return this._closebutton}set closebutton(t){this._closebutton=t}get duration(){return this.config.duration}set duration(t){this.config.duration=t}get growlbox(){return this._growlbox}set growlbox(t){this._growlbox=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get text(){return this.config.text}set text(t){this.config.text=t}get timer(){return this._timer}set timer(t){this._timer=t}}window.Growler=Growler;class MessageBox{static get DEFAULT_CONFIG(){return{id:null,icon:null,title:null,content:null,classes:[]}}constructor(t){this.config=Object.assign({},MessageBox.DEFAULT_CONFIG,t)}buildContainer(){this.container=document.createElement("div"),this.container.classList.add("messagebox");for(let t of this.classes)this.container.classList.add(t);this.title&&(this.header=document.createElement("h3"),this.header.innerHTML=this.title,this.container.appendChild(this.header)),this.content&&(this.icon&&this.payload.appendChild(IconFactory.icon(this.icon)),this.content.classList.add("content"),this.payload.appendChild(this.content),this.container.appendChild(this.payload))}buildPayload(){this.payload=document.createElement("div"),this.payload.classList.add("payload")}toString(){return CFBUtils.getConfig(this)}get id(){return this.config.id}set id(t){this.config.id=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get content(){return this.config.content}set content(t){this.config.content=t}get header(){return this._header}set header(t){this._header=t}get icon(){return this.config.icon}set icon(t){this.config.icon=t}get payload(){return this._payload||this.buildPayload(),this._payload}set payload(t){this._payload=t}get title(){return this.config.title}set title(t){this.config.title=t}}window.MessageBox=MessageBox;class InstructionBox extends MessageBox{static get DEFAULT_CONFIG(){return{icon:"help-circle",instructions:[]}}constructor(t){(t=Object.assign({},InstructionBox.DEFAULT_CONFIG,t)).classes?t.classes.push("instructions"):t.classes=["instructions"],super(t)}get infolist(){return this.instructions}set infolist(t){this.instructions=t}setInstructions(t){this.setInfolist(t)}setInfolist(t){this.container.classList.remove("size-1"),this.container.classList.remove("size-2"),this.container.classList.remove("size-3"),this.list.innerHTML="";for(let e of t){let t=document.createElement("li");t.innerHTML=e,this.list.appendChild(t)}t.length>0&&t.length<4&&this.container.classList.add(`size-${t.length}`)}buildContainer(){if(this.infolist&&this.infolist.length>0){for(let t of this.infolist){let e=document.createElement("li");e.innerHTML=t,this.list.appendChild(e)}this.content=this.list}super.buildContainer(),this.infolist.length>0&&this.infolist.length<4&&this.container.classList.add(`size-${this.infolist.length}`)}buildList(){this.list=document.createElement("ul")}get instructions(){return this.config.instructions}set instructions(t){this.config.instructions=t}get list(){return this._list||this.buildList(),this._list}set list(t){this._list=t}}window.InstructionBox=InstructionBox;class PasswordGenerator{static get DEFAULT_CONFIG(){return{id:null,buttontext:TextFactory.get("generate_password"),buttonicon:"refresh",length:15,autofills:[],sets:["lc","uc","num","punc"]}}static get DATASETS(){return{lc:{id:"lc",label:TextFactory.get("lowercase"),set:"a-z",chars:"abcdefghijklmnopqrstuvwxyz"},uc:{id:"uc",label:TextFactory.get("uppercase"),set:"A-Z",chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},num:{id:"num",label:TextFactory.get("numbers"),set:"0-9",chars:"0123456789"},punc:{id:"punc",label:TextFactory.get("punctuation"),set:"#",chars:"![]{}()%&*$#^<>~@|"}}}static getDataSet(t){return PasswordGenerator.DATASETS[t]}static randomPassword(t=PasswordGenerator.DEFAULT_CONFIG.sets,e=15){let i="";for(let e of t)PasswordGenerator.getDataSet(e)&&(i+=PasswordGenerator.getDataSet(e).chars);let n="";for(let t=0;t<e;t++)n+=i.charAt(Math.floor(Math.random()*i.length));return n}constructor(t){this.config=Object.assign({},PasswordGenerator.DEFAULT_CONFIG,t),this.id||(this.id=`pwgen-${CFBUtils.getUniqueKey(5)}`),this.setactuals=[]}generatePassword(){let t=[];if(this.sets&&0!==this.sets.length)for(let e of this.setactuals)e.checked&&t.push(e.value);else t=PasswordGenerator.DEFAULT_CONFIG.sets;let e=PasswordGenerator.randomPassword(t,this.length);if(this.autofills&&this.autofills.length>0){let t;for(let i of this.autofills)i.value=e,i.form&&(t=i.form);t&&t.validate()}}buildContainer(){const t=this;if(this.container=document.createElement("div"),this.container.classList.add("pwgenerator"),this.datasetblock=document.createElement("ul"),this.datasetblock.classList.add("datasets"),this.datasetblock.setAttribute("aria-hidden","true"),this.sets.length>0)for(let t of this.sets)if(t in PasswordGenerator.DATASETS){let e=PasswordGenerator.getDataSet(t),i=new BooleanToggle({name:`dset-${e.id}`,id:`${this.id}-${e.id}`,value:e.id,label:e.label,checked:!0});this.setactuals.push(i);let n=document.createElement("li");n.appendChild(i.container),this.datasetblock.appendChild(n)}this.button=new SimpleButton({text:this.buttontext,naked:!0,action:function(e){e.preventDefault(),t.generatePassword()}}),this.configbutton=new SimpleButton({icon:"gear",naked:!0,arialabel:TextFactory.get("configure_generator"),classes:["config"],action:function(e){e.preventDefault(),t.datasetblock.getAttribute("aria-hidden")?t.datasetblock.removeAttribute("aria-hidden"):t.datasetblock.setAttribute("aria-hidden","true")}});let e=document.createElement("div");e.classList.add("controls"),e.appendChild(this.button.button),e.appendChild(this.configbutton.button),this.container.appendChild(e),this.container.appendChild(this.datasetblock)}toString(){return CFBUtils.getConfig(this)}get autofills(){return this.config.autofills}set autofills(t){this.config.autofills=t}get button(){return this._button}set button(t){this._button=t}get configbutton(){return this._configbutton}set configbutton(t){this._configbutton=t}get buttonicon(){return this.config.buttonicon}set buttonicon(t){this.config.buttonicon=t}get buttontext(){return this.config.buttontext}set buttontext(t){this.config.buttontext=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get datasetblock(){return this._datasetblock}set datasetblock(t){this._datasetblock=t}get id(){return this.config.id}set id(t){this.config.id=t}get length(){return this.config.length}set length(t){this.config.length=t}get sets(){return this.config.sets}set sets(t){this.config.sets=t}get setactuals(){return this._setactuals}set setactuals(t){this._setactuals=t}}window.PasswordGenerator=PasswordGenerator;class PasswordChangeForm{static get DEFAULT_CONFIG(){return{maxlength:30,minlength:5,suggestedlength:8,cannotbe:[],forceconstraints:null,instructions:[TextFactory.get("passwordchanger-form-instructions")],placeholder:null,buttontext:TextFactory.get("change_password"),pwcurrlabel:TextFactory.get("current_password"),pwcurrplaceholder:TextFactory.get("passwordchanger-currentpw-placeholder"),pwcurrhelp:TextFactory.get("passwordchanger-currentpw-help"),pwonelabel:TextFactory.get("new_password"),pwoneplaceholder:null,pwonehelp:null,pwtwolabel:TextFactory.get("confirm_password"),pwtwoplaceholder:null,pwtwohelp:null,badpasswordhook:null}}constructor(t){this.config=Object.assign({},PasswordChangeForm.DEFAULT_CONFIG,t),this.id||(this.id=`pwchange-${CFBUtils.getUniqueKey(5)}`)}runChecks(t){let e=!0;if(this.pwone.value!==this.pwtwo.value&&(this.pwone.errors.push(TextArea.get("passwordchanger-error-passwords_must_match")),this.pwone.showMessages(),e=!1),this.cannotbe&&this.cannotbe.length>0)for(let t of this.cannotbe)this.pwone.value===t&&(this.pwone.errors.push(TextArea.get("passwordchanger-error-cannot_be_used_as_pw")),e=!1);return e&&this.badpasswordhook&&"function"==typeof this.badpasswordhook&&(e=this.badpasswordhook(this.pwone)),e&&this.pwone.clearMessages(),e}buildForm(){const t=this;this.pwcurr=new PasswordInput({id:`${this.id}-pwcurr`,label:this.pwcurrlabel,showpasswordbydefault:!0,required:!0,placeholder:this.pwcurrplaceholder,help:this.pwcurrhelp}),this.pwone=new PasswordInput({id:`${this.id}-pwone`,label:this.pwonelabel,showpasswordbydefault:!0,required:!0,placeholder:this.pwoneplaceholder,help:this.pwonehelp}),this.pwtwo=new PasswordInput({id:`${this.id}-pwtwo`,label:this.pwtwolabel,required:!0,showpasswordbydefault:!0,placeholder:this.pwtwoplaceholder,help:this.pwtwohelp}),this.pwgen=new PasswordGenerator({autofills:[this.pwone,this.pwtwo]}),this.form=new SimpleForm({instructions:{icon:"help-circle",instructions:this.instructions},elements:[new HiddenField({name:this.name}),this.pwcurr,this.pwone,this.pwtwo,this.pwgen],validator:function(e){return t.runChecks(e)},handler:function(t,e){e({success:!0,results:[TextFactory.get("passwordchanger-results-changed_successfully")]})},actions:[new ConstructiveButton({text:this.buttontext,hot:!0,submits:!0,disabled:!0})]})}calculatePlaceholder(){return this.placeholder?this.placeholder:this.forceconstraints?TextFactory.get("passwordchanger-placeholder-minlength",this.minlength):this.suggestedlength?TextFactory.get("passwordchanger-placeholder-suggested",this.suggestedlength):void 0}get container(){return this.form.container}get pwonehelp(){if(this.config.pwonehelp)return this.config.pwonehelp}get pwoneplaceholder(){if(this.config.pwoneplaceholder)return this.config.pwoneplaceholder}get pwtwohelp(){if(this.config.pwtwohelp)return this.config.pwtwohelp}get pwtwoplaceholder(){if(this.config.pwtwoplaceholder)return this.config.pwtwoplaceholder}toString(){return CFBUtils.getConfig(this)}get badpasswordhook(){return this.config.badpasswordhook}set badpasswordhook(t){"function"!=typeof t&&console.error("Action provided for badpasswordhook is not a function!"),this.config.badpasswordhook=t}get buttontext(){return this.config.buttontext}set buttontext(t){this.config.buttontext=t}get cannotbe(){return this.config.cannotbe}set cannotbe(t){this.config.cannotbe=t}get forceconstraints(){return this.config.forceconstraints}set forceconstraints(t){this.config.forceconstraints=t}get form(){return this._form||this.buildForm(),this._form}set form(t){this._form=t}get instructions(){return this.config.instructions}set instructions(t){this.config.instructions=t}get maxlength(){return this.config.maxlength}set maxlength(t){this.config.maxlength=t}get minlength(){return this.config.minlength}set minlength(t){this.config.minlength=t}get placeholder(){return this.config.placeholder?this.config.placeholder:this.calculatePlaceholder()}set placeholder(t){this.config.placeholder=t}get pwactual(){return this._pwactual}set pwactual(t){this._pwactual=t}get pwcurr(){return this._pwcurr}set pwcurr(t){this._pwcurr=t}get pwgen(){return this._pwgen}set pwgen(t){this._pwgen=t}get pwone(){return this._pwone}set pwone(t){this._pwone=t}get pwtwo(){return this._pwtwo}set pwtwo(t){this._pwtwo=t}get pwcurrhelp(){return this.config.pwcurrhelp}set pwcurrhelp(t){this.config.pwcurrhelp=t}get pwcurrlabel(){return this.config.pwcurrlabel}set pwcurrlabel(t){this.config.pwcurrlabel=t}get pwcurrplaceholder(){return this.config.pwcurrplaceholder}set pwcurrplaceholder(t){this.config.pwcurrplaceholder=t}get pwonelabel(){return this.config.pwonelabel}set pwonelabel(t){this.config.pwonelabel=t}get pwtwolabel(){return this.config.pwtwolabel}set pwtwolabel(t){this.config.pwtwolabel=t}get suggestedlength(){return this.config.suggestedlength}set suggestedlength(t){this.config.suggestedlength=t}get value(){return this.pwactual.val()}set value(t){this.pwactual.val(t)}}window.PasswordChangeForm=PasswordChangeForm;class TabBar{static get DEFAULT_CONFIG(){return{id:null,navigation:!1,responsive:!0,menuicon:"menu",menulabel:TextFactory.get("toggle_menu"),arialabel:TextFactory.get("primary"),submenuicon:"triangle-down",vertical:!1,animation:"popin",tabs:[],action:null,classes:[]}}constructor(t){this.config=Object.assign({},TabBar.DEFAULT_CONFIG,t),this.tabmap={},this.id||(this.id=`tabbar-${CFBUtils.getUniqueKey(5)}`)}select(t){"string"==typeof t&&(t=document.querySelectorAll(`[data-tabid='${t}']`)[0]),t?(this.selected&&(this.selected.removeAttribute("aria-selected"),this.selected.setAttribute("tabindex","-1")),this.selected=t,this.selected.setAttribute("aria-selected","true"),this.selected.setAttribute("tabindex","0"),this.responsive&&this.menutitle&&(this.menutitle.innerHTML=this.selected.getAttribute("data-tabtext"))):console.warn(`Tab does not exist: ${t}`)}buildContainer(){const t=this;this.list=document.createElement("ul"),this.list.setAttribute("role","tablist"),this.list.classList.add("tabbar");for(let t of this.classes)this.list.classList.add(t);this.vertical&&this.list.classList.add("vertical");let e=1;for(let t of this.tabs)e=this.buildTab(t,e);this.navigation?(this.container=document.createElement("nav"),this.list.removeAttribute("role"),this.container.setAttribute("aria-label",this.arialabel)):this.container=document.createElement("div"),this.container.classList.add("tablist-container");for(let t of this.classes)this.container.classList.add(t);this.responsive&&(this.responsivebox=document.createElement("div"),this.responsivebox.classList.add("responsivebox"),this.menubutton=new HamburgerButton({text:this.menulabel,toggletarget:t}),this.responsivebox.appendChild(this.menubutton.button),this.menutitle=document.createElement("div"),this.menutitle.classList.add("menutitle"),this.responsivebox.appendChild(this.menutitle),this.container.classList.add("responsive"),this.container.appendChild(this.responsivebox)),this.container.appendChild(this.list)}buildTab(t,e,i){const n=this;let s=e+1,a=e-1;if(a<1&&(a=1),s>this.tabs.length&&(s=this.tabs.length),!t.label&&!t.icon)return console.warn("TabBar: Element defined but has neither icon or text.  Skipping"),null;let o=document.createElement("a");if(o.setAttribute("data-tabtext",`${t.label}`),o.setAttribute("data-tabno",`${e}`),o.setAttribute("id",t.id),o.setAttribute("data-tabid",t.id),this.navigation||o.setAttribute("role","menuitem"),t.icon&&o.appendChild(IconFactory.icon(t.icon)),t.label){let e=document.createElement("span");e.innerHTML=t.label,o.appendChild(e)}let r=document.createElement("li");if(r.setAttribute("role","none"),r.appendChild(o),t.classes)for(let e of t.classes)r.classList.add(e);if(this.tabmap[t.id]=r,this.animation&&(this.tabmap[t.id].style.setProperty("--anim-order",`${e}`),this.tabmap[t.id].classList.add(this.animation)),i){let e=i.querySelector("a");o.setAttribute("data-parent",`${e.getAttribute("data-tabid")}`);let n=i.querySelector("ul");n||((n=document.createElement("ul")).setAttribute("role","menu"),n.setAttribute("aria-label",t.label),n.classList.add("submenu"),i.appendChild(n)),n.append(this.tabmap[t.id])}else this.list.appendChild(this.tabmap[t.id]);if(e++,o.setAttribute("tabindex","-1"),t.subtabs&&t.subtabs.length>0){o.classList.add("mastertab"),o.setAttribute("aria-haspopup",!0),o.setAttribute("aria-expanded",!1),this.submenuicon&&o.appendChild(IconFactory.icon(this.submenuicon));for(let i of t.subtabs)e=this.buildTab(i,e,this.tabmap[t.id])}else o.addEventListener("keydown",function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":t.preventDefault(),t.stopPropagation(),n.list.querySelector(`[data-tabno='${a}']`).focus();break;case"ArrowRight":case"ArrowDown":t.preventDefault(),t.stopPropagation(),n.list.querySelector(`[data-tabno='${s}']`).focus();break;case"Enter":case"Space":o.click()}}),o.addEventListener("click",function(e){e.preventDefault(),n.select(t.id),t.action&&"function"==typeof t.action?t.action(t.id,n):n.action&&n.action(t.id,n)});return t.selected&&window.setTimeout(function(){n.select(t.id)},100),e}get isopen(){return this.container.hasAttribute("aria-expanded")}toggle(){this.isopen?this.close():this.open()}open(){const t=this;this.isopen||(this.container.setAttribute("aria-expanded","true"),this.menubutton&&this.menubutton.open(),setTimeout(function(){t.setCloseListener()},200))}close(){this.container.removeAttribute("aria-expanded"),this.menubutton&&this.menubutton.close()}setCloseListener(){const t=this;document.addEventListener("keydown",function(e){"Escape"===e.key&&t.close()},{once:!0}),window.addEventListener("click",function(e){e.target===t.list?t.setCloseListener():t.close()},{once:!0})}toString(){return CFBUtils.getConfig(this)}get action(){return this.config.action}set action(t){this.config.action=t}get animation(){return this.config.animation}set animation(t){this.config.animation=t}get arialabel(){return this.config.arialabel}set arialabel(t){this.config.arialabel=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get id(){return this.config.id}set id(t){this.config.id=t}get list(){return this._list}set list(t){this._list=t}get menuicon(){return this.config.menuicon}set menuicon(t){this.config.menuicon=t}get menulabel(){return this.config.menulabel}set menulabel(t){this.config.menulabel=t}get menubutton(){return this._menubutton}set menubutton(t){this._menubutton=t}get menutitle(){return this._menutitle}set menutitle(t){this._menutitle=t}get navigation(){return this.config.navigation}set navigation(t){this.config.navigation=t}get responsive(){return this.config.responsive}set responsive(t){this.config.responsive=t}get responsivebox(){return this._responsivebox}set responsivebox(t){this._responsivebox=t}get selected(){return this._selected}set selected(t){this._selected=t}get submenuicon(){return this.config.submenuicon}set submenuicon(t){this.config.submenuicon=t}get tabmap(){return this._tabmap}set tabmap(t){this._tabmap=t}get tabs(){return this.config.tabs}set tabs(t){this.config.tabs=t}get vertical(){return this.config.vertical}set vertical(t){this.config.vertical=t}}window.TabBar=TabBar;class SearchControl{static get DEFAULT_CONFIG(){return{id:null,autoexecute:!0,arialabel:TextFactory.get("searchcontrol-instructions"),maxlength:null,searchtext:TextFactory.get("search"),searchicon:"magnify",action:function(t,e){console.log(`Executing search action: ${t}`)},value:"",classes:[]}}constructor(t){return this.config=Object.assign({},SearchControl.DEFAULT_CONFIG,t),this}get isopen(){return this.container.classList.contains("open")}get value(){return this.searchinput.value}set value(t){this.searchinput.value=t}buildContainer(){const t=this;this.container=document.createElement("div"),this.container.classList.add("searchcontrol");for(let t of this.classes)this.container.classList.add(t);this.buildSearchInput(),this.container.appendChild(this.searchinput),this.searchbutton=new SimpleButton({text:this.searchtext,icon:this.searchicon,mute:!0,action:function(e){e.preventDefault(),t.action&&"function"==typeof t.action&&t.action(t.value,t)}}),this.container.addEventListener("click",function(){t.isopen||t.searchinput.focus()}),this.container.appendChild(this.searchbutton.button)}buildSearchInput(){const t=this;this.searchinput=document.createElement("input"),this.searchinput.setAttribute("type","text"),this.searchinput.setAttribute("role","textbox"),this.searchinput.setAttribute("tabindex","0"),this.placeholder&&this.searchinput.setAttribute("placeholder",this.placeholder),this.arialabel&&this.searchinput.setAttribute("aria-label",this.arialabel),this.maxlength&&this.searchinput.setAttribute("maxlength",this.maxlength);for(let t of this.classes)this.searchinput.classList.add(t);this.searchinput.addEventListener("keyup",function(e){switch(e.key){case"Tab":t.autoexecute&&t.action&&"function"==typeof t.action&&t.action(t.value,t);break;case"Enter":t.action&&"function"==typeof t.action&&t.action(t.value,t);break;default:t.autoexecute&&t.action&&"function"==typeof t.action&&t.action(t.value,t)}}),this.searchinput.addEventListener("focusout",function(e){t.value&&t.value.length>0?(t.container.classList.add("open"),t.autoexecute&&t.action&&"function"==typeof t.action&&t.action(t.value,t)):t.container.classList.remove("open")}),this.searchinput.value=this.config.value}toString(){return CFBUtils.getConfig(this)}get arialabel(){return this.config.arialabel}set arialabel(t){this.config.arialabel=t}get autoexecute(){return this.config.autoexecute}set autoexecute(t){this.config.autoexecute=t}get action(){return this.config.action}set action(t){this.config.action=t}get id(){return this.config.id}set id(t){this.config.id=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get maxlength(){return this.config.maxlength}set maxlength(t){this.config.maxlength=t}get placeholder(){return this.config.placeholder}set placeholder(t){this.config.placeholder=t}get searchinput(){return this._searchinput}set searchinput(t){this._searchinput=t}get searchbutton(){return this._searchbutton}set searchbutton(t){this._searchbutton=t}get searchtext(){return this.config.searchtext}set searchtext(t){this.config.searchtext=t}get searchicon(){return this.config.searchicon}set searchicon(t){this.config.searchicon=t}}window.SearchControl=SearchControl;class SimpleProgressMeter{static get DEFAULT_CONFIG(){return{id:null,classes:[],label:null,help:null,style:null,commaseparate:!0,currentrank:null,nextrank:null,showcaps:!0,decalposition:"interior",maxvalue:100,minvalue:0,value:50,width:null}}constructor(t){this.config=Object.assign({},SimpleProgressMeter.DEFAULT_CONFIG,t),this.id||(this.id=`progress-${CFBUtils.getUniqueKey(5)}`),this.determineWidth()}determineWidth(){if(this.width)return;let t=this.maxvalue-this.minvalue,e=this.value-this.minvalue;this.value<this.minvalue&&(e=this.value),this.width=e/t*100}buildContainer(){const t=this;this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.bar=document.createElement("div"),this.bar.classList.add("simpleprogress"),this.bar.classList.add(this.style),this.bar.appendChild(this.progress),this.container=document.createElement("div"),this.container.classList.add("progressbar-container");for(let t of this.classes)this.container.classList.add(t);this.label&&this.container.append(this.labelobj),(this.currentrank||this.nextrank)&&this.decalposition&&"exterior"===this.decalposition&&(this.container.appendChild(this.decallayer),this.bar.classList.add("exteriordecal")),this.container.append(this.bar),(this.currentrank||this.nextrank)&&this.decalposition&&"exterior"!==this.decalposition&&"none"!==this.decalposition&&("exterior-bottom"===this.decalposition?(this.container.appendChild(this.decallayer),this.bar.classList.add("exteriordecal-bottom")):(this.bar.appendChild(this.decallayer),this.bar.classList.add("withdecals"))),setTimeout(function(){t.progress.style.width=`${t.width}%`},500)}buildDecalLayer(){if(!this.currentrank&&!this.nextrank&&!this.showcaps)return null;if("none"===this.decalposition)return null;if(this.decallayer=document.createElement("div"),this.decallayer.classList.add("decals"),this.decallayer.classList.add(this.decalposition),this.currentrank||this.showcaps){let t=document.createElement("div");if(t.classList.add("current"),this.currentrank){let e=document.createElement("div");e.classList.add("name"),e.innerHTML=this.currentrank,t.appendChild(e)}if(this.showcaps){let e=document.createElement("div");e.classList.add("value"),e.innerHTML=this.commaseparate?CFBUtils.readableNumber(this.minvalue):this.minvalue,t.appendChild(e)}this.decallayer.append(t)}if(this.nextrank||this.showcaps){let t=document.createElement("div");if(t.classList.add("next"),this.nextrank){let e=document.createElement("div");e.classList.add("name"),e.innerHTML=this.nextrank,t.appendChild(e)}if(this.showcaps){let e=document.createElement("div");e.classList.add("value"),e.innerHTML=this.commaseparate?CFBUtils.readableNumber(this.maxvalue):this.maxvalue,t.appendChild(e)}this.decallayer.appendChild(t)}}buildLabel(){const t=this;if(!this.label)return null;this.labelobj=document.createElement("label"),this.labelobj.setAttribute("for",this.id),this.labelobj.innerHTML=this.label,this.help&&(this.helpicon=new HelpButton({help:this.help}),this.labelobj.appendChild(this.helpicon.button),this.labelobj.addEventListener("onmouseover",function(){t.helpicon.open()}),this.labelobj.addEventListener("onmouseout",function(){t.helpicon.close()}))}toString(){return CFBUtils.getConfig(this)}get bar(){return this._bar}set bar(t){this._bar=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get commaseparate(){return this.config.commaseparate}set commaseparate(t){this.config.commaseparate=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get decallayer(){return this._decallayer||this.buildDecalLayer(),this._decallayer}set decallayer(t){this._decallayer=t}get decalposition(){return this.config.decalposition}set decalposition(t){this.config.decalposition=t}get help(){return this.config.help}set help(t){this.config.help=t}get helpicon(){return this._helpicon}set helpicon(t){this._helpicon=t}get id(){return this.config.id}set id(t){this.config.id=t}get label(){return this.config.label}set label(t){this.config.label=t}get labelobj(){return this._labelobj||this.buildLabel(),this._labelobj}set labelobj(t){this._labelobj=t}get maxvalue(){return this.config.maxvalue}set maxvalue(t){this.config.maxvalue=t}get minvalue(){return this.config.minvalue}set minvalue(t){this.config.minvalue=t}get nextrank(){return this.config.nextrank}set nextrank(t){this.config.nextrank=t}get currentrank(){return this.config.currentrank}set currentrank(t){this.config.currentrank=t}get progress(){return this._progress}set progress(t){this._progress=t}get value(){return this.config.value}set value(t){this.config.value=t}get showcaps(){return this.config.showcaps}set showcaps(t){this.config.showcaps=t}get style(){return this.config.style}set style(t){this.config.style=t}get width(){return this.config.width}set width(t){this.config.width=t}}window.SimpleProgressMeter=SimpleProgressMeter;class RadialProgressMeter extends SimpleProgressMeter{static get DEFAULT_CONFIG(){return{numberposition:"center",badge:null,stinger:null,size:"medium",style:"solid",segments:null,strokewidth:null}}constructor(t){super(t=Object.assign({},RadialProgressMeter.DEFAULT_CONFIG,t)),this.calculateSize(),this.strokewidth||(this.strokewidth=.07*this.actualsize),"ticks"===this.style&&(this.segments=null),this.radius=this.actualsize/2-2*this.strokewidth,this.circumference=2*this.radius*Math.PI}calculateSize(){if("number"==typeof this.size)this.actualsize=this.size;else if(this.size.toLowerCase().endsWith("px"))this.actualsize=parseInt(this.size),isNaN(this.actualsize)&&(console.error(`RadialProgressMeter: provided invalid size: ${this.size}`),this.actualsize=200);else if(this.size.toLowerCase().endsWith("em"))this.actualsize=CFBUtils.getSingleEmInPixels()*parseInt(this.size),isNaN(this.actualsize)&&(console.error(`RadialProgressMeter: provided invalid size: ${this.size}`),this.actualsize=200);else switch(this.size){case"small":this.actualsize=100;break;case"large":this.actualsize=400;break;case"huge":this.actualsize=800;break;case"medium":default:this.actualsize=200}this.actualsize>=800?this.sizeclass="huge":this.actualsize>=400?this.sizeclass="large":this.actualsize>=200?this.sizeclass="medium":this.actualsize>=100?this.sizeclass="small":this.sizeclass="tiny"}setProgress(t){const e=this.circumference-t/100*this.circumference;let i=this.container.querySelector(".radialcircle");if(i.style.strokeDasharray=`${this.circumference} ${this.circumference}`,i.style.strokeDashoffset=e,this.segments){let t=2*this.segments,e=(2*this.radius*Math.PI-t)/this.segments,i=this.container.querySelector(".tickmarks");i.style.strokeDasharray=`2px ${e}px`,i.style.strokeDashoffset=0}}circleTemplate(t){let e=document.createElement("circle");return e.classList.add(t),e.setAttribute("stroke-width",this.strokewidth),e.setAttribute("r",this.radius),e.setAttribute("cx",this.actualsize/2),e.setAttribute("cy",this.actualsize/2),e}buildContainer(){const t=this;this.container=document.createElement("div"),this.container.classList.add(this.sizeclass),this.container.classList.add("progressbar-container"),this.label&&this.container.appendChild(this.labelobj);let e=document.createElement("div");e.classList.add("circlewrap"),e.style.width=`${this.actualsize}`,e.style.height=`${this.actualsize}`;let i=document.createElement("svg");i.setAttribute("height",this.actualsize),i.setAttribute("width",this.actualsize),i.classList.add("progressgutter"),i.classList.add(this.style),i.appendChild(this.circleTemplate("gutter")),i.appendChild(this.circleTemplate("radialcircle")),(this.segments||"ticks"===this.style)&&i.appendChild(this.circleTemplate("tickmarks")),e.appendChild(i),e.appendChild(this.decallayer),this.container.appendChild(e),this.container.innerHTML=this.container.innerHTML,this.setProgress(0);window.setTimeout(function(){t.setProgress(t.value)},500)}buildDecalLayer(){this.badge||(this.badge=`${this.value}<sup>%</sup>`),this.badgeobj=document.createElement("div"),this.badgeobj.classList.add("badge"),this.badgeobj.innerHTML=this.badge,this.stinger&&(this.stingerobj=document.createElement("div"),this.stingerobj.classList.add("stinger"),this.stingerobj.innerHTML=this.stinger),this.decallayer=document.createElement("div"),this.decallayer.classList.add("decals"),this.decallayer.classList.add(this.numberposition),this.decallayer.appendChild(this.badgeobj),this.stinger&&this.decallayer.appendChild(this.stingerobj)}get actualsize(){return this._actualsize}set actualsize(t){this._actualsize=t}get badge(){return this.config.badge}set badge(t){this.config.badge=t}get badgeobj(){return this._badgeobj}set badgeobj(t){this._badgeobj=t}get circumference(){return this._circumference}set circumference(t){this._circumference=t}get numberposition(){return this.config.numberposition}set numberposition(t){this.config.numberposition=t}get radius(){return this._radius}set radius(t){this._radius=t}get size(){return this.config.size}set size(t){this.config.size=t}get sizeclass(){return this._sizeclass}set sizeclass(t){this._sizeclass=t}get stinger(){return this.config.stinger}set stinger(t){this.config.stinger=t}get stingerobj(){return this._stingerobj}set stingerobj(t){this._stingerobj=t}get strokewidth(){return this.config.strokewidth}set strokewidth(t){this.config.strokewidth=t}get style(){return this.config.style}set style(t){this.config.style=t}get segments(){return this.config.segments}set segments(t){this.config.segments=t}get wrap(){return this._wrap}set wrap(t){this._wrap=t}}window.RadialProgressMeter=RadialProgressMeter;class DataGrid extends Panel{static get DEFAULT_CONFIG(){return{title:null,id:null,sortable:!0,fields:[],data:null,source:null,dataprocessor:null,savestate:!0,demphasizeduplicates:!0,columnconfigurationicon:"table",searchable:!0,exportable:!0,exporticon:"download",exportheaderrow:"readable",exportfilename:function(t){return t.title?`${t.title}-export.csv`:"export.csv"},exportarrayseparator:", ",filterable:!0,applyfiltersicon:"checkmark-circle",actionsbuttonicon:"menu",selectable:!0,selectaction:function(t){},doubleclick:null,spinnerstyle:"spin",spinnertext:TextFactory.get("datagrid-spinnertext"),multiselect:!0,multiselectactions:[],multiselecticon:"checkmark",allowedits:!0,instructionsicon:"help-circle",edititeminstructions:"datagrid-dialog-item-edit-instructions",createiteminstructions:"datagrid-dialog-item-create-instructions",deleteiteminstructions:"datagrid-dialog-item-delete-instructions",duplicateiteminstructions:"datagrid-dialog-item-duplicate-instructions",rowactions:null,rowactionsicon:"menu",updatehook:function(t,e){},deletehook:function(t,e){},duplicatehook:function(t,e){},createhook:function(t,e){},activitynotifiericon:"gear-complex",activitynotifiertext:TextFactory.get("datagrid-activitynotifier-text"),texttotal:"total",sorticon:"chevron-down",classes:[]}}constructor(t){super(t=Object.assign({},DataGrid.DEFAULT_CONFIG,t));const e=this;if(this.id?this.savekey=`grid-test-${this.id}`:this.id=`grid-${CFBUtils.getUniqueKey(5)}`,this.fields.length>0&&!GridField.prototype.isPrototypeOf(this.fields[0])){let t=[];for(let e of this.fields){new GridField(e);t.push(new GridField(e))}this.fields=t}for(let t of this.fields)t.identifier&&(this.identifier=t.name);this.activefilters=[],this.loadstate(),setTimeout(function(){e.fillData()},100)}fillData(){const t=this;if(this.shade.activate(),this.data){for(let t of this.data)this.gridbody.appendChild(this.buildRow(t));setTimeout(function(){t.postLoad(),t.shade.deactivate()},100)}else this.source&&this.fetchData(this.source,function(e){t.update(e),t.postLoad(),t.shade.deactivate()})}postLoad(){this.applystate(),this.grindDuplicateCells()}get multiselecting(){return this.grid.classList.contains("multiselecting")}get ispersistable(){return!!(this.savestate&&this.savekey&&window.localStorage)}getValues(t){let e=[];for(let i of this.data)e.push(i[t]);return e}getUniqueValues(t){let e=new Set;for(let i of this.data)e.add(i[t]);return Array.from(e).sort()}getField(t){let e;for(let i of this.fields)if(i.name===t){e=i;break}return e}export(t){let e;this.exportbutton&&this.exportbutton.disable(),e=this.exportfilename&&"function"==typeof this.exportfilename?this.exportfilename(this):this.exportfilename;let i=this.compileCSV(t),n=document.createElement("a");n.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURI(i)}`),n.setAttribute("id","downloadLink"),n.setAttribute("target","_blank"),n.setAttribute("download",e),n.click(),this.exportbutton&&this.exportbutton.enable()}compileCSV(t){let e=[];if(this.exportheaderrow&&"no"!==this.exportheaderrow){let i=[],n=[];for(let e of this.fields)t&&e.hidden||(i.push(`"${e.label.replace(/"/g,'\\"')}"`),n.push(`"${e.name.replace(/"/g,'\\"')}"`));"readable"===this.exportheaderrow?e.push(`${i.join(",")}`):e.push(`${n.join(",")}`)}for(let i of this.data){let n=!0;if(t&&this.activefilters&&this.activefilters.length>0)for(let t of this.activefilters){let e=this.getField(t.field);n=this.testFilter(e,t,i[t.field])}if(!n)continue;let s=[];for(let e of this.fields){if(t&&e.hidden)continue;let n;switch(e.type){case"date":n=i[e.name].toString().replace(/"/g,'\\"');break;case"stringarray":n=i[e.name].join(this.exportarrayseparator).replace(/"/g,'\\"');break;case"number":case"time":n=i[e.name];break;case"string":case"paragraph":default:n=i[e.name].replace(/"/g,'\\"')}s.push(`"${n}"`)}e.push(s.join(","))}return e.join("\r\n")}search(t){this.messagebox.classList.add("hidden");let e=Array.from(this.gridbody.childNodes),i=0,n=!1;for(let s of e){let e=!1;if(s.setAttribute("data-search-hidden",!0),t&&""!==t){let i=Array.from(s.childNodes);for(let s of i){if(e)break;s.classList.contains("mechanical")||-1!==s.innerHTML.toLowerCase().indexOf(t.toLowerCase())&&(s.classList.contains("hidden")?n=!0:e=!0)}}else e=!0;e&&(i++,s.removeAttribute("data-search-hidden"))}if(i<=0){this.messagebox.innerHTML="";let t=[TextFactory.get("search_noresults")];n&&t.push(TextFactory.get("matches_hidden_columns")),this.messagebox.append(new MessageBox({warningstitle:TextFactory.get("no_results"),warnings:t,classes:["hidden"]}).container),this.messagebox.classList.remove("hidden")}}sortField(t,e="asc"){let i=this.thead.querySelector(`[data-name='${t}']`),n=this.thead.querySelectorAll("th");for(let t of n)t.removeAttribute("data-sort");i.setAttribute("data-sort",e);let s=Array.from(this.gridbody.childNodes);s.sort(function(i,n){let s=i.querySelector(`[data-name='${t}']`).innerHTML,a=n.querySelector(`[data-name='${t}']`).innerHTML;if("asc"===e){if(s<a)return-1;if(s>a)return 1}else{if(s>a)return-1;if(s<a)return 1}return 0}),this.gridbody.innerHTML="";for(let t of s)this.gridbody.appendChild(t);this.currentsort={field:t,direction:e},this.grindDuplicateCells()}togglesort(t){let e=this.gridheader.querySelector(`[data-name='${t}'`),i="asc";e&&e.getAttribute("data-sort")&&"asc"===e.getAttribute("data-sort")&&(i="desc"),this.sortField(t,i)}configurator(t){const e=this;let i={actions:[]};switch(t){case"column":i.title=TextFactory.get("configure_columns");let s=new ColumnConfigurator({grid:e});i.content=s.container,i.actions.push(new ConstructiveButton({text:TextFactory.get("save_columns"),icon:"disc-check",action:function(){n.close()}}));break;case"filter":i.title=TextFactory.get("manage_filters");let a=new FilterConfigurator({fields:this.fields,filters:this.activefilters});i.content=a.container,i.actions.push(new ConstructiveButton({text:TextFactory.get("apply_filters"),icon:"disc-check",action:function(){a.grindFilters(),e.activefilters=a.filters,e.applyFilters(),e.persist(),n.close()}}))}i.actions.push("closebutton");let n=new DialogWindow(i);n.open()}datawindow(t,e){let i,n={actions:[]};switch(t){case"edit":n.title=TextFactory.get("datagrid-dialog-item-edit",this.elementname),n.form=new SimpleForm(this.buildForm(e,t)),n.actions=["cancelbutton"];break;case"create":n.title=TextFactory.get("datagrid-dialog-item-create",this.elementname),n.form=new SimpleForm(this.buildForm(e,t)),n.actions=["cancelbutton"];break;case"duplicate":n.title=TextFactory.get("datagrid-dialog-item-duplicate",this.elementname),this.identifier&&delete e[this.identifier],n.actions=["cancelbutton"],n.form=new SimpleForm(this.buildForm(e,t));break;case"delete":n.title=TextFactory.get("datagrid-dialog-item-delete",this.elementname),n.actions=["cancelbutton"],n.form=new SimpleForm(this.buildForm(e,t));break;case"view":default:n.title=TextFactory.get("datagrid-dialog-item-view",this.elementname),n.actions=["closebutton"],n.form=new SimpleForm(this.buildForm(e,t))}(i=new DialogWindow(n)).open()}buildForm(t,e){const i=this;let n={passive:!1,elements:[],actions:[],handler:function(t,e){e({success:!1,errors:["Handler is not defined."]})}};for(let e of this.fields){let i=e.getElement(t[e.name]);n.elements.push(i)}switch(this.allowedits||(e="view"),e){case"edit":this.edititeminstructions&&(n.instructions={icon:this.instructionsicon,instructions:[TextFactory.get(this.edititeminstructions,this.elementname)]}),this.updatehook&&"function"==typeof this.updatehook&&(n.handler=function(t,e){i.updatehook(t)}),n.actions=[new ConstructiveButton({text:TextFactory.get("datagrid-dialog-item-save",this.elementname),icon:"check-circle",submits:!0,disabled:!0})];break;case"duplicate":this.duplicateiteminstructions&&(n.instructions={icon:this.instructionsicon,instructions:[TextFactory.get(this.duplicateiteminstructions,this.elementname)]}),this.createhook&&"function"==typeof this.createhook&&(n.handler=function(t,e){i.createhook(t)}),n.actions=[new ConstructiveButton({text:TextFactory.get("datagrid-dialog-item-duplicate",this.elementname),icon:"duplicate",submits:!0,disabled:!0})];break;case"create":this.createiteminstructions&&(n.instructions={icon:this.instructionsicon,instructions:[TextFactory.get(this.createiteminstructions,this.elementname)]}),this.createhook&&"function"==typeof this.createhook&&(n.handler=function(t,e){i.createhook(t)}),n.actions=[new ConstructiveButton({text:TextFactory.get("datagrid-dialog-item-create",this.elementname),icon:"plus-circle",submits:!0,disabled:!0})];break;case"delete":this.deleteiteminstructions&&(n.instructions={icon:this.instructionsicon,instructions:[TextFactory.get(this.deleteiteminstructions,this.elementname)]}),this.deletehook&&"function"==typeof this.deletehook&&(n.handler=function(t,e){i.deletehook(t)}),n.passive=!0,n.elements=[new HiddenField({name:this.identifier,hidden:!0,value:t[this.identifier]})],n.actions=[new ConstructiveButton({text:[TextFactory.get("datagrid-dialog-item-delete",this.elementname)],icon:"trashcan",submits:!0,disabled:!0})];break;case"view":n.passive=!0}return n}grindDuplicateCells(){if(!this.demphasizeduplicates)return;let t;for(let e of this.gridbody.querySelectorAll("tr")){if(!t){let i=(t=e).querySelectorAll("td:not(.mechanical)");for(let t of i)t.classList.remove("duplicate");continue}let i=t.querySelectorAll("td:not(.mechanical)"),n=e.querySelectorAll("td:not(.mechanical)");for(let t=0;t<n.length;t++)this.getField(n[t].getAttribute("data-name")).nodupe||(n[t].innerHTML===i[t].innerHTML?n[t].classList.add("duplicate"):n[t].classList.remove("duplicate"));t=e}}clear(){this.data=[],this.gridbody.innerHTML="",this.gridPostProcess()}gridPostProcess(){this.updateCount(),this.currentsort&&this.sortField(this.currentsort.field,this.currentsort.direction),this.applyFilters(),this.search(this.searchcontrol.value),this.grindDuplicateCells()}fetchData(t=this.source,e){this.activitynotifier.removeAttribute("aria-hidden"),fetch(t,{headers:{"Content-Type":"application/json; charset=utf-8"}}).then(t=>t.json()).then(t=>{t=this.dataprocessor&&"function"==typeof this.dataprocessor?this.dataprocessor(t):t.data,e&&"function"==typeof e?e(t):this.update(t),this.activitynotifier.setAttribute("aria-hidden","true")}).catch(e=>{console.error(`Error while fetching data from ${t}`),console.error(e)})}mergeData(t=this.source){const e=this;this.fetchData(t,function(t){e.update(t)})}getEntry(t){if(!this.identifier)return null;let e;for(let i of this.data)if(i[this.identifier]&&i[this.identifier]===t){e=i;break}return e}update(t){this.data||(this.data=[]);for(let e of t)if(this.identifier){let t=e[this.identifier];this.getEntry(t)?this.updateEntry(e):this.addEntry(e)}else this.addEntry(e);this.gridPostProcess()}updateEntry(t){let e=t[this.identifier],i=this.gridbody.querySelector(`[data-rowid=${this.id}-r-${e}]`);for(let i of this.data)if(i[this.identifier]&&i[this.identifier]===e){for(let e in t)i[e]=t[e];break}for(let e in t){if(e===this.identifier)continue;let n=i.querySelector(`[data-name=${e}`),s=this.buildCell(t,this.getField(e));i.replaceChild(s,n)}}addEntry(t){this.gridbody.appendChild(this.buildRow(t)),this.data.push(t)}deleteRow(t){let e=0;for(let i of this.data){if(i.rowid&&i.rowid===t)break;e++}this.data.splice(e,1),this.gridbody.removeChild(this.gridbody.querySelector(`[data-rowid='${t}'`)),this.gridPostProcess()}toggleColumn(t){t.hidden?this.showColumn(t):this.hideColumn(t),this.persist()}handleColumnPresences(){let t=!1;for(let e of this.fields)if(!e.hidden){t=!0;break}t?this.messagebox.classList.add("hidden"):(this.messagebox.innerHTML="",this.messagebox.append(new MessageBox({warningstitle:TextFactory.get("no_columns"),warnings:[TextFactory.get("datagrid-message-no_visible_columns")],classes:["hidden"]}).container),this.messagebox.classList.remove("hidden"))}hideColumn(t){t.hidden=!0;for(let e of Array.from(this.grid.querySelectorAll(`[data-name='${t.name}']`)))e.classList.add("hidden");this.handleColumnPresences()}showColumn(t){t.hidden=!1;for(let e of Array.from(this.grid.querySelectorAll(`[data-name='${t.name}']`)))e.classList.remove("hidden");this.handleColumnPresences()}persist(){this.ispersistable&&(this.state=this.grindstate(),localStorage.setItem(this.savekey,JSON.stringify(this.state)))}loadstate(){this.ispersistable?(this.state=JSON.parse(localStorage.getItem(this.savekey)),this.state||(this.state=this.grindstate())):this.state||(this.state=this.grindstate())}applystate(){if(this.state){if(this.state.fields)for(let t of Object.values(this.state.fields))t.hidden?this.hideColumn(this.getField(t.name)):this.showColumn(this.getField(t.name));this.state.filters&&(this.activefilters=this.state.filters),this.applyFilters()}}grindstate(){let t={fields:{},filters:[],search:null};for(let e of this.fields)void 0===e.hidden&&(e.hidden=!1),t.fields[e.name]={name:e.name,hidden:e.hidden};for(let e of this.activefilters)t.filters.push({filterid:e.filterid,field:e.field,comparator:e.comparator,value:e.value});return t}removeFilter(t){let e=[];for(let i of this.activefilters)i.filterid!==t.filterid&&e.push(i);this.activefilters=e,this.persist(),this.applyFilters()}applyFilters(){const t=this;let e=Array.from(this.gridbody.childNodes);if(this.filtertags.innerHTML="",this.activefilters&&Object.values(this.activefilters).length>0){this.filterinfo.setAttribute("aria-expanded",!0);for(let e of this.activefilters)e.tagbutton=new TagButton({text:this.getField(e.field).label,tooltip:`${this.getField(e.field).label} ${GridField.getComparatorLabel(e.comparator)} ${e.value}`,action:function(){t.removeFilter(e)}}),this.filtertags.appendChild(e.tagbutton.button)}else this.filterinfo.removeAttribute("aria-expanded");for(let t of e)if(t.removeAttribute("data-matched-filters"),t.classList.remove("filtered"),this.activefilters&&this.activefilters.length>0){let e=[];for(let i of this.activefilters){let n=this.getField(i.field),s=!1,a=t.querySelector(`[data-name='${i.field}']`);(s=this.testFilter(n,i,a.innerHTML))?e.push(i.field):t.classList.add("filtered")}e.length>0?t.setAttribute("data-matched-filters",e.join(",")):t.removeAttribute("data-matched-filters")}let i=this.gridbody.querySelector("tr:not(.filtered)");i&&0!==i.length?this.messagebox.classList.add("hidden"):(this.messagebox.innerHTML="",this.messagebox.append(new MessageBox({warningstitle:this.allfilteredtitle,warnings:[this.allfilteredtext],classes:["hidden"]}).container),this.messagebox.classList.remove("hidden"))}testFilter(t,e,i){let n,s=e.value;switch(t.type){case"date":case"time":switch(i=new Date(i),s=new Date(s),e.comparator){case"isbefore":n=i.getTime()<s.getTime();break;case"isafter":n=i.getTime()>s.getTime();break;case"doesnotequal":n=i.getTime()!==s.getTime();break;case"equals":default:n=i.getTime()===s.getTime()}break;case"number":switch(i=parseInt(i),s=parseInt(s),e.comparator){case"isgreaterthan":n=i>s;break;case"islessthan":n=i<s;break;case"doesnotequal":n=i!==s;break;case"equals":default:n=i===s}break;case"boolean":switch(e.comparator){case"equals":n=i===s;break;case"doesnotequal":n=i!==s}break;default:switch(i=i.toLowerCase(),s=s.toLowerCase(),e.comparator){case"equals":n=i===s;break;case"doesnotequal":n=i!==s;break;case"startswith":n=i.startsWith(s);break;case"endswith":n=i.endsWith(s);break;case"notcontains":n=-1===i.toLowerCase().indexOf(s.toLowerCase());break;case"contains":default:n=-1!==i.toLowerCase().indexOf(s.toLowerCase())}}return n}select(t,e){if("true"===t.getAttribute("aria-selected"))return void this.deselect(t);let i=!0,n=!1;this.multiselecting?i=!1:this.multiselect&&e&&"click"===e.type&&(e.shiftKey||e.metaKey)&&(i=!1);let s=this.gridbody.querySelectorAll("[aria-selected='true'");if(s&&s.length>0&&(n=!0),i){n=!1;for(let t of s)this.deselect(t)}if(e&&e.shiftKey&&n){let e=[],i=!1,n=!1,s=this.gridbody.querySelectorAll("tr");for(let a of s)if(a.getAttribute("data-rowid")===t.getAttribute("data-rowid")){if(n=!0,i)break;e=[],i=!0}else if("true"===a.getAttribute("aria-selected")){if(i&&n)break;i?e=[]:i=!0}else i&&e.push(a);for(let t of e)t.setAttribute("aria-selected","true"),t.querySelector("input.selector").checked=!0;t.setAttribute("aria-selected","true"),t.querySelector("input.selector").checked=!0}else t.setAttribute("aria-selected","true"),t.querySelector("input.selector").checked=!0,this.selectaction&&"function"==typeof this.selectaction&&this.selectaction(this)}deselect(t){t.removeAttribute("aria-selected"),t.querySelector("input.selector").checked=!1}toggleallselect(t){let e=this.gridbody.querySelectorAll("tr");for(let i of e)t?this.select(i):this.deselect(i)}selectmodetoggle(){this.multiselecting?this.grid.classList.remove("multiselecting"):this.grid.classList.add("multiselecting")}buildContainer(){const t=this;this.container=document.createElement("div"),this.container.classList.add("datagrid-container"),this.container.classList.add("panel"),this.container.setAttribute("id",this.id),this.container.setAttribute("aria-expanded","true"),this.title&&this.container.append(this.header),this.container.append(this.gridinfo),this.filterable&&this.container.append(this.filterinfo),this.grid.appendChild(this.thead),this.grid.appendChild(this.gridbody),this.gridwrapper=document.createElement("div"),this.gridwrapper.classList.add("grid-wrapper"),this.gridwrapper.appendChild(this.shade.container),this.gridwrapper.appendChild(this.grid),this.container.append(this.gridwrapper),this.gridwrapper.onscroll=function(e){t.gridwrapper.scrollLeft>0?t.grid.classList.add("schoriz"):t.grid.classList.remove("schoriz"),t.gridwrapper.scrollTop>0?t.grid.classList.add("scvert"):t.grid.classList.remove("scvert")},this.messagebox=document.createElement("div"),this.messagebox.classList.add("messages"),this.messagebox.classList.add("hidden"),this.container.append(this.messagebox),this.minimized&&(this.container.setAttribute("aria-expanded","false"),this.minimized=!0),this.hidden&&this.hide()}buildShade(){this.shade=new LoadingShade({spinnertext:this.spinnertext,spinnerstyle:this.spinnerstyle})}buildFilterInfo(){this.filterinfo=document.createElement("div"),this.filterinfo.classList.add("grid-filterinfo");let t=document.createElement("label");t.innerHTML=TextFactory.get("filters"),this.filterinfo.appendChild(t),this.filtertags=document.createElement("div"),this.filtertags.classList.add("grid-filtertags"),this.filterinfo.appendChild(this.filtertags)}updateCount(){this.data&&(this.itemcount.innerHTML=this.data.length)}buildGridInfo(){const t=this;if(this.gridinfo=document.createElement("div"),this.gridinfo.classList.add("grid-info"),this.itemcountlabel=document.createElement("label"),this.itemcountlabel.innerHTML=TextFactory.get("items_label"),this.itemcount=document.createElement("span"),this.itemcount.classList.add("itemcount"),this.updateCount(),this.activitynotifier=document.createElement("div"),this.activitynotifier.classList.add("activity"),this.activitynotifier.setAttribute("aria-hidden","true"),this.activitynotifiericon&&this.activitynotifier.appendChild(IconFactory.icon(this.activitynotifiericon)),this.activitynotifiertext){let t=document.createElement("span");t.innerHTML=this.activitynotifiertext,this.activitynotifier.appendChild(t)}this.itemcountbox=document.createElement("div"),this.itemcountbox.classList.add("countbox"),this.itemcountbox.appendChild(this.itemcountlabel),this.itemcountbox.appendChild(this.itemcount),this.itemcountbox.appendChild(this.activitynotifier),this.gridinfo.appendChild(this.itemcountbox),this.searchable&&(this.searchcontrol=new SearchControl({arialabel:TextFactory.get("search_this_data"),placeholder:TextFactory.get("search_this_data"),searchtext:TextFactory.get("search"),action:function(e){t.search(e)}}),this.gridinfo.append(this.searchcontrol.container)),this.filterable&&(this.filterbutton=new SimpleButton({mute:!0,text:TextFactory.get("filters"),icon:this.filterbuttonicon,tooltip:TextFactory.get("datagrid-tooltip-filters"),classes:["filter"],action:function(){t.configurator("filter")}}),this.gridinfo.append(this.filterbutton.button));let e=[];this.multiselect&&e.push({label:TextFactory.get("bulk_select"),tooltip:TextFactory.get("datagrid-tooltip-bulk_select"),icon:this.multiselecticon,action:function(){t.selectmodetoggle()}}),e.push({label:TextFactory.get("columns"),icon:this.columnconfigurationicon,tooltip:TextFactory.get("datagrid-tooltip-configure_columns"),action:function(){t.configurator("column")}}),this.exportable&&(e.push({label:TextFactory.get("export"),tooltip:TextFactory.get("datagrid-tooltip-export"),icon:this.exporticon,action:function(){t.export()}}),e.push({label:TextFactory.get("export-current_view"),tooltip:TextFactory.get("datagrid-tooltip-export-current_view"),icon:this.exporticon,action:function(){t.export(!0)}})),this.actionsbutton=new ButtonMenu({mute:!0,shape:"square",secondicon:null,tooltipgravity:"w",text:TextFactory.get("actions"),icon:this.actionsbuttonicon,classes:["actions"],items:e}),this.gridinfo.append(this.actionsbutton.button)}buildGrid(){this.grid=document.createElement("table"),this.grid.classList.add("grid"),this.selectable&&this.grid.classList.add("selectable")}buildTableHead(){const t=this;if(this.multiselect){this.masterselector=new BooleanToggle({onchange:function(e){t.toggleallselect(e.checked)}});let e=document.createElement("th");e.classList.add("selector"),e.classList.add("mechanical"),e.appendChild(this.masterselector.naked),this.gridheader.appendChild(e)}if(this.rowactions&&this.rowactions.length>0){let t=document.createElement("th");t.classList.add("actions"),t.classList.add("mechanical"),t.innerHTML="",this.gridheader.appendChild(t)}for(let t of this.fields)this.gridheader.appendChild(this.buildHeaderCell(t));this.thead=document.createElement("thead"),this.thead.appendChild(this.gridheader)}buildHeaderCell(t){const e=this;let i=document.createElement("div");i.classList.add("th"),i.innerHTML=t.label,this.sorticon&&i.classList.add(`cfb-${this.sorticon}`);let n=document.createElement("th");return n.setAttribute("id",`${this.id}-h-c-${t.name}`),n.setAttribute("data-name",t.name),n.setAttribute("data-datatype",t.type),n.classList.add(t.type),n.appendChild(i),t.resize&&n.classList.add("resize"),t.nodupe&&n.classList.add("nodupe"),t.hidden&&n.classList.add("hidden"),t.description&&new ToolTip({text:t.description}).attach(i),this.sortable&&(n.setAttribute("tabindex","0"),n.addEventListener("click",function(i){i.preventDefault(),e.togglesort(t.name)}),n.addEventListener("keyup",function(i){switch(i.preventDefault(),i.key){case"Enter":case" ":e.togglesort(t.name)}})),this.headercells[t.name]=n,n}buildGridBody(){this.gridbody=document.createElement("tbody")}buildGridHeader(){this.gridheader=document.createElement("tr"),this.gridheader.classList.add("header")}buildRow(t){const e=this;let i=document.createElement("tr");if(this.identifier&&i.setAttribute("data-id",t[this.identifier]),this.selectable&&(i.setAttribute("tabindex","0"),this.identifier?i.setAttribute("data-rowid",`${this.id}-r-${t[this.identifier]}`):i.setAttribute("data-rowid",`row-${CFBUtils.getUniqueKey(5)}`),t.rowid=i.getAttribute("data-rowid"),i.addEventListener("click",function(t){t.target.classList.contains("mechanical")||(t.shiftKey&&(t.preventDefault(),t.stopPropagation(),document.getSelection().removeAllRanges()),e.selectable&&e.select(i,t))}),i.addEventListener("keydown",function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":t.preventDefault();let e=i.parentNode.rows[i.rowIndex-2];e&&e.focus();break;case"ArrowRight":case"ArrowDown":t.preventDefault();let n=i.parentNode.rows[i.rowIndex];n&&n.focus();break;case"Enter":case" ":i.click()}})),this.multiselect){let t=new BooleanToggle({classes:["selector"],onchange:function(t){"true"===i.getAttribute("aria-selected")?i.removeAttribute("aria-selected"):i.setAttribute("aria-selected","true")}}),e=document.createElement("td");e.classList.add("selector"),e.classList.add("mechanical"),e.appendChild(t.naked),i.appendChild(e)}if(i.addEventListener("dblclick",function(i,n){e.doubleclick&&"function"==typeof e.doubleclick?e.doubleclick(i,n):e.datawindow("view",t)}),this.rowactions&&this.rowactions.length>0){let n=document.createElement("td");n.classList.add("actions"),n.classList.add("mechanical");let s=[];for(let i of this.rowactions){let n={label:i.label,toolip:i.tooltip,icon:i.icon,tipicon:i.tipicon};switch(i.type){case"edit":n.action=function(i,n){e.datawindow("edit",t)};break;case"delete":n.action=function(i,n){e.datawindow("delete",t)};break;case"duplicate":n.action=function(i,n){e.datawindow("duplicate",t)};break;case"function":n.action=i.action}s.push(n)}n.appendChild(new ButtonMenu({ghost:!0,shape:"square",data:t,secondicon:null,gravity:"east",text:TextFactory.get("actions"),icon:this.rowactionsicon,classes:["actions"],items:s}).button),i.appendChild(n)}for(let e of this.fields)i.appendChild(this.buildCell(t,e));return i}buildCell(t,e){let i,n=t[e.name];i=e.renderer(n);let s=document.createElement("td");if(s.setAttribute("data-name",e.name),s.setAttribute("data-datatype",e.type),s.classList.add(e.name),s.classList.add(e.type),s.innerHTML=i,e.classes)for(let t of e.classes)s.classList.add(t);return e.hidden&&s.classList.add("hidden"),s}buildFooter(){this.footer=document.createElement("div"),this.footer.classList.add("footer")}toString(){return CFBUtils.getConfig(this)}get actionsbutton(){return this._actionsbutton}set actionsbutton(t){this._actionsbutton=t}get actionsbuttonicon(){return this.config.actionsbuttonicon}set actionsbuttonicon(t){this.config.actionsbuttonicon=t}get activefilters(){return this._activefilters}set activefilters(t){this._activefilters=t}get activitynotifier(){return this._activitynotifier}set activitynotifier(t){this._activitynotifier=t}get activitynotifiericon(){return this.config.activitynotifiericon}set activitynotifiericon(t){this.config.activitynotifiericon=t}get activitynotifiertext(){return this.config.activitynotifiertext}set activitynotifiertext(t){this.config.activitynotifiertext=t}get allowedits(){return this.config.allowedits}set allowedits(t){this.config.allowedits=t}get columnconfigbutton(){return this._columnconfigbutton}set columnconfigbutton(t){this._columnconfigbutton=t}get columnconfigurationicon(){return this.config.columnconfigurationicon}set columnconfigurationicon(t){this.config.columnconfigurationicon=t}get createhook(){return this.config.createhook}set createhook(t){"function"!=typeof t&&console.error("Value provided to createhook is not a function!"),this.config.createhook=t}get createiteminstructions(){return this.config.createiteminstructions}set createiteminstructions(t){this.config.createiteminstructions=t}get currentsort(){return this._currentsort}set currentsort(t){this._currentsort=t}get deletehook(){return this.config.deletehook}set deletehook(t){"function"!=typeof t&&console.error("Value provided to deletehook is not a function!"),this.config.deletehook=t}get deleteiteminstructions(){return this.config.deleteiteminstructions}set deleteiteminstructions(t){this.config.deleteiteminstructions=t}get duplicatehook(){return this.config.duplicatehook}set duplicatehook(t){"function"!=typeof t&&console.error("Value provided to duplicatehook is not a function!"),this.config.duplicatehook=t}get duplicateiteminstructions(){return this.config.duplicateiteminstructions}set duplicateiteminstructions(t){this.config.duplicateiteminstructions=t}get edititeminstructions(){return this.config.edititeminstructions}set edititeminstructions(t){this.config.edititeminstructions=t}get elementname(){return this.config.elementname}set elementname(t){this.config.elementname=t}get data(){return this.config.data}set data(t){this.config.data=t}get dataprocessor(){return this.config.dataprocessor}set dataprocessor(t){this.config.dataprocessor=t}get deletehook(){return this.config.deletehook}set deletehook(t){"function"!=typeof t&&console.error("Value provided to deletehook is not a function!"),this.config.deletehook=t}get demphasizeduplicates(){return this.config.demphasizeduplicates}set demphasizeduplicates(t){this.config.demphasizeduplicates=t}get doubleclick(){return this.config.doubleclick}set doubleclick(t){"function"!=typeof t&&console.error("Value provided to doubleclick is not a function!"),this.config.doubleclick=t}get exportable(){return this.config.exportable}set exportable(t){this.config.exportable=t}get exportarrayseparator(){return this.config.exportarrayseparator}set exportarrayseparator(t){this.config.exportarrayseparator=t}get exportbutton(){return this._exportbutton}set exportbutton(t){this._exportbutton=t}get exportfilename(){return this.config.exportfilename}set exportfilename(t){this.config.exportfilename=t}get exportheaderrow(){return this.config.exportheaderrow}set exportheaderrow(t){this.config.exportheaderrow=t}get exporticon(){return this.config.exporticon}set exporticon(t){this.config.exporticon=t}get fields(){return this.config.fields}set fields(t){this.config.fields=t}get filterable(){return this.config.filterable}set filterable(t){this.config.filterable=t}get filterbutton(){return this._filterbutton}set filterbutton(t){this._filterbutton=t}get filterbuttonicon(){return this.config.filterbuttonicon}set filterbuttonicon(t){this.config.filterbuttonicon=t}get filterinfo(){return this._filterinfo||this.buildFilterInfo(),this._filterinfo}set filterinfo(t){this._filterinfo=t}get filtertags(){return this._filtertags}set filtertags(t){this._filtertags=t}get footer(){return this._footer||this.buildFooter(),this._footer}set footer(t){this._footer=t}get grid(){return this._grid||this.buildGrid(),this._grid}set grid(t){this._grid=t}get gridinfo(){return this._gridinfo||this.buildGridInfo(),this._gridinfo}set gridinfo(t){this._gridinfo=t}get gridbody(){return this._gridbody||this.buildGridBody(),this._gridbody}set gridbody(t){this._gridbody=t}get gridheader(){return this._gridheader||this.buildGridHeader(),this._gridheader}set gridheader(t){this._gridheader=t}get gridwrapper(){return this._gridwrapper}set gridwrapper(t){this._gridwrapper=t}get headercells(){return this._headercells||(this._headercells={}),this._headercells}set headercells(t){this._headercells=t}get id(){return this.config.id}set id(t){this.config.id=t}get identifier(){return this._identifier}set identifier(t){this._identifier=t}get instructionsicon(){return this.config.instructionsicon}set instructionsicon(t){this.config.instructionsicon=t}get itemcount(){return this._itemcount}set itemcount(t){this._itemcount=t}get itemcountbox(){return this._itemcountbox}set itemcountbox(t){this._itemcountbox=t}get itemcountlabel(){return this._itemcountlabel}set itemcountlabel(t){this._itemcountlabel=t}get masterselector(){return this._masterselector}set masterselector(t){this._masterselector=t}get multiselect(){return this.config.multiselect}set multiselect(t){this.config.multiselect=t}get multiselectbutton(){return this._multiselectbutton}set multiselectbutton(t){this._multiselectbutton=t}get multiselecticon(){return this.config.multiselecticon}set multiselecticon(t){this.config.multiselecticon=t}get multiselectactions(){return this.config.multiselectactions}set multiselectactions(t){this.config.multiselectactions=t}get messagebox(){return this._messagebox}set messagebox(t){this._messagebox=t}get passiveeditinstructions(){return this.config.passiveeditinstructions}set passiveeditinstructions(t){this.config.passiveeditinstructions=t}get rowactions(){return this.config.rowactions}set rowactions(t){this.config.rowactions=t}get rowactionsicon(){return this.config.rowactionsicon}set rowactionsicon(t){this.config.rowactionsicon=t}get savekey(){return this._savekey}set savekey(t){this._savekey=t}get savestate(){return this.config.savestate}set savestate(t){this.config.savestate=t}get searchable(){return this.config.searchable}set searchable(t){this.config.searchable=t}get searchcontrol(){return this._searchcontrol}set searchcontrol(t){this._searchcontrol=t}get selectable(){return this.config.selectable}set selectable(t){this.config.selectable=t}get selectaction(){return this.config.selectaction}set selectaction(t){"function"!=typeof t&&console.error("Value provided to selectaction is not a function!"),this.config.selectaction=t}get shade(){return this._shade||this.buildShade(),this._shade}set shade(t){this._shade=t}get sortable(){return this.config.sortable}set sortable(t){this.config.sortable=t}get source(){return this.config.source}set source(t){this.config.source=t}get sorticon(){return this.config.sorticon}set sorticon(t){this.config.sorticon=t}get spinnerstyle(){return this.config.spinnerstyle}set spinnerstyle(t){this.config.spinnerstyle=t}get spinnertext(){return this.config.spinnertext}set spinnertext(t){this.config.spinnertext=t}get state(){return this._state}set state(t){this._state=t}get thead(){return this._thead||this.buildTableHead(),this._thead}set thead(t){this._thead=t}get updatehook(){return this.config.updatehook}set updatehook(t){"function"!=typeof t&&console.error("Value provided to updatehook is not a function!"),this.config.updatehook=t}}window.DataGrid=DataGrid;class GridField{static get DEFAULT_CONFIG(){return{name:null,label:null,readonly:!1,hidden:!1,identifier:!1,type:"string",values:null,separator:", ",nodupe:!1,resize:!1,description:null,classes:[],filterable:!1,renderer:null}}static get COMPARATORS(){return{startswith:TextFactory.get("comparator-startswith"),endswith:TextFactory.get("comparator-endswith"),contains:TextFactory.get("comparator-contains"),notcontains:TextFactory.get("comparator-notcontains"),equals:TextFactory.get("comparator-equals"),doesnotequal:TextFactory.get("comparator-doesnotequal"),isbefore:TextFactory.get("comparator-isbefore"),isafter:TextFactory.get("comparator-isafter"),isgreaterthan:TextFactory.get("comparator-greaterthan"),islessthan:TextFactory.get("comparator-lessthan")}}static getComparatorLabel(t){return GridField.COMPARATORS[t]}constructor(t){this.config=Object.assign({},GridField.DEFAULT_CONFIG,t),this.setRenderer()}setRenderer(){const t=this;switch(this.type){case"number":this.renderer||(this.renderer=function(t){return t});break;case"date":case"time":this.renderer||(this.renderer=function(t){return t.toString()});break;case"boolean":this.renderer||(this.renderer=function(t){return t});break;case"url":this.renderer||(this.renderer=function(t){return`<a href="${t}">${t}</a>`});break;case"imageurl":this.renderer||(this.renderer=function(t){return`<a href="${t}"><img src="${t}" /></a>`});break;case"email":this.renderer||(this.renderer=function(t){return`<a href="mailto:${t}">${t}</a>`});break;case"enumeration":this.renderer||(this.renderer=function(t){return this.getValue(t)});break;case"paragraph":this.renderer||(this.renderer=function(t){return t});break;case"stringarray":this.renderer||(this.renderer=function(e){return Array.isArray(e)?e.join(t.separator):e});break;case"string":default:this.renderer||(this.renderer=function(t){return t})}}getValue(t){let e;if(this.values&&this.values.length>0)for(let t of this.values)if("key"===t.key){e=t.value;break}return e}getElement(t,e){let i;if(e||(e={name:this.name,label:this.label,help:this.description,classes:this.classes,value:t,renderer:this.renderer}),this.readonly)i=new HiddenField(e);else switch(this.type){case"number":i=new NumberInput(e);break;case"date":case"time":i=new DateInput(e);break;case"enumeration":e.options=[];for(let t of this.values)e.options.push({label:t.label,value:t.value,checked:t.default});i=new SelectMenu(e);break;case"boolean":i=new BooleanToggle(e);break;case"url":case"imageurl":i=new URLInput(e);break;case"email":i=new EmailInput(e);break;case"paragraph":i=new TextArea(e);break;case"stringarray":i=new TextInput(e);break;case"string":default:i=new TextInput(e)}return i}getComparators(){let t;switch(this.type){case"number":t=[{value:"equals",checked:!0,label:GridField.getComparatorLabel("equals")},{value:"doesnotequal",label:GridField.getComparatorLabel("doesnotequal")},{value:"isgreaterthan",label:GridField.getComparatorLabel("isgreaterthan")},{value:"islessthan",label:GridField.getComparatorLabel("islessthan")}];break;case"date":case"time":t=[{value:"equals",checked:!0,label:GridField.getComparatorLabel("equals")},{value:"doesnotequal",label:GridField.getComparatorLabel("doesnotequal")},{value:"isbefore",label:GridField.getComparatorLabel("isbefore")},{value:"isafter",label:GridField.getComparatorLabel("isafter")}];break;case"boolean":case"enumeration":t=[{value:"equals",checked:!0,label:GridField.getComparatorLabel("equals")},{value:"doesnotequal",label:GridField.getComparatorLabel("doesnotequal")}];break;case"url":case"imageurl":case"email":case"paragraph":case"stringarray":case"string":default:t=[{value:"contains",label:GridField.getComparatorLabel("contains")},{value:"notcontains",label:GridField.getComparatorLabel("notcontains")},{value:"equals",label:GridField.getComparatorLabel("equals")},{value:"doesnotequal",label:GridField.getComparatorLabel("doesnotequal")},{value:"startswith",label:GridField.getComparatorLabel("startswith")},{value:"endswith",label:GridField.getComparatorLabel("endswith")}]}return t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get description(){return this.config.description}set description(t){this.config.description=t}get filterable(){return this.config.filterable}set filterable(t){this.config.filterable=t}get hidden(){return this.config.hidden}set hidden(t){this.config.hidden=t}get identifier(){return this.config.identifier}set identifier(t){this.config.identifier=t}get label(){return this.config.label}set label(t){this.config.label=t}get name(){return this.config.name}set name(t){this.config.name=t}get nodupe(){return this.config.nodupe}set nodupe(t){this.config.nodupe=t}get readonly(){return this.config.readonly}set readonly(t){this.config.readonly=t}get renderer(){return this.config.renderer}set renderer(t){"function"!=typeof t&&console.error("Value provided to renderer is not a function!"),this.config.renderer=t}get resize(){return this.config.resize}set resize(t){this.config.resize=t}get separator(){return this.config.separator}set separator(t){this.config.separator=t}get type(){return this.config.type}set type(t){this.config.type=t}get values(){return this.config.values}set values(t){this.config.values=t}}class FilterConfigurator{static get DEFAULT_CONFIG(){return{id:null,classes:[],filters:[],fields:[],instructions:TextFactory.get("datagrid-filter-instructions")}}constructor(t){t||(t={}),this.config=Object.assign({},FilterConfigurator.DEFAULT_CONFIG,t),this.id||(this.id=`fconfig-${CFBUtils.getUniqueKey(5)}`),this.workingfilters={}}getField(t){let e;for(let i of this.fields)if(i.name===t){e=i;break}return e}grindFilters(){let t=this.elements.querySelectorAll("li.filterline"),e=[];for(let i of t){let t=this.checkValidity(i);t&&e.push(t)}this.filters=e}checkValidity(t){t.setAttribute("data-valid","false");let e,i=t.getAttribute("data-filterid"),n=t.querySelector(`input[name="primeselector-${i}"]:checked`),s=t.querySelector(`input[name="comparator-${i}"]:checked`),a=t.querySelector(`input[name="valuefield-${i}"]`);if(n&&s&&a){let o=!1,r=n.value,c=s.value,l=a.value;r&&c&&l&&(o=!0),o&&(t.setAttribute("data-valid","true"),e={filterid:i,field:r,comparator:c,value:l},this.workingfilters[i]=e)}return e}buildContainer(){const t=this;if(this.container=document.createElement("div"),this.container.classList.add("filter-configurator"),this.instructions&&this.container.append(new InstructionBox({instructions:[this.instructions]}).container),this.actions=document.createElement("div"),this.actions.classList.add("filter-actions"),this.actions.appendChild(new SimpleButton({icon:"cfb-plus",text:TextFactory.get("filter-configurator-add_filter"),action:function(){t.elements.querySelectorAll('[data-field="unset"]').length<1&&t.addFilter()}}).button),this.container.append(this.actions),this.elements=document.createElement("ul"),this.elements.classList.add("filter-list"),this.filters)for(let t of this.filters)this.addFilter(t);this.container.append(this.elements)}addFilter(t){const e=this;let i=document.createElement("li"),n=`f-tmp-${CFBUtils.getUniqueKey(5)}`;if(i.classList.add("filterline"),i.setAttribute("data-filterid",n),i.setAttribute("data-valid","false"),t){let e=this.getField(t.field);i.setAttribute("data-field",t.field),i.appendChild(this.makePrimeSelector(n,t.field).container),i.appendChild(this.makeComparatorSelector(n,e,t.comparator).container),i.appendChild(this.makeValueSelector(n,e,t.value).container),this.workingfilters[n]=t,i.setAttribute("data-valid","true")}else i.appendChild(this.makePrimeSelector(n).container),i.setAttribute("data-field","unset");let s=document.createElement("div");s.classList.add("validmarker"),s.appendChild(IconFactory.icon("checkmark-circle")),i.appendChild(s),i.appendChild(new SimpleButton({icon:"minus",shape:"square",classes:["filterkiller"],action:function(){i.getAttribute("data-field")&&"unset"!==i.getAttribute("data-field")&&delete e.workingfilters[i.getAttribute("data-filterid")],i.parentNode.removeChild(i)}}).button),this.elements.appendChild(i)}makePrimeSelector(t,e){const i=this;let n=[];for(let t of this.fields)t.filterable&&n.push({value:t.name,label:t.label});let s=new SelectMenu({minimal:!0,options:n,name:`primeselector-${t}`,value:e,placeholder:TextFactory.get("comparator-select_field"),classes:["primeselector"],onchange:function(e){let n=e.container.parentElement,a=n.querySelector("div.validmarker"),o=n.querySelector("div.select-container.comparator"),r=n.querySelector("div.input-container.valueinput"),c=i.getField(s.value);n.setAttribute("data-valid","false"),o&&n.removeChild(o),r&&n.removeChild(r),c&&(n.setAttribute("data-field",c.name),n.insertBefore(i.makeComparatorSelector(t,c).container,a),n.insertBefore(i.makeValueSelector(t,c).container,a),i.checkValidity(n))}});return s}makeComparatorSelector(t,e,i){const n=this;let s="contains",a=e.getComparators();switch(e.type){case"date":case"time":case"number":case"enumeration":s="equals"}i&&(s=i);let o=new SelectMenu({options:a,placeholder:TextFactory.get("comparator-comparator"),value:s,name:`comparator-${t}`,minimal:!0,classes:["comparator"],onchange:function(t){let e=t.container.parentElement;n.checkValidity(e)}});return o.container.setAttribute("data-field",e.name),o}makeValueSelector(t,e,i){const n=this;let s={value:i,name:`valuefield-${t}`,minimal:!0,classes:["valueinput"],onchange:function(t){let e=t.container.parentElement;n.checkValidity(e)}},a=e.getElement(i,s);return a.container.setAttribute("data-field",e.name),a}toString(){return CFBUtils.getConfig(this)}get actions(){return this._actions}set actions(t){this._actions=t}get applyfiltersbutton(){return this._applyfiltersbutton}set applyfiltersbutton(t){this._applyfiltersbutton=t}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get elements(){return this._elements}set elements(t){this._elements=t}get fields(){return this.config.fields}set fields(t){this.config.fields=t}get filters(){return this.config.filters}set filters(t){this.config.filters=t}get id(){return this.config.id}set id(t){this.config.id=t}get instructions(){return this.config.instructions}set instructions(t){this.config.instructions=t}get workingfilters(){return this._workingfilters}set workingfilters(t){this._workingfilters=t}}window.FilterConfigurator=FilterConfigurator;class ColumnConfigurator{static get DEFAULT_CONFIG(){return{id:null,classes:[],fields:[],grid:null,instructions:TextFactory.get("datagrid-column-config-instructions")}}constructor(t){t||(t={}),this.config=Object.assign({},ColumnConfigurator.DEFAULT_CONFIG,t),this.id||(this.id=`cconfig-${CFBUtils.getUniqueKey(5)}`)}buildContainer(){const t=this;this.container=document.createElement("div"),this.container.classList.add("column-configurator");for(let t of this.classes)this.container.classList.add(t);this.instructions&&this.container.append(new InstructionBox({instructions:[this.instructions]}).container),this.elements=document.createElement("ul"),this.elements.classList.add("column-list");for(let e of this.grid.fields){let i=document.createElement("li"),n=new BooleanToggle({label:e.label,checked:!e.hidden,classes:["column"],onchange:function(){t.grid.toggleColumn(e)}});if(i.appendChild(n.container),e.description){let t=document.createElement("div");t.classList.add("description"),t.innerHTML=e.description,i.appendChild(t)}this.elements.appendChild(i)}this.container.append(this.elements)}toString(){return CFBUtils.getConfig(this)}get classes(){return this.config.classes}set classes(t){this.config.classes=t}get container(){return this._container||this.buildContainer(),this._container}set container(t){this._container=t}get elements(){return this._elements}set elements(t){this._elements=t}get fields(){return this.config.fields}set fields(t){this.config.fields=t}get grid(){return this.config.grid}set grid(t){this.config.grid=t}get id(){return this.config.id}set id(t){this.config.id=t}get instructions(){return this.config.instructions}set instructions(t){this.config.instructions=t}}window.ColumnConfigurator=ColumnConfigurator;